/**
 * bibtex-tidy v1.11.0
 * https://github.com/FlamingTempura/bibtex-tidy
 *
 * DO NOT EDIT THIS FILE. This file is automatically generated
 * using `npm run build`. Edit files in './src' then rebuild.
 **/
"use strict";
function _array_like_to_array(arr, len) {
  if (len == null || len > arr.length) len = arr.length;
  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];
  return arr2;
}
function _array_with_holes(arr) {
  if (Array.isArray(arr)) return arr;
}
function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {
  try {
    var info = gen[key](arg);
    var value = info.value;
  } catch (error) {
    reject(error);
    return;
  }
  if (info.done) {
    resolve(value);
  } else {
    Promise.resolve(value).then(_next, _throw);
  }
}
function _async_to_generator(fn) {
  return function () {
    var self1 = this,
      args = arguments;
    return new Promise(function (resolve, reject) {
      var gen = fn.apply(self1, args);
      function _next(value) {
        asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value);
      }
      function _throw(err) {
        asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err);
      }
      _next(undefined);
    });
  };
}
function _define_property(obj, key, value) {
  if (key in obj) {
    Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true });
  } else {
    obj[key] = value;
  }
  return obj;
}
function _iterable_to_array(iter) {
  if ((typeof Symbol !== "undefined" && iter[Symbol.iterator] != null) || iter["@@iterator"] != null) return Array.from(iter);
}
function _iterable_to_array_limit(arr, i) {
  var _i = arr == null ? null : (typeof Symbol !== "undefined" && arr[Symbol.iterator]) || arr["@@iterator"];
  if (_i == null) return;
  var _arr = [];
  var _n = true;
  var _d = false;
  var _s, _e;
  try {
    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {
      _arr.push(_s.value);
      if (i && _arr.length === i) break;
    }
  } catch (err) {
    _d = true;
    _e = err;
  } finally {
    try {
      if (!_n && _i["return"] != null) _i["return"]();
    } finally {
      if (_d) throw _e;
    }
  }
  return _arr;
}
function _non_iterable_rest() {
  throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
}
function _object_spread(target) {
  for (var i = 1; i < arguments.length; i++) {
    var source = arguments[i] != null ? arguments[i] : {};
    var ownKeys = Object.keys(source);
    if (typeof Object.getOwnPropertySymbols === "function") {
      ownKeys = ownKeys.concat(
        Object.getOwnPropertySymbols(source).filter(function (sym) {
          return Object.getOwnPropertyDescriptor(source, sym).enumerable;
        })
      );
    }
    ownKeys.forEach(function (key) {
      _define_property(target, key, source[key]);
    });
  }
  return target;
}
function ownKeys(object, enumerableOnly) {
  var keys = Object.keys(object);
  if (Object.getOwnPropertySymbols) {
    var symbols = Object.getOwnPropertySymbols(object);
    if (enumerableOnly) {
      symbols = symbols.filter(function (sym) {
        return Object.getOwnPropertyDescriptor(object, sym).enumerable;
      });
    }
    keys.push.apply(keys, symbols);
  }
  return keys;
}
function _object_spread_props(target, source) {
  source = source != null ? source : {};
  if (Object.getOwnPropertyDescriptors) {
    Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));
  } else {
    ownKeys(Object(source)).forEach(function (key) {
      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));
    });
  }
  return target;
}
function _sliced_to_array(arr, i) {
  return _array_with_holes(arr) || _iterable_to_array_limit(arr, i) || _unsupported_iterable_to_array(arr, i) || _non_iterable_rest();
}
function _to_array(arr) {
  return _array_with_holes(arr) || _iterable_to_array(arr) || _unsupported_iterable_to_array(arr) || _non_iterable_rest();
}
function _unsupported_iterable_to_array(o, minLen) {
  if (!o) return;
  if (typeof o === "string") return _array_like_to_array(o, minLen);
  var n = Object.prototype.toString.call(o).slice(8, -1);
  if (n === "Object" && o.constructor) n = o.constructor.name;
  if (n === "Map" || n === "Set") return Array.from(n);
  if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _array_like_to_array(o, minLen);
}
function _ts_generator(thisArg, body) {
  var f,
    y,
    t,
    g,
    _ = {
      label: 0,
      sent: function () {
        if (t[0] & 1) throw t[1];
        return t[1];
      },
      trys: [],
      ops: [],
    };
  return (
    (g = { next: verb(0), throw: verb(1), return: verb(2) }),
    typeof Symbol === "function" &&
      (g[Symbol.iterator] = function () {
        return this;
      }),
    g
  );
  function verb(n) {
    return function (v) {
      return step([n, v]);
    };
  }
  function step(op) {
    if (f) throw new TypeError("Generator is already executing.");
    while (_)
      try {
        if (((f = 1), y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done)) return t;
        if (((y = 0), t)) op = [op[0] & 2, t.value];
        switch (op[0]) {
          case 0:
          case 1:
            t = op;
            break;
          case 4:
            _.label++;
            return { value: op[1], done: false };
          case 5:
            _.label++;
            y = op[1];
            op = [0];
            continue;
          case 7:
            op = _.ops.pop();
            _.trys.pop();
            continue;
          default:
            if (!((t = _.trys), (t = t.length > 0 && t[t.length - 1])) && (op[0] === 6 || op[0] === 2)) {
              _ = 0;
              continue;
            }
            if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) {
              _.label = op[1];
              break;
            }
            if (op[0] === 6 && _.label < t[1]) {
              _.label = t[1];
              t = op;
              break;
            }
            if (t && _.label < t[2]) {
              _.label = t[2];
              _.ops.push(op);
              break;
            }
            if (t[2]) _.ops.pop();
            _.trys.pop();
            continue;
        }
        op = body.call(thisArg, _);
      } catch (e) {
        op = [6, e];
        y = 0;
      } finally {
        f = t = 0;
      }
    if (op[0] & 5) throw op[1];
    return { value: op[0] ? op[1] : void 0, done: true };
  }
}
(() => {
  var _class,
    _class1,
    _class2,
    _class3,
    _class4,
    _class5,
    _class6,
    _class7,
    _class8,
    _class9,
    _class10,
    _class11,
    _class12,
    _class13,
    _class14,
    _i,
    _class15,
    _class16,
    _class17,
    _i1,
    _i2,
    _i3,
    _class18,
    _class19,
    _class20,
    _class21,
    _i4,
    _i5,
    _class22,
    _i6,
    _i7,
    _i8,
    _class23,
    _i9,
    _class24,
    _i10,
    _class25,
    _i11,
    _class26,
    _class27,
    _class28,
    _i12,
    _i13,
    _i14,
    _class29,
    _i15,
    _i16,
    _i17,
    _i18,
    _class30,
    _i19,
    _class31,
    _class32,
    _class33,
    _class34,
    _i20,
    _i21,
    _class35,
    _i22,
    _i23,
    _i24,
    _class36,
    _i25,
    _class37,
    _class38,
    _i26,
    _i27,
    _i28,
    _i29,
    _i30,
    _i31,
    _class39,
    _i32,
    _i33,
    _class40,
    _i34,
    _i35,
    _class41,
    _class42,
    _class43,
    _class44,
    _class45,
    _class46,
    _class47,
    _class48,
    _class49,
    _class50,
    _class51,
    _i36,
    _i37,
    _class52,
    _i38,
    _i39,
    _class53,
    _i40,
    _class54,
    _class55,
    _class56,
    _class57,
    _class58,
    _class59,
    _class60,
    _class61,
    _i41,
    _i42,
    _i43,
    _class62,
    _class63,
    _i44,
    _class64,
    _class65,
    _class66,
    _class67,
    _class68,
    _class69,
    _class70,
    _class71,
    _class72,
    _i45,
    _i46,
    _i47,
    _i48,
    _i49,
    _i50,
    _class73,
    _i51,
    _class74,
    _i52,
    _class75,
    _class76,
    _i53,
    _i54,
    _class77,
    _class78,
    _class79,
    _i55,
    _class80,
    _i56,
    _i57,
    _class81,
    _class82,
    _i58,
    _class83,
    _i59,
    _i60,
    _class84,
    _i61,
    _class85,
    _class86,
    _i62,
    _class87,
    _i63,
    _class88,
    _class89,
    _i64,
    _class90,
    _class91,
    _class92,
    _class93,
    _class94,
    _class95,
    _class96,
    _class97,
    _i65,
    _class98,
    _class99,
    _class100,
    _class101,
    _class102,
    _class103,
    _class104,
    _class105,
    _class106,
    _class107,
    _class108,
    _class109,
    _class110,
    _class111,
    _class112,
    _class113,
    _class114,
    _class115,
    _class116;
  var lb = Object.defineProperty;
  var a = (i, e) => lb(i, "name", { value: e, configurable: !0 });
  var k = (i, e) => () => (e || i((e = { exports: {} }).exports, e), e.exports);
  var it = k((rc, nc) => {
    var vn = a(function (i) {
      return i && i.Math == Math && i;
    }, "check");
    nc.exports =
      vn(typeof globalThis == "object" && globalThis) ||
      vn(typeof window == "object" && window) ||
      vn(typeof self == "object" && self) ||
      vn(typeof global == "object" && global) ||
      (function () {
        return this;
      })() ||
      rc ||
      Function("return this")();
  });
  var Ge = k(($3, sc) => {
    sc.exports = function (i) {
      try {
        return !!i();
      } catch (e) {
        return !0;
      }
    };
  });
  var rt = k((P3, oc) => {
    var ab = Ge();
    oc.exports = !ab(function () {
      return (
        Object.defineProperty({}, 1, {
          get: function get() {
            return 7;
          },
        })[1] != 7
      );
    });
  });
  var kn = k((L3, uc) => {
    var hb = Ge();
    uc.exports = !hb(function () {
      var i = function () {}.bind();
      return typeof i != "function" || i.hasOwnProperty("prototype");
    });
  });
  var Pt = k((q3, lc) => {
    var cb = kn(),
      wn = Function.prototype.call;
    lc.exports = cb
      ? wn.bind(wn)
      : function () {
          return wn.apply(wn, arguments);
        };
  });
  var fc = k((cc) => {
    "use strict";
    var ac = {}.propertyIsEnumerable,
      hc = Object.getOwnPropertyDescriptor,
      fb = hc && !ac.call({ 1: 2 }, 1);
    cc.f = fb
      ? a(function (e) {
          var t = hc(this, e);
          return !!t && t.enumerable;
        }, "propertyIsEnumerable")
      : ac;
  });
  var $i = k((V3, dc) => {
    dc.exports = function (i, e) {
      return { enumerable: !(i & 1), configurable: !(i & 2), writable: !(i & 4), value: e };
    };
  });
  var ze = k((z3, gc) => {
    var pc = kn(),
      mc = Function.prototype,
      Io = mc.call,
      db = pc && mc.bind.bind(Io, Io);
    gc.exports = pc
      ? db
      : function (i) {
          return function () {
            return Io.apply(i, arguments);
          };
        };
  });
  var kr = k((H3, bc) => {
    var Dc = ze(),
      pb = Dc({}.toString),
      mb = Dc("".slice);
    bc.exports = function (i) {
      return mb(pb(i), 8, -1);
    };
  });
  var yc = k((W3, Fc) => {
    var gb = ze(),
      Db = Ge(),
      bb = kr(),
      No = Object,
      Fb = gb("".split);
    Fc.exports = Db(function () {
      return !No("z").propertyIsEnumerable(0);
    })
      ? function (i) {
          return bb(i) == "String" ? Fb(i, "") : No(i);
        }
      : No;
  });
  var xn = k((j3, Cc) => {
    Cc.exports = function (i) {
      return i == null;
    };
  });
  var Sn = k((U3, Ac) => {
    var yb = xn(),
      Cb = TypeError;
    Ac.exports = function (i) {
      if (yb(i)) throw Cb("Can't call method on " + i);
      return i;
    };
  });
  var Pi = k((G3, Ec) => {
    var Ab = yc(),
      Eb = Sn();
    Ec.exports = function (i) {
      return Ab(Eb(i));
    };
  });
  var zo = k((Y3, vc) => {
    var Vo = typeof document == "object" && document.all,
      vb = typeof Vo > "u" && Vo !== void 0;
    vc.exports = { all: Vo, IS_HTMLDDA: vb };
  });
  var $e = k((K3, wc) => {
    var kc = zo(),
      kb = kc.all;
    wc.exports = kc.IS_HTMLDDA
      ? function (i) {
          return typeof i == "function" || i === kb;
        }
      : function (i) {
          return typeof i == "function";
        };
  });
  var Lt = k((X3, Bc) => {
    var xc = $e(),
      Sc = zo(),
      wb = Sc.all;
    Bc.exports = Sc.IS_HTMLDDA
      ? function (i) {
          return typeof i == "object" ? i !== null : xc(i) || i === wb;
        }
      : function (i) {
          return typeof i == "object" ? i !== null : xc(i);
        };
  });
  var wr = k((Q3, _c) => {
    var Ho = it(),
      xb = $e(),
      Sb = a(function (i) {
        return xb(i) ? i : void 0;
      }, "aFunction");
    _c.exports = function (i, e) {
      return arguments.length < 2 ? Sb(Ho[i]) : Ho[i] && Ho[i][e];
    };
  });
  var Bn = k((Z3, Oc) => {
    var Bb = ze();
    Oc.exports = Bb({}.isPrototypeOf);
  });
  var Rc = k((ex, Tc) => {
    Tc.exports = (typeof navigator < "u" && String(navigator.userAgent)) || "";
  });
  var Nc = k((tx, Ic) => {
    var qc = it(),
      Wo = Rc(),
      Mc = qc.process,
      $c = qc.Deno,
      Pc = (Mc && Mc.versions) || ($c && $c.version),
      Lc = Pc && Pc.v8,
      mt,
      _n;
    Lc && ((mt = Lc.split(".")), (_n = mt[0] > 0 && mt[0] < 4 ? 1 : +(mt[0] + mt[1])));
    !_n && Wo && ((mt = Wo.match(/Edge\/(\d+)/)), (!mt || mt[1] >= 74) && ((mt = Wo.match(/Chrome\/(\d+)/)), mt && (_n = +mt[1])));
    Ic.exports = _n;
  });
  var jo = k((ix, zc) => {
    var Vc = Nc(),
      _b = Ge(),
      Ob = it(),
      Tb = Ob.String;
    zc.exports =
      !!Object.getOwnPropertySymbols &&
      !_b(function () {
        var i = Symbol();
        return !Tb(i) || !(Object(i) instanceof Symbol) || (!Symbol.sham && Vc && Vc < 41);
      });
  });
  var Uo = k((rx, Hc) => {
    var Rb = jo();
    Hc.exports = Rb && !Symbol.sham && typeof Symbol.iterator == "symbol";
  });
  var Go = k((nx, Wc) => {
    var Mb = wr(),
      $b = $e(),
      Pb = Bn(),
      Lb = Uo(),
      qb = Object;
    Wc.exports = Lb
      ? function (i) {
          return typeof i == "symbol";
        }
      : function (i) {
          var e = Mb("Symbol");
          return $b(e) && Pb(e.prototype, qb(i));
        };
  });
  var On = k((sx, jc) => {
    var Ib = String;
    jc.exports = function (i) {
      try {
        return Ib(i);
      } catch (e) {
        return "Object";
      }
    };
  });
  var Li = k((ox, Uc) => {
    var Nb = $e(),
      Vb = On(),
      zb = TypeError;
    Uc.exports = function (i) {
      if (Nb(i)) return i;
      throw zb(Vb(i) + " is not a function");
    };
  });
  var Tn = k((ux, Gc) => {
    var Hb = Li(),
      Wb = xn();
    Gc.exports = function (i, e) {
      var t = i[e];
      return Wb(t) ? void 0 : Hb(t);
    };
  });
  var Kc = k((lx, Yc) => {
    var Yo = Pt(),
      Ko = $e(),
      Xo = Lt(),
      jb = TypeError;
    Yc.exports = function (i, e) {
      var t, r;
      if ((e === "string" && Ko((t = i.toString)) && !Xo((r = Yo(t, i)))) || (Ko((t = i.valueOf)) && !Xo((r = Yo(t, i)))) || (e !== "string" && Ko((t = i.toString)) && !Xo((r = Yo(t, i))))) return r;
      throw jb("Can't convert object to primitive value");
    };
  });
  var qi = k((ax, Xc) => {
    Xc.exports = !1;
  });
  var Rn = k((hx, Jc) => {
    var Qc = it(),
      Ub = Object.defineProperty;
    Jc.exports = function (i, e) {
      try {
        Ub(Qc, i, { value: e, configurable: !0, writable: !0 });
      } catch (e1) {
        Qc[i] = e;
      }
      return e;
    };
  });
  var Mn = k((cx, ef) => {
    var Gb = it(),
      Yb = Rn(),
      Zc = "__core-js_shared__",
      Kb = Gb[Zc] || Yb(Zc, {});
    ef.exports = Kb;
  });
  var Qo = k((fx, rf) => {
    var Xb = qi(),
      tf = Mn();
    (rf.exports = function (i, e) {
      return tf[i] || (tf[i] = e !== void 0 ? e : {});
    })("versions", []).push({ version: "3.31.0", mode: Xb ? "pure" : "global", copyright: "\xa9 2014-2023 Denis Pushkarev (zloirock.ru)", license: "https://github.com/zloirock/core-js/blob/v3.31.0/LICENSE", source: "https://github.com/zloirock/core-js" });
  });
  var $n = k((dx, nf) => {
    var Qb = Sn(),
      Jb = Object;
    nf.exports = function (i) {
      return Jb(Qb(i));
    };
  });
  var gt = k((px, sf) => {
    var Zb = ze(),
      eF = $n(),
      tF = Zb({}.hasOwnProperty);
    sf.exports =
      Object.hasOwn ||
      a(function (e, t) {
        return tF(eF(e), t);
      }, "hasOwn");
  });
  var Jo = k((gx, of) => {
    var iF = ze(),
      rF = 0,
      nF = Math.random(),
      sF = iF((1).toString);
    of.exports = function (i) {
      return "Symbol(" + (i === void 0 ? "" : i) + ")_" + sF(++rF + nF, 36);
    };
  });
  var Qe = k((Dx, lf) => {
    var oF = it(),
      uF = Qo(),
      uf = gt(),
      lF = Jo(),
      aF = jo(),
      hF = Uo(),
      Ii = oF.Symbol,
      Zo = uF("wks"),
      cF = hF ? Ii.for || Ii : (Ii && Ii.withoutSetter) || lF;
    lf.exports = function (i) {
      return uf(Zo, i) || (Zo[i] = aF && uf(Ii, i) ? Ii[i] : cF("Symbol." + i)), Zo[i];
    };
  });
  var ff = k((bx, cf) => {
    var fF = Pt(),
      af = Lt(),
      hf = Go(),
      dF = Tn(),
      pF = Kc(),
      mF = Qe(),
      gF = TypeError,
      DF = mF("toPrimitive");
    cf.exports = function (i, e) {
      if (!af(i) || hf(i)) return i;
      var t = dF(i, DF),
        r;
      if (t) {
        if ((e === void 0 && (e = "default"), (r = fF(t, i, e)), !af(r) || hf(r))) return r;
        throw gF("Can't convert object to primitive value");
      }
      return e === void 0 && (e = "number"), pF(i, e);
    };
  });
  var Pn = k((Fx, df) => {
    var bF = ff(),
      FF = Go();
    df.exports = function (i) {
      var e = bF(i, "string");
      return FF(e) ? e : e + "";
    };
  });
  var tu = k((yx, mf) => {
    var yF = it(),
      pf = Lt(),
      eu = yF.document,
      CF = pf(eu) && pf(eu.createElement);
    mf.exports = function (i) {
      return CF ? eu.createElement(i) : {};
    };
  });
  var iu = k((Cx, gf) => {
    var AF = rt(),
      EF = Ge(),
      vF = tu();
    gf.exports =
      !AF &&
      !EF(function () {
        return (
          Object.defineProperty(vF("div"), "a", {
            get: function get() {
              return 7;
            },
          }).a != 7
        );
      });
  });
  var ru = k((bf) => {
    var kF = rt(),
      wF = Pt(),
      xF = fc(),
      SF = $i(),
      BF = Pi(),
      _F = Pn(),
      OF = gt(),
      TF = iu(),
      Df = Object.getOwnPropertyDescriptor;
    bf.f = kF
      ? Df
      : a(function (e, t) {
          if (((e = BF(e)), (t = _F(t)), TF))
            try {
              return Df(e, t);
            } catch (e) {}
          if (OF(e, t)) return SF(!wF(xF.f, e, t), e[t]);
        }, "getOwnPropertyDescriptor");
  });
  var nu = k((vx, Ff) => {
    var RF = rt(),
      MF = Ge();
    Ff.exports =
      RF &&
      MF(function () {
        return Object.defineProperty(function () {}, "prototype", { value: 42, writable: !1 }).prototype != 42;
      });
  });
  var vt = k((kx, yf) => {
    var $F = Lt(),
      PF = String,
      LF = TypeError;
    yf.exports = function (i) {
      if ($F(i)) return i;
      throw LF(PF(i) + " is not an object");
    };
  });
  var kt = k((Af) => {
    var qF = rt(),
      IF = iu(),
      NF = nu(),
      Ln = vt(),
      Cf = Pn(),
      VF = TypeError,
      su = Object.defineProperty,
      zF = Object.getOwnPropertyDescriptor,
      ou = "enumerable",
      uu = "configurable",
      lu = "writable";
    Af.f = qF
      ? NF
        ? a(function (e, t, r) {
            if ((Ln(e), (t = Cf(t)), Ln(r), typeof e == "function" && t === "prototype" && "value" in r && lu in r && !r[lu])) {
              var n = zF(e, t);
              n && n[lu] && ((e[t] = r.value), (r = { configurable: uu in r ? r[uu] : n[uu], enumerable: ou in r ? r[ou] : n[ou], writable: !1 }));
            }
            return su(e, t, r);
          }, "defineProperty")
        : su
      : a(function (e, t, r) {
          if ((Ln(e), (t = Cf(t)), Ln(r), IF))
            try {
              return su(e, t, r);
            } catch (e) {}
          if ("get" in r || "set" in r) throw VF("Accessors not supported");
          return "value" in r && (e[t] = r.value), e;
        }, "defineProperty");
  });
  var qn = k((Sx, Ef) => {
    var HF = rt(),
      WF = kt(),
      jF = $i();
    Ef.exports = HF
      ? function (i, e, t) {
          return WF.f(i, e, jF(1, t));
        }
      : function (i, e, t) {
          return (i[e] = t), i;
        };
  });
  var In = k((Bx, kf) => {
    var au = rt(),
      UF = gt(),
      vf = Function.prototype,
      GF = au && Object.getOwnPropertyDescriptor,
      hu = UF(vf, "name"),
      YF = hu && a(function () {}, "something").name === "something",
      KF = hu && (!au || (au && GF(vf, "name").configurable));
    kf.exports = { EXISTS: hu, PROPER: YF, CONFIGURABLE: KF };
  });
  var fu = k((Ox, wf) => {
    var XF = ze(),
      QF = $e(),
      cu = Mn(),
      JF = XF(Function.toString);
    QF(cu.inspectSource) ||
      (cu.inspectSource = function (i) {
        return JF(i);
      });
    wf.exports = cu.inspectSource;
  });
  var Bf = k((Tx, Sf) => {
    var ZF = it(),
      e2 = $e(),
      xf = ZF.WeakMap;
    Sf.exports = e2(xf) && /native code/.test(String(xf));
  });
  var Nn = k((Rx, Of) => {
    var t2 = Qo(),
      i2 = Jo(),
      _f = t2("keys");
    Of.exports = function (i) {
      return _f[i] || (_f[i] = i2(i));
    };
  });
  var Vn = k((Mx, Tf) => {
    Tf.exports = {};
  });
  var Wn = k(($x, $f) => {
    var r2 = Bf(),
      Mf = it(),
      n2 = Lt(),
      s2 = qn(),
      du = gt(),
      pu = Mn(),
      o2 = Nn(),
      u2 = Vn(),
      Rf = "Object already initialized",
      mu = Mf.TypeError,
      l2 = Mf.WeakMap,
      zn,
      xr,
      Hn,
      a2 = a(function (i) {
        return Hn(i) ? xr(i) : zn(i, {});
      }, "enforce"),
      h2 = a(function (i) {
        return function (e) {
          var t;
          if (!n2(e) || (t = xr(e)).type !== i) throw mu("Incompatible receiver, " + i + " required");
          return t;
        };
      }, "getterFor");
    r2 || pu.state
      ? ((Dt = pu.state || (pu.state = new l2())),
        (Dt.get = Dt.get),
        (Dt.has = Dt.has),
        (Dt.set = Dt.set),
        (zn = a(function (i, e) {
          if (Dt.has(i)) throw mu(Rf);
          return (e.facade = i), Dt.set(i, e), e;
        }, "set")),
        (xr = a(function (i) {
          return Dt.get(i) || {};
        }, "get")),
        (Hn = a(function (i) {
          return Dt.has(i);
        }, "has")))
      : ((hi = o2("state")),
        (u2[hi] = !0),
        (zn = a(function (i, e) {
          if (du(i, hi)) throw mu(Rf);
          return (e.facade = i), s2(i, hi, e), e;
        }, "set")),
        (xr = a(function (i) {
          return du(i, hi) ? i[hi] : {};
        }, "get")),
        (Hn = a(function (i) {
          return du(i, hi);
        }, "has")));
    var Dt, hi;
    $f.exports = { set: zn, get: xr, has: Hn, enforce: a2, getterFor: h2 };
  });
  var bu = k((Lx, qf) => {
    var Du = ze(),
      c2 = Ge(),
      f2 = $e(),
      jn = gt(),
      gu = rt(),
      d2 = In().CONFIGURABLE,
      p2 = fu(),
      Lf = Wn(),
      m2 = Lf.enforce,
      g2 = Lf.get,
      Pf = String,
      Un = Object.defineProperty,
      D2 = Du("".slice),
      b2 = Du("".replace),
      F2 = Du([].join),
      y2 =
        gu &&
        !c2(function () {
          return Un(function () {}, "length", { value: 8 }).length !== 8;
        }),
      C2 = String(String).split("String"),
      A2 = (qf.exports = function A2(i, e, t) {
        D2(Pf(e), 0, 7) === "Symbol(" && (e = "[" + b2(Pf(e), /^Symbol\(([^)]*)\)/, "$1") + "]"), t && t.getter && (e = "get " + e), t && t.setter && (e = "set " + e), (!jn(i, "name") || (d2 && i.name !== e)) && (gu ? Un(i, "name", { value: e, configurable: !0 }) : (i.name = e)), y2 && t && jn(t, "arity") && i.length !== t.arity && Un(i, "length", { value: t.arity });
        try {
          t && jn(t, "constructor") && t.constructor ? gu && Un(i, "prototype", { writable: !1 }) : i.prototype && (i.prototype = void 0);
        } catch (e) {}
        var r = m2(i);
        return jn(r, "source") || (r.source = F2(C2, typeof e == "string" ? e : "")), i;
      });
    Function.prototype.toString = A2(
      a(function () {
        return (f2(this) && g2(this).source) || p2(this);
      }, "toString"),
      "toString"
    );
  });
  var Ni = k((Ix, If) => {
    var E2 = $e(),
      v2 = kt(),
      k2 = bu(),
      w2 = Rn();
    If.exports = function (i, e, t, r) {
      r || (r = {});
      var n = r.enumerable,
        s = r.name !== void 0 ? r.name : e;
      if ((E2(t) && k2(t, s, r), r.global)) n ? (i[e] = t) : w2(e, t);
      else {
        try {
          r.unsafe ? i[e] && (n = !0) : delete i[e];
        } catch (e) {}
        n ? (i[e] = t) : v2.f(i, e, { value: t, enumerable: !1, configurable: !r.nonConfigurable, writable: !r.nonWritable });
      }
      return i;
    };
  });
  var Vf = k((Nx, Nf) => {
    var x2 = Math.ceil,
      S2 = Math.floor;
    Nf.exports =
      Math.trunc ||
      a(function (e) {
        var t = +e;
        return (t > 0 ? S2 : x2)(t);
      }, "trunc");
  });
  var Fu = k((zx, zf) => {
    var B2 = Vf();
    zf.exports = function (i) {
      var e = +i;
      return e !== e || e === 0 ? 0 : B2(e);
    };
  });
  var yu = k((Hx, Hf) => {
    var _2 = Fu(),
      O2 = Math.max,
      T2 = Math.min;
    Hf.exports = function (i, e) {
      var t = _2(i);
      return t < 0 ? O2(t + e, 0) : T2(t, e);
    };
  });
  var jf = k((Wx, Wf) => {
    var R2 = Fu(),
      M2 = Math.min;
    Wf.exports = function (i) {
      return i > 0 ? M2(R2(i), 9007199254740991) : 0;
    };
  });
  var Vi = k((jx, Uf) => {
    var $2 = jf();
    Uf.exports = function (i) {
      return $2(i.length);
    };
  });
  var Kf = k((Ux, Yf) => {
    var P2 = Pi(),
      L2 = yu(),
      q2 = Vi(),
      Gf = a(function (i) {
        return function (e, t, r) {
          var n = P2(e),
            s = q2(n),
            o = L2(r, s),
            u;
          if (i && t != t) {
            for (; s > o; ) if (((u = n[o++]), u != u)) return !0;
          } else for (; s > o; o++) if ((i || o in n) && n[o] === t) return i || o || 0;
          return !i && -1;
        };
      }, "createMethod");
    Yf.exports = { includes: Gf(!0), indexOf: Gf(!1) };
  });
  var Au = k((Yx, Qf) => {
    var I2 = ze(),
      Cu = gt(),
      N2 = Pi(),
      V2 = Kf().indexOf,
      z2 = Vn(),
      Xf = I2([].push);
    Qf.exports = function (i, e) {
      var t = N2(i),
        r = 0,
        n = [],
        s;
      for (s in t) !Cu(z2, s) && Cu(t, s) && Xf(n, s);
      for (; e.length > r; ) Cu(t, (s = e[r++])) && (~V2(n, s) || Xf(n, s));
      return n;
    };
  });
  var Gn = k((Kx, Jf) => {
    Jf.exports = ["constructor", "hasOwnProperty", "isPrototypeOf", "propertyIsEnumerable", "toLocaleString", "toString", "valueOf"];
  });
  var ed = k((Zf) => {
    var H2 = Au(),
      W2 = Gn(),
      j2 = W2.concat("length", "prototype");
    Zf.f =
      Object.getOwnPropertyNames ||
      a(function (e) {
        return H2(e, j2);
      }, "getOwnPropertyNames");
  });
  var id = k((td) => {
    td.f = Object.getOwnPropertySymbols;
  });
  var nd = k((Zx, rd) => {
    var U2 = wr(),
      G2 = ze(),
      Y2 = ed(),
      K2 = id(),
      X2 = vt(),
      Q2 = G2([].concat);
    rd.exports =
      U2("Reflect", "ownKeys") ||
      a(function (e) {
        var t = Y2.f(X2(e)),
          r = K2.f;
        return r ? Q2(t, r(e)) : t;
      }, "ownKeys");
  });
  var ud = k((tS, od) => {
    var sd = gt(),
      J2 = nd(),
      Z2 = ru(),
      ey = kt();
    od.exports = function (i, e, t) {
      for (var r = J2(e), n = ey.f, s = Z2.f, o = 0; o < r.length; o++) {
        var u = r[o];
        !sd(i, u) && !(t && sd(t, u)) && n(i, u, s(e, u));
      }
    };
  });
  var ad = k((iS, ld) => {
    var ty = Ge(),
      iy = $e(),
      ry = /#|\.prototype\./,
      Sr = a(function (i, e) {
        var t = sy[ny(i)];
        return t == uy ? !0 : t == oy ? !1 : iy(e) ? ty(e) : !!e;
      }, "isForced"),
      ny = (Sr.normalize = function ny(i) {
        return String(i).replace(ry, ".").toLowerCase();
      }),
      sy = (Sr.data = {}),
      oy = (Sr.NATIVE = "N"),
      uy = (Sr.POLYFILL = "P");
    ld.exports = Sr;
  });
  var ci = k((nS, hd) => {
    var Eu = it(),
      ly = ru().f,
      ay = qn(),
      hy = Ni(),
      cy = Rn(),
      fy = ud(),
      dy = ad();
    hd.exports = function (i, e) {
      var t = i.target,
        r = i.global,
        n = i.stat,
        s,
        o,
        u,
        l,
        h,
        c;
      if ((r ? (o = Eu) : n ? (o = Eu[t] || cy(t, {})) : (o = (Eu[t] || {}).prototype), o))
        for (u in e) {
          if (((h = e[u]), i.dontCallGetSet ? ((c = ly(o, u)), (l = c && c.value)) : (l = o[u]), (s = dy(r ? u : t + (n ? "." : "#") + u, i.forced)), !s && l !== void 0)) {
            if (typeof h == typeof l) continue;
            fy(h, l);
          }
          (i.sham || (l && l.sham)) && ay(h, "sham", !0), hy(o, u, h, i);
        }
    };
  });
  var vu = k((sS, cd) => {
    var py = kr();
    cd.exports =
      Array.isArray ||
      a(function (e) {
        return py(e) == "Array";
      }, "isArray");
  });
  var dd = k((uS, fd) => {
    var my = TypeError,
      gy = 9007199254740991;
    fd.exports = function (i) {
      if (i > gy) throw my("Maximum allowed index exceeded");
      return i;
    };
  });
  var md = k((lS, pd) => {
    var Dy = kr(),
      by = ze();
    pd.exports = function (i) {
      if (Dy(i) === "Function") return by(i);
    };
  });
  var Yn = k((aS, Dd) => {
    var gd = md(),
      Fy = Li(),
      yy = kn(),
      Cy = gd(gd.bind);
    Dd.exports = function (i, e) {
      return (
        Fy(i),
        e === void 0
          ? i
          : yy
          ? Cy(i, e)
          : function () {
              return i.apply(e, arguments);
            }
      );
    };
  });
  var yd = k((hS, Fd) => {
    "use strict";
    var Ay = vu(),
      Ey = Vi(),
      vy = dd(),
      ky = Yn(),
      bd = a(function (i, e, t, r, n, s, o, u) {
        for (var l = n, h = 0, c = o ? ky(o, u) : !1, f, d; h < r; ) h in t && ((f = c ? c(t[h], h, e) : t[h]), s > 0 && Ay(f) ? ((d = Ey(f)), (l = bd(i, e, f, d, l, s - 1) - 1)) : (vy(l + 1), (i[l] = f)), l++), h++;
        return l;
      }, "flattenIntoArray");
    Fd.exports = bd;
  });
  var Ed = k((fS, Ad) => {
    var wy = Qe(),
      xy = wy("toStringTag"),
      Cd = {};
    Cd[xy] = "z";
    Ad.exports = String(Cd) === "[object z]";
  });
  var Br = k((dS, vd) => {
    var Sy = Ed(),
      By = $e(),
      Kn = kr(),
      _y = Qe(),
      Oy = _y("toStringTag"),
      Ty = Object,
      Ry =
        Kn(
          (function () {
            return arguments;
          })()
        ) == "Arguments",
      My = a(function (i, e) {
        try {
          return i[e];
        } catch (e) {}
      }, "tryGet");
    vd.exports = Sy
      ? Kn
      : function (i) {
          var e, t, r;
          return i === void 0 ? "Undefined" : i === null ? "Null" : typeof (t = My((e = Ty(i)), Oy)) == "string" ? t : Ry ? Kn(e) : (r = Kn(e)) == "Object" && By(e.callee) ? "Arguments" : r;
        };
  });
  var _d = k((mS, Bd) => {
    var $y = ze(),
      Py = Ge(),
      kd = $e(),
      Ly = Br(),
      qy = wr(),
      Iy = fu(),
      wd = a(function () {}, "noop"),
      Ny = [],
      xd = qy("Reflect", "construct"),
      ku = /^\s*(?:class|function)\b/,
      Vy = $y(ku.exec),
      zy = !ku.exec(wd),
      _r = a(function (e) {
        if (!kd(e)) return !1;
        try {
          return xd(wd, Ny, e), !0;
        } catch (e) {
          return !1;
        }
      }, "isConstructor"),
      Sd = a(function (e) {
        if (!kd(e)) return !1;
        switch (Ly(e)) {
          case "AsyncFunction":
          case "GeneratorFunction":
          case "AsyncGeneratorFunction":
            return !1;
        }
        try {
          return zy || !!Vy(ku, Iy(e));
        } catch (e) {
          return !0;
        }
      }, "isConstructor");
    Sd.sham = !0;
    Bd.exports =
      !xd ||
      Py(function () {
        var i;
        return (
          _r(_r.call) ||
          !_r(Object) ||
          !_r(function () {
            i = !0;
          }) ||
          i
        );
      })
        ? Sd
        : _r;
  });
  var Md = k((DS, Rd) => {
    var Od = vu(),
      Hy = _d(),
      Wy = Lt(),
      jy = Qe(),
      Uy = jy("species"),
      Td = Array;
    Rd.exports = function (i) {
      var e;
      return Od(i) && ((e = i.constructor), Hy(e) && (e === Td || Od(e.prototype)) ? (e = void 0) : Wy(e) && ((e = e[Uy]), e === null && (e = void 0))), e === void 0 ? Td : e;
    };
  });
  var Pd = k((bS, $d) => {
    var Gy = Md();
    $d.exports = function (i, e) {
      return new (Gy(i))(e === 0 ? 0 : e);
    };
  });
  var zi = k((yS, Ld) => {
    Ld.exports = {};
  });
  var Id = k((CS, qd) => {
    var eC = Qe(),
      tC = zi(),
      iC = eC("iterator"),
      rC = Array.prototype;
    qd.exports = function (i) {
      return i !== void 0 && (tC.Array === i || rC[iC] === i);
    };
  });
  var Xn = k((AS, Vd) => {
    var nC = Br(),
      Nd = Tn(),
      sC = xn(),
      oC = zi(),
      uC = Qe(),
      lC = uC("iterator");
    Vd.exports = function (i) {
      if (!sC(i)) return Nd(i, lC) || Nd(i, "@@iterator") || oC[nC(i)];
    };
  });
  var wu = k((ES, zd) => {
    var aC = Pt(),
      hC = Li(),
      cC = vt(),
      fC = On(),
      dC = Xn(),
      pC = TypeError;
    zd.exports = function (i, e) {
      var t = arguments.length < 2 ? dC(i) : e;
      if (hC(t)) return cC(aC(t, i));
      throw pC(fC(i) + " is not iterable");
    };
  });
  var jd = k((vS, Wd) => {
    var mC = Pt(),
      Hd = vt(),
      gC = Tn();
    Wd.exports = function (i, e, t) {
      var r, n;
      Hd(i);
      try {
        if (((r = gC(i, "return")), !r)) {
          if (e === "throw") throw t;
          return t;
        }
        r = mC(r, i);
      } catch (s) {
        (n = !0), (r = s);
      }
      if (e === "throw") throw t;
      if (n) throw r;
      return Hd(r), t;
    };
  });
  var Xd = k((kS, Kd) => {
    var DC = Yn(),
      bC = Pt(),
      FC = vt(),
      yC = On(),
      CC = Id(),
      AC = Vi(),
      Ud = Bn(),
      EC = wu(),
      vC = Xn(),
      Gd = jd(),
      kC = TypeError,
      Qn = a(function (i, e) {
        (this.stopped = i), (this.result = e);
      }, "Result"),
      Yd = Qn.prototype;
    Kd.exports = function (i, e, t) {
      var r = t && t.that,
        n = !!(t && t.AS_ENTRIES),
        s = !!(t && t.IS_RECORD),
        o = !!(t && t.IS_ITERATOR),
        u = !!(t && t.INTERRUPTED),
        l = DC(e, r),
        h,
        c,
        f,
        d,
        p,
        m,
        b,
        g = a(function (F) {
          return h && Gd(h, "normal", F), new Qn(!0, F);
        }, "stop"),
        D = a(function (F) {
          return n ? (FC(F), u ? l(F[0], F[1], g) : l(F[0], F[1])) : u ? l(F, g) : l(F);
        }, "callFn");
      if (s) h = i.iterator;
      else if (o) h = i;
      else {
        if (((c = vC(i)), !c)) throw kC(yC(i) + " is not iterable");
        if (CC(c)) {
          for (f = 0, d = AC(i); d > f; f++) if (((p = D(i[f])), p && Ud(Yd, p))) return p;
          return new Qn(!1);
        }
        h = EC(i, c);
      }
      for (m = s ? i.next : h.next; !(b = bC(m, h)).done; ) {
        try {
          p = D(b.value);
        } catch (F) {
          Gd(h, "throw", F);
        }
        if (typeof p == "object" && p && Ud(Yd, p)) return p;
      }
      return new Qn(!1);
    };
  });
  var xu = k((xS, Qd) => {
    "use strict";
    var wC = Pn(),
      xC = kt(),
      SC = $i();
    Qd.exports = function (i, e, t) {
      var r = wC(e);
      r in i ? xC.f(i, r, SC(0, t)) : (i[r] = t);
    };
  });
  var Su = k((BS, Jd) => {
    var TC = Br(),
      RC = String;
    Jd.exports = function (i) {
      if (TC(i) === "Symbol") throw TypeError("Cannot convert a Symbol value to a string");
      return RC(i);
    };
  });
  var Bu = k((_S, Zd) => {
    Zd.exports = "	\n\v\f\r \xa0              　\u2028\u2029\uFEFF";
  });
  var ip = k((OS, tp) => {
    var MC = ze(),
      $C = Sn(),
      PC = Su(),
      Ou = Bu(),
      ep = MC("".replace),
      LC = RegExp("^[" + Ou + "]+"),
      qC = RegExp("(^|[^" + Ou + "])[" + Ou + "]+$"),
      _u = a(function (i) {
        return function (e) {
          var t = PC($C(e));
          return i & 1 && (t = ep(t, LC, "")), i & 2 && (t = ep(t, qC, "$1")), t;
        };
      }, "createMethod");
    tp.exports = { start: _u(1), end: _u(2), trim: _u(3) };
  });
  var op = k((RS, sp) => {
    var IC = In().PROPER,
      NC = Ge(),
      rp = Bu(),
      np = "​\x85᠎";
    sp.exports = function (i) {
      return NC(function () {
        return !!rp[i]() || np[i]() !== np || (IC && rp[i].name !== i);
      });
    };
  });
  var Tu = k((MS, up) => {
    "use strict";
    var VC = ip().end,
      zC = op();
    up.exports = zC("trimEnd")
      ? a(function () {
          return VC(this);
        }, "trimEnd")
      : "".trimEnd;
  });
  var ap = k(() => {
    var HC = ci(),
      lp = Tu();
    HC({ target: "String", proto: !0, name: "trimEnd", forced: "".trimRight !== lp }, { trimRight: lp });
  });
  var fp = k((qS, cp) => {
    var jC = Au(),
      UC = Gn();
    cp.exports =
      Object.keys ||
      a(function (e) {
        return jC(e, UC);
      }, "keys");
  });
  var pp = k((dp) => {
    var GC = rt(),
      YC = nu(),
      KC = kt(),
      XC = vt(),
      QC = Pi(),
      JC = fp();
    dp.f =
      GC && !YC
        ? Object.defineProperties
        : a(function (e, t) {
            XC(e);
            for (var r = QC(t), n = JC(t), s = n.length, o = 0, u; s > o; ) KC.f(e, (u = n[o++]), r[u]);
            return e;
          }, "defineProperties");
  });
  var gp = k((zS, mp) => {
    var ZC = wr();
    mp.exports = ZC("document", "documentElement");
  });
  var Or = k((HS, Ep) => {
    var eA = vt(),
      tA = pp(),
      Dp = Gn(),
      iA = Vn(),
      rA = gp(),
      nA = tu(),
      sA = Nn(),
      bp = ">",
      Fp = "<",
      Mu = "prototype",
      $u = "script",
      Cp = sA("IE_PROTO"),
      Ru = a(function () {}, "EmptyConstructor"),
      Ap = a(function (i) {
        return Fp + $u + bp + i + Fp + "/" + $u + bp;
      }, "scriptTag"),
      yp = a(function (i) {
        i.write(Ap("")), i.close();
        var e = i.parentWindow.Object;
        return (i = null), e;
      }, "NullProtoObjectViaActiveX"),
      oA = a(function () {
        var i = nA("iframe"),
          e = "java" + $u + ":",
          t;
        return (i.style.display = "none"), rA.appendChild(i), (i.src = String(e)), (t = i.contentWindow.document), t.open(), t.write(Ap("document.F=Object")), t.close(), t.F;
      }, "NullProtoObjectViaIFrame"),
      Jn,
      Zn = a(function () {
        try {
          Jn = new ActiveXObject("htmlfile");
        } catch (e) {}
        Zn = typeof document < "u" ? (document.domain && Jn ? yp(Jn) : oA()) : yp(Jn);
        for (var i = Dp.length; i--; ) delete Zn[Mu][Dp[i]];
        return Zn();
      }, "NullProtoObject");
    iA[Cp] = !0;
    Ep.exports =
      Object.create ||
      a(function (e, t) {
        var r;
        return e !== null ? ((Ru[Mu] = eA(e)), (r = new Ru()), (Ru[Mu] = null), (r[Cp] = e)) : (r = Zn()), t === void 0 ? r : tA.f(r, t);
      }, "create");
  });
  var kp = k((jS, vp) => {
    var uA = Qe(),
      lA = Or(),
      aA = kt().f,
      Pu = uA("unscopables"),
      Lu = Array.prototype;
    Lu[Pu] == null && aA(Lu, Pu, { configurable: !0, value: lA(null) });
    vp.exports = function (i) {
      Lu[Pu][i] = !0;
    };
  });
  var xp = k((US, wp) => {
    var hA = Ge();
    wp.exports = !hA(function () {
      function i() {}
      return a(i, "F"), (i.prototype.constructor = null), Object.getPrototypeOf(new i()) !== i.prototype;
    });
  });
  var Iu = k((YS, Bp) => {
    var cA = gt(),
      fA = $e(),
      dA = $n(),
      pA = Nn(),
      mA = xp(),
      Sp = pA("IE_PROTO"),
      qu = Object,
      gA = qu.prototype;
    Bp.exports = mA
      ? qu.getPrototypeOf
      : function (i) {
          var e = dA(i);
          if (cA(e, Sp)) return e[Sp];
          var t = e.constructor;
          return fA(t) && e instanceof t ? t.prototype : e instanceof qu ? gA : null;
        };
  });
  var Hu = k((KS, Tp) => {
    "use strict";
    var DA = Ge(),
      bA = $e(),
      FA = Lt(),
      yA = Or(),
      _p = Iu(),
      CA = Ni(),
      AA = Qe(),
      EA = qi(),
      zu = AA("iterator"),
      Op = !1,
      qt,
      Nu,
      Vu;
    [].keys && ((Vu = [].keys()), "next" in Vu ? ((Nu = _p(_p(Vu))), Nu !== Object.prototype && (qt = Nu)) : (Op = !0));
    var vA =
      !FA(qt) ||
      DA(function () {
        var i = {};
        return qt[zu].call(i) !== i;
      });
    vA ? (qt = {}) : EA && (qt = yA(qt));
    bA(qt[zu]) ||
      CA(qt, zu, function () {
        return this;
      });
    Tp.exports = { IteratorPrototype: qt, BUGGY_SAFARI_ITERATORS: Op };
  });
  var es = k((XS, Mp) => {
    var kA = kt().f,
      wA = gt(),
      xA = Qe(),
      Rp = xA("toStringTag");
    Mp.exports = function (i, e, t) {
      i && !t && (i = i.prototype), i && !wA(i, Rp) && kA(i, Rp, { configurable: !0, value: e });
    };
  });
  var Wu = k((QS, $p) => {
    "use strict";
    var SA = Hu().IteratorPrototype,
      BA = Or(),
      _A = $i(),
      OA = es(),
      TA = zi(),
      RA = a(function () {
        return this;
      }, "returnThis");
    $p.exports = function (i, e, t, r) {
      var n = e + " Iterator";
      return (i.prototype = BA(SA, { next: _A(+!r, t) })), OA(i, n, !1, !0), (TA[n] = RA), i;
    };
  });
  var Lp = k((ZS, Pp) => {
    var MA = ze(),
      $A = Li();
    Pp.exports = function (i, e, t) {
      try {
        return MA($A(Object.getOwnPropertyDescriptor(i, e)[t]));
      } catch (e) {}
    };
  });
  var Ip = k((e7, qp) => {
    var PA = $e(),
      LA = String,
      qA = TypeError;
    qp.exports = function (i) {
      if (typeof i == "object" || PA(i)) return i;
      throw qA("Can't set " + LA(i) + " as a prototype");
    };
  });
  var Vp = k((t7, Np) => {
    var IA = Lp(),
      NA = vt(),
      VA = Ip();
    Np.exports =
      Object.setPrototypeOf ||
      ("__proto__" in {}
        ? (function () {
            var i = !1,
              e = {},
              t;
            try {
              (t = IA(Object.prototype, "__proto__", "set")), t(e, []), (i = e instanceof Array);
            } catch (e) {}
            return a(function (n, s) {
              return NA(n), VA(s), i ? t(n, s) : (n.__proto__ = s), n;
            }, "setPrototypeOf");
          })()
        : void 0);
  });
  var Jp = k((r7, Qp) => {
    "use strict";
    var zA = ci(),
      HA = Pt(),
      ts = qi(),
      Kp = In(),
      WA = $e(),
      jA = Wu(),
      zp = Iu(),
      Hp = Vp(),
      UA = es(),
      GA = qn(),
      ju = Ni(),
      YA = Qe(),
      Wp = zi(),
      Xp = Hu(),
      KA = Kp.PROPER,
      XA = Kp.CONFIGURABLE,
      jp = Xp.IteratorPrototype,
      is = Xp.BUGGY_SAFARI_ITERATORS,
      Tr = YA("iterator"),
      Up = "keys",
      Rr = "values",
      Gp = "entries",
      Yp = a(function () {
        return this;
      }, "returnThis");
    Qp.exports = function (i, e, t, r, n, s, o) {
      jA(t, e, r);
      var u = a(function (D) {
          if (D === n && d) return d;
          if (!is && D in c) return c[D];
          switch (D) {
            case Up:
              return a(function () {
                return new t(this, D);
              }, "keys");
            case Rr:
              return a(function () {
                return new t(this, D);
              }, "values");
            case Gp:
              return a(function () {
                return new t(this, D);
              }, "entries");
          }
          return function () {
            return new t(this);
          };
        }, "getIterationMethod"),
        l = e + " Iterator",
        h = !1,
        c = i.prototype,
        f = c[Tr] || c["@@iterator"] || (n && c[n]),
        d = (!is && f) || u(n),
        p = (e == "Array" && c.entries) || f,
        m,
        b,
        g;
      if (
        (p && ((m = zp(p.call(new i()))), m !== Object.prototype && m.next && (!ts && zp(m) !== jp && (Hp ? Hp(m, jp) : WA(m[Tr]) || ju(m, Tr, Yp)), UA(m, l, !0, !0), ts && (Wp[l] = Yp))),
        KA &&
          n == Rr &&
          f &&
          f.name !== Rr &&
          (!ts && XA
            ? GA(c, "name", Rr)
            : ((h = !0),
              (d = a(function () {
                return HA(f, this);
              }, "values")))),
        n)
      )
        if (((b = { values: u(Rr), keys: s ? d : u(Up), entries: u(Gp) }), o)) for (g in b) (is || h || !(g in c)) && ju(c, g, b[g]);
        else zA({ target: e, proto: !0, forced: is || h }, b);
      return (!ts || o) && c[Tr] !== d && ju(c, Tr, d, { name: n }), (Wp[e] = d), b;
    };
  });
  var em = k((s7, Zp) => {
    Zp.exports = function (i, e) {
      return { value: i, done: e };
    };
  });
  var om = k((o7, sm) => {
    "use strict";
    var QA = Pi(),
      Uu = kp(),
      tm = zi(),
      rm = Wn(),
      JA = kt().f,
      ZA = Jp(),
      rs = em(),
      eE = qi(),
      tE = rt(),
      nm = "Array Iterator",
      iE = rm.set,
      rE = rm.getterFor(nm);
    sm.exports = ZA(
      Array,
      "Array",
      function (i, e) {
        iE(this, { type: nm, target: QA(i), index: 0, kind: e });
      },
      function () {
        var i = rE(this),
          e = i.target,
          t = i.kind,
          r = i.index++;
        return !e || r >= e.length ? ((i.target = void 0), rs(void 0, !0)) : t == "keys" ? rs(r, !1) : t == "values" ? rs(e[r], !1) : rs([r, e[r]], !1);
      },
      "values"
    );
    var im = (tm.Arguments = tm.Array);
    Uu("keys");
    Uu("values");
    Uu("entries");
    if (!eE && tE && im.name !== "values")
      try {
        JA(im, "name", { value: "values" });
      } catch (e) {}
  });
  var am = k((u7, lm) => {
    var nE = Ge(),
      sE = Qe(),
      oE = rt(),
      um = qi(),
      uE = sE("iterator");
    lm.exports = !nE(function () {
      var i = new URL("b?a=1&b=2&c=3", "http://a"),
        e = i.searchParams,
        t = new URLSearchParams("a=1&a=2"),
        r = "";
      return (
        (i.pathname = "c%20d"),
        e.forEach(function (n, s) {
          e.delete("b"), (r += s + n);
        }),
        t.delete("a", 2),
        (um && (!i.toJSON || !t.has("a", 1) || t.has("a", 2))) ||
          (!e.size && (um || !oE)) ||
          !e.sort ||
          i.href !== "http://a/c%20d?a=1&c=3" ||
          e.get("c") !== "3" ||
          String(new URLSearchParams("?a=1")) !== "a=1" ||
          !e[uE] ||
          new URL("https://a@b").username !== "a" ||
          new URLSearchParams(new URLSearchParams("a=b")).get("a") !== "b" ||
          new URL("http://тест").host !== "xn--e1aybc" ||
          new URL("http://a#б").hash !== "#%D0%B1" ||
          r !== "a1c3" ||
          new URL("http://x", void 0).host !== "x"
      );
    });
  });
  var fm = k((l7, cm) => {
    var hm = bu(),
      lE = kt();
    cm.exports = function (i, e, t) {
      return t.get && hm(t.get, e, { getter: !0 }), t.set && hm(t.set, e, { setter: !0 }), lE.f(i, e, t);
    };
  });
  var pm = k((a7, dm) => {
    var aE = Ni();
    dm.exports = function (i, e, t) {
      for (var r in e) aE(i, r, e[r], t);
      return i;
    };
  });
  var gm = k((h7, mm) => {
    var hE = Bn(),
      cE = TypeError;
    mm.exports = function (i, e) {
      if (hE(e, i)) return i;
      throw cE("Incorrect invocation");
    };
  });
  var bm = k((c7, Dm) => {
    var fE = TypeError;
    Dm.exports = function (i, e) {
      if (i < e) throw fE("Not enough arguments");
      return i;
    };
  });
  var Cm = k((f7, ym) => {
    var Fm = yu(),
      dE = Vi(),
      pE = xu(),
      mE = Array,
      gE = Math.max;
    ym.exports = function (i, e, t) {
      for (var r = dE(i), n = Fm(e, r), s = Fm(t === void 0 ? r : t, r), o = mE(gE(s - n, 0)), u = 0; n < s; n++, u++) pE(o, u, i[n]);
      return (o.length = u), o;
    };
  });
  var vm = k((d7, Em) => {
    var Am = Cm(),
      DE = Math.floor,
      Gu = a(function (i, e) {
        var t = i.length,
          r = DE(t / 2);
        return t < 8 ? bE(i, e) : FE(i, Gu(Am(i, 0, r), e), Gu(Am(i, r), e), e);
      }, "mergeSort"),
      bE = a(function (i, e) {
        for (var t = i.length, r = 1, n, s; r < t; ) {
          for (s = r, n = i[r]; s && e(i[s - 1], n) > 0; ) i[s] = i[--s];
          s !== r++ && (i[s] = n);
        }
        return i;
      }, "insertionSort"),
      FE = a(function (i, e, t, r) {
        for (var n = e.length, s = t.length, o = 0, u = 0; o < n || u < s; ) i[o + u] = o < n && u < s ? (r(e[o], t[u]) <= 0 ? e[o++] : t[u++]) : o < n ? e[o++] : t[u++];
        return i;
      }, "merge");
    Em.exports = Gu;
  });
  var jm = k((m7, Wm) => {
    "use strict";
    om();
    var Ju = ci(),
      ji = it(),
      ns = Pt(),
      wt = ze(),
      Wi = rt(),
      Pm = am(),
      Lm = Ni(),
      yE = fm(),
      CE = pm(),
      AE = es(),
      EE = Wu(),
      tl = Wn(),
      qm = gm(),
      Yu = $e(),
      vE = gt(),
      kE = Yn(),
      wE = Br(),
      xE = vt(),
      Im = Lt(),
      He = Su(),
      SE = Or(),
      km = $i(),
      Zu = wu(),
      BE = Xn(),
      Hi = bm(),
      _E = Qe(),
      OE = vm(),
      TE = _E("iterator"),
      $r = "URLSearchParams",
      Nm = $r + "Iterator",
      Vm = tl.set,
      nt = tl.getterFor($r),
      RE = tl.getterFor(Nm),
      ME = Object.getOwnPropertyDescriptor,
      il = a(function (i) {
        if (!Wi) return ji[i];
        var e = ME(ji, i);
        return e && e.value;
      }, "safeGetBuiltIn"),
      wm = il("fetch"),
      os = il("Request"),
      Mr = il("Headers"),
      Ku = os && os.prototype,
      xm = Mr && Mr.prototype,
      $E = ji.RegExp,
      PE = ji.TypeError,
      zm = ji.decodeURIComponent,
      LE = ji.encodeURIComponent,
      qE = wt("".charAt),
      Sm = wt([].join),
      fi = wt([].push),
      el = wt("".replace),
      IE = wt([].shift),
      Bm = wt([].splice),
      _m = wt("".split),
      NE = wt("".slice),
      VE = /\+/g,
      Om = Array(4),
      zE = a(function (i) {
        return Om[i - 1] || (Om[i - 1] = $E("((?:%[\\da-f]{2}){" + i + "})", "gi"));
      }, "percentSequence"),
      HE = a(function (i) {
        try {
          return zm(i);
        } catch (e) {
          return i;
        }
      }, "percentDecode"),
      Tm = a(function (i) {
        var e = el(i, VE, " "),
          t = 4;
        try {
          return zm(e);
        } catch (e1) {
          for (; t; ) e = el(e, zE(t--), HE);
          return e;
        }
      }, "deserialize"),
      WE = /[!'()~]|%20/g,
      jE = { "!": "%21", "'": "%27", "(": "%28", ")": "%29", "~": "%7E", "%20": "+" },
      UE = a(function (i) {
        return jE[i];
      }, "replacer"),
      Rm = a(function (i) {
        return el(LE(i), WE, UE);
      }, "serialize"),
      Xu = EE(
        a(function (e, t) {
          Vm(this, { type: Nm, iterator: Zu(nt(e).entries), kind: t });
        }, "Iterator"),
        "Iterator",
        a(function () {
          var e = RE(this),
            t = e.kind,
            r = e.iterator.next(),
            n = r.value;
          return r.done || (r.value = t === "keys" ? n.key : t === "values" ? n.value : [n.key, n.value]), r;
        }, "next"),
        !0
      ),
      Hm = a(function (i) {
        (this.entries = []), (this.url = null), i !== void 0 && (Im(i) ? this.parseObject(i) : this.parseQuery(typeof i == "string" ? (qE(i, 0) === "?" ? NE(i, 1) : i) : He(i)));
      }, "URLSearchParamsState");
    Hm.prototype = {
      type: $r,
      bindURL: function bindURL(i) {
        (this.url = i), this.update();
      },
      parseObject: function parseObject(i) {
        var e = BE(i),
          t,
          r,
          n,
          s,
          o,
          u,
          l;
        if (e)
          for (t = Zu(i, e), r = t.next; !(n = ns(r, t)).done; ) {
            if (((s = Zu(xE(n.value))), (o = s.next), (u = ns(o, s)).done || (l = ns(o, s)).done || !ns(o, s).done)) throw PE("Expected sequence with length 2");
            fi(this.entries, { key: He(u.value), value: He(l.value) });
          }
        else for (var h in i) vE(i, h) && fi(this.entries, { key: h, value: He(i[h]) });
      },
      parseQuery: function parseQuery(i) {
        if (i) for (var e = _m(i, "&"), t = 0, r, n; t < e.length; ) (r = e[t++]), r.length && ((n = _m(r, "=")), fi(this.entries, { key: Tm(IE(n)), value: Tm(Sm(n, "=")) }));
      },
      serialize: function serialize() {
        for (var i = this.entries, e = [], t = 0, r; t < i.length; ) (r = i[t++]), fi(e, Rm(r.key) + "=" + Rm(r.value));
        return Sm(e, "&");
      },
      update: function update() {
        (this.entries.length = 0), this.parseQuery(this.url.query);
      },
      updateURL: function updateURL() {
        this.url && this.url.update();
      },
    };
    var us = a(function () {
        qm(this, Ui);
        var e = arguments.length > 0 ? arguments[0] : void 0,
          t = Vm(this, new Hm(e));
        Wi || (this.size = t.entries.length);
      }, "URLSearchParams"),
      Ui = us.prototype;
    CE(
      Ui,
      {
        append: a(function (e, t) {
          var r = nt(this);
          Hi(arguments.length, 2), fi(r.entries, { key: He(e), value: He(t) }), Wi || this.length++, r.updateURL();
        }, "append"),
        delete: function _delete(i) {
          for (var e = nt(this), t = Hi(arguments.length, 1), r = e.entries, n = He(i), s = t < 2 ? void 0 : arguments[1], o = s === void 0 ? s : He(s), u = 0; u < r.length; ) {
            var l = r[u];
            if (l.key === n && (o === void 0 || l.value === o)) {
              if ((Bm(r, u, 1), o !== void 0)) break;
            } else u++;
          }
          Wi || (this.size = r.length), e.updateURL();
        },
        get: a(function (e) {
          var t = nt(this).entries;
          Hi(arguments.length, 1);
          for (var r = He(e), n = 0; n < t.length; n++) if (t[n].key === r) return t[n].value;
          return null;
        }, "get"),
        getAll: a(function (e) {
          var t = nt(this).entries;
          Hi(arguments.length, 1);
          for (var r = He(e), n = [], s = 0; s < t.length; s++) t[s].key === r && fi(n, t[s].value);
          return n;
        }, "getAll"),
        has: a(function (e) {
          for (var t = nt(this).entries, r = Hi(arguments.length, 1), n = He(e), s = r < 2 ? void 0 : arguments[1], o = s === void 0 ? s : He(s), u = 0; u < t.length; ) {
            var l = t[u++];
            if (l.key === n && (o === void 0 || l.value === o)) return !0;
          }
          return !1;
        }, "has"),
        set: a(function (e, t) {
          var r = nt(this);
          Hi(arguments.length, 1);
          for (var n = r.entries, s = !1, o = He(e), u = He(t), l = 0, h; l < n.length; l++) (h = n[l]), h.key === o && (s ? Bm(n, l--, 1) : ((s = !0), (h.value = u)));
          s || fi(n, { key: o, value: u }), Wi || (this.size = n.length), r.updateURL();
        }, "set"),
        sort: a(function () {
          var e = nt(this);
          OE(e.entries, function (t, r) {
            return t.key > r.key ? 1 : -1;
          }),
            e.updateURL();
        }, "sort"),
        forEach: a(function (e) {
          for (var t = nt(this).entries, r = kE(e, arguments.length > 1 ? arguments[1] : void 0), n = 0, s; n < t.length; ) (s = t[n++]), r(s.value, s.key, this);
        }, "forEach"),
        keys: a(function () {
          return new Xu(this, "keys");
        }, "keys"),
        values: a(function () {
          return new Xu(this, "values");
        }, "values"),
        entries: a(function () {
          return new Xu(this, "entries");
        }, "entries"),
      },
      { enumerable: !0 }
    );
    Lm(Ui, TE, Ui.entries, { name: "entries" });
    Lm(
      Ui,
      "toString",
      a(function () {
        return nt(this).serialize();
      }, "toString"),
      { enumerable: !0 }
    );
    Wi &&
      yE(Ui, "size", {
        get: a(function () {
          return nt(this).entries.length;
        }, "size"),
        configurable: !0,
        enumerable: !0,
      });
    AE(us, $r);
    Ju({ global: !0, constructor: !0, forced: !Pm }, { URLSearchParams: us });
    !Pm &&
      Yu(Mr) &&
      ((Mm = wt(xm.has)),
      ($m = wt(xm.set)),
      (Qu = a(function (i) {
        if (Im(i)) {
          var e = i.body,
            t;
          if (wE(e) === $r) return (t = i.headers ? new Mr(i.headers) : new Mr()), Mm(t, "content-type") || $m(t, "content-type", "application/x-www-form-urlencoded;charset=UTF-8"), SE(i, { body: km(0, He(e)), headers: km(0, t) });
        }
        return i;
      }, "wrapRequestOptions")),
      Yu(wm) &&
        Ju(
          { global: !0, enumerable: !0, dontCallGetSet: !0, forced: !0 },
          {
            fetch: a(function (e) {
              return wm(e, arguments.length > 1 ? Qu(arguments[1]) : {});
            }, "fetch"),
          }
        ),
      Yu(os) &&
        ((ss = a(function (e) {
          return qm(this, Ku), new os(e, arguments.length > 1 ? Qu(arguments[1]) : {});
        }, "Request")),
        (Ku.constructor = ss),
        (ss.prototype = Ku),
        Ju({ global: !0, constructor: !0, dontCallGetSet: !0, forced: !0 }, { Request: ss })));
    var Mm, $m, Qu, ss;
    Wm.exports = { URLSearchParams: us, getState: nt };
  });
  var Yy = ci(),
    Ky = yd(),
    Xy = Li(),
    Qy = $n(),
    Jy = Vi(),
    Zy = Pd();
  Yy(
    { target: "Array", proto: !0 },
    {
      flatMap: a(function (e) {
        var t = Qy(this),
          r = Jy(t),
          n;
        return Xy(e), (n = Zy(t, 0)), (n.length = Ky(n, t, t, r, 0, 1, e, arguments.length > 1 ? arguments[1] : void 0)), n;
      }, "flatMap"),
    }
  );
  var BC = ci(),
    _C = Xd(),
    OC = xu();
  BC(
    { target: "Object", stat: !0 },
    {
      fromEntries: a(function (e) {
        var t = {};
        return (
          _C(
            e,
            function (r, n) {
              OC(t, r, n);
            },
            { AS_ENTRIES: !0 }
          ),
          t
        );
      }, "fromEntries"),
    }
  );
  ap();
  var WC = ci(),
    hp = Tu();
  WC({ target: "String", proto: !0, name: "trimEnd", forced: "".trimEnd !== hp }, { trimEnd: hp });
  jm();
  function ke() {}
  a(ke, "noop");
  function GE(i, e) {
    for (var t in e) i[t] = e[t];
    return i;
  }
  a(GE, "assign");
  function ul(i) {
    return i();
  }
  a(ul, "run");
  function Um() {
    return Object.create(null);
  }
  a(Um, "blank_object");
  function xt(i) {
    i.forEach(ul);
  }
  a(xt, "run_all");
  function cs(i) {
    return typeof i == "function";
  }
  a(cs, "is_function");
  function se(i, e) {
    return i != i ? e == e : i !== e || (i && typeof i == "object") || typeof i == "function";
  }
  a(se, "safe_not_equal");
  function Gm(i) {
    return Object.keys(i).length === 0;
  }
  a(Gm, "is_empty");
  function Yt(i, e, t, r) {
    if (i) {
      var n = Ym(i, e, t, r);
      return i[0](n);
    }
  }
  a(Yt, "create_slot");
  function Ym(i, e, t, r) {
    return i[1] && r ? GE(t.ctx.slice(), i[1](r(e))) : t.ctx;
  }
  a(Ym, "get_slot_context");
  function Kt(i, e, t, r) {
    if (i[2] && r) {
      var n = i[2](r(t));
      if (e.dirty === void 0) return n;
      if (typeof n == "object") {
        var s = [],
          o = Math.max(e.dirty.length, n.length);
        for (var u = 0; u < o; u += 1) s[u] = e.dirty[u] | n[u];
        return s;
      }
      return e.dirty | n;
    }
    return e.dirty;
  }
  a(Kt, "get_slot_changes");
  function Xt(i, e, t, r, n, s) {
    if (n) {
      var o = Ym(e, t, r, s);
      i.p(o, n);
    }
  }
  a(Xt, "update_slot_base");
  function Qt(i) {
    if (i.ctx.length > 32) {
      var e = [],
        t = i.ctx.length / 32;
      for (var r = 0; r < t; r++) e[r] = -1;
      return e;
    }
    return -1;
  }
  a(Qt, "get_all_dirty_from_scope");
  function Km(i) {
    var e = {};
    for (var t in i) e[t] = !0;
    return e;
  }
  a(Km, "compute_slots");
  var Xm = !1;
  function YE() {
    Xm = !0;
  }
  a(YE, "start_hydrating");
  function KE() {
    Xm = !1;
  }
  a(KE, "end_hydrating");
  function V(i, e) {
    i.appendChild(e);
  }
  a(V, "append");
  function C(i, e, t) {
    i.insertBefore(e, t || null);
  }
  a(C, "insert");
  function y(i) {
    i.parentNode && i.parentNode.removeChild(i);
  }
  a(y, "detach");
  function Ir(i, e) {
    for (var t = 0; t < i.length; t += 1) i[t] && i[t].d(e);
  }
  a(Ir, "destroy_each");
  function R(i) {
    return document.createElement(i);
  }
  a(R, "element");
  function St(i) {
    return document.createElementNS("http://www.w3.org/2000/svg", i);
  }
  a(St, "svg_element");
  function j(i) {
    return document.createTextNode(i);
  }
  a(j, "text");
  function q() {
    return j(" ");
  }
  a(q, "space");
  function It() {
    return j("");
  }
  a(It, "empty");
  function be(i, e, t, r) {
    return i.addEventListener(e, t, r), () => i.removeEventListener(e, t, r);
  }
  a(be, "listen");
  function A(i, e, t) {
    t == null ? i.removeAttribute(e) : i.getAttribute(e) !== t && i.setAttribute(e, t);
  }
  a(A, "attr");
  function bt(i) {
    return i === "" ? null : +i;
  }
  a(bt, "to_number");
  function XE(i) {
    return Array.from(i.childNodes);
  }
  a(XE, "children");
  function We(i, e) {
    (e = "" + e), i.wholeText !== e && (i.data = e);
  }
  a(We, "set_data");
  function Fe(i, e) {
    i.value = e !== null && e !== void 0 ? e : "";
  }
  a(Fe, "set_input_value");
  function Gi(i, e, t) {
    i.classList[t ? "add" : "remove"](e);
  }
  a(Gi, "toggle_class");
  function QE(i, e) {
    var _ref = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {},
      tmp = _ref.bubbles,
      t = tmp === void 0 ? !1 : tmp,
      tmp1 = _ref.cancelable,
      r = tmp1 === void 0 ? !1 : tmp1;
    var n = document.createEvent("CustomEvent");
    return n.initCustomEvent(i, t, r, e), n;
  }
  a(QE, "custom_event");
  var qr;
  function Lr(i) {
    qr = i;
  }
  a(Lr, "set_current_component");
  function Qm() {
    if (!qr) throw new Error("Function called outside component initialization");
    return qr;
  }
  a(Qm, "get_current_component");
  function ll(i) {
    Qm().$$.on_mount.push(i);
  }
  a(ll, "onMount");
  function pi() {
    var i = Qm();
    return function (e, t) {
      var _ref = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {},
        tmp = _ref.cancelable,
        r = tmp === void 0 ? !1 : tmp;
      var n = i.$$.callbacks[e];
      if (n) {
        var s = QE(e, t, { cancelable: r });
        return (
          n.slice().forEach((o) => {
            o.call(i, s);
          }),
          !s.defaultPrevented
        );
      }
      return !0;
    };
  }
  a(pi, "createEventDispatcher");
  var Pr = [];
  var Y = [],
    as = [],
    nl = [],
    JE = Promise.resolve(),
    sl = !1;
  function ZE() {
    sl || ((sl = !0), JE.then(Jm));
  }
  a(ZE, "schedule_update");
  function ol(i) {
    as.push(i);
  }
  a(ol, "add_render_callback");
  function K(i) {
    nl.push(i);
  }
  a(K, "add_flush_callback");
  var rl = new Set(),
    ls = 0;
  function Jm() {
    var i = qr;
    do {
      for (; ls < Pr.length; ) {
        var e = Pr[ls];
        ls++, Lr(e), ev(e.$$);
      }
      for (Lr(null), Pr.length = 0, ls = 0; Y.length; ) Y.pop()();
      for (var e1 = 0; e1 < as.length; e1 += 1) {
        var t = as[e1];
        rl.has(t) || (rl.add(t), t());
      }
      as.length = 0;
    } while (Pr.length);
    for (; nl.length; ) nl.pop()();
    (sl = !1), rl.clear(), Lr(i);
  }
  a(Jm, "flush");
  function ev(i) {
    if (i.fragment !== null) {
      i.update(), xt(i.before_update);
      var e = i.dirty;
      (i.dirty = [-1]), i.fragment && i.fragment.p(i.ctx, e), i.after_update.forEach(ol);
    }
  }
  a(ev, "update");
  var hs = new Set(),
    di;
  function Nt() {
    di = { r: 0, c: [], p: di };
  }
  a(Nt, "group_outros");
  function Vt() {
    di.r || xt(di.c), (di = di.p);
  }
  a(Vt, "check_outros");
  function S(i, e) {
    i && i.i && (hs.delete(i), i.i(e));
  }
  a(S, "transition_in");
  function B(i, e, t, r) {
    if (i && i.o) {
      if (hs.has(i)) return;
      hs.add(i),
        di.c.push(() => {
          hs.delete(i), r && (t && i.d(1), r());
        }),
        i.o(e);
    } else r && r();
  }
  a(B, "transition_out");
  var D7 = typeof window < "u" ? window : typeof globalThis < "u" ? globalThis : global;
  function X(i, e, t) {
    var r = i.$$.props[e];
    r !== void 0 && ((i.$$.bound[r] = t), t(i.$$.ctx[r]));
  }
  a(X, "bind");
  function P(i) {
    i && i.c();
  }
  a(P, "create_component");
  function $(i, e, t, r) {
    var _i_$$ = i.$$,
      n = _i_$$.fragment,
      s = _i_$$.after_update;
    n && n.m(e, t),
      r ||
        ol(() => {
          var o = i.$$.on_mount.map(ul).filter(cs);
          i.$$.on_destroy ? i.$$.on_destroy.push(...o) : xt(o), (i.$$.on_mount = []);
        }),
      s.forEach(ol);
  }
  a($, "mount_component");
  function M(i, e) {
    var t = i.$$;
    t.fragment !== null && (xt(t.on_destroy), t.fragment && t.fragment.d(e), (t.on_destroy = t.fragment = null), (t.ctx = []));
  }
  a(M, "destroy_component");
  function tv(i, e) {
    i.$$.dirty[0] === -1 && (Pr.push(i), ZE(), i.$$.dirty.fill(0)), (i.$$.dirty[(e / 31) | 0] |= 1 << e % 31);
  }
  a(tv, "make_dirty");
  function oe(i, e, t, r, n, s, o) {
    var u = arguments.length > 7 && arguments[7] !== void 0 ? arguments[7] : [-1];
    var l = qr;
    Lr(i);
    var h = (i.$$ = { fragment: null, ctx: [], props: s, update: ke, not_equal: n, bound: Um(), on_mount: [], on_destroy: [], on_disconnect: [], before_update: [], after_update: [], context: new Map(e.context || (l ? l.$$.context : [])), callbacks: Um(), dirty: u, skip_bound: !1, root: e.target || l.$$.root });
    o && o(h.root);
    var c = !1;
    if (
      ((h.ctx = t
        ? t(i, e.props || {}, function (f, d) {
            for (var _len = arguments.length, p = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {
              p[_key - 2] = arguments[_key];
            }
            var m = p.length ? p[0] : d;
            return h.ctx && n(h.ctx[f], (h.ctx[f] = m)) && (!h.skip_bound && h.bound[f] && h.bound[f](m), c && tv(i, f)), d;
          })
        : []),
      h.update(),
      (c = !0),
      xt(h.before_update),
      (h.fragment = r ? r(h.ctx) : !1),
      e.target)
    ) {
      if (e.hydrate) {
        YE();
        var f = XE(e.target);
        h.fragment && h.fragment.l(f), f.forEach(y);
      } else h.fragment && h.fragment.c();
      e.intro && S(i.$$.fragment), $(i, e.target, e.anchor, e.customElement), KE(), Jm();
    }
    Lr(l);
  }
  a(oe, "init");
  var iv;
  typeof HTMLElement == "function" &&
    (iv =
      ((_class = class _class extends HTMLElement {
        connectedCallback() {
          var _this_$$ = this.$$,
            i = _this_$$.on_mount;
          this.$$.on_disconnect = i.map(ul).filter(cs);
          for (var e in this.$$.slotted) this.appendChild(this.$$.slotted[e]);
        }
        attributeChangedCallback(i, e, t) {
          this[i] = t;
        }
        disconnectedCallback() {
          xt(this.$$.on_disconnect);
        }
        $destroy() {
          M(this, 1), (this.$destroy = ke);
        }
        $on(i, e) {
          if (!cs(e)) return ke;
          var t = this.$$.callbacks[i] || (this.$$.callbacks[i] = []);
          return (
            t.push(e),
            () => {
              var r = t.indexOf(e);
              r !== -1 && t.splice(r, 1);
            }
          );
        }
        $set(i) {
          this.$$set && !Gm(i) && ((this.$$.skip_bound = !0), this.$$set(i), (this.$$.skip_bound = !1));
        }
        constructor() {
          super(), this.attachShadow({ mode: "open" });
        }
      }),
      (() => {
        a(_class, "SvelteElement");
      })(),
      _class));
  var ie =
    ((_class1 = class _class {
      $destroy() {
        M(this, 1), (this.$destroy = ke);
      }
      $on(e, t) {
        if (!cs(t)) return ke;
        var r = this.$$.callbacks[e] || (this.$$.callbacks[e] = []);
        return (
          r.push(t),
          () => {
            var n = r.indexOf(t);
            n !== -1 && r.splice(n, 1);
          }
        );
      }
      $set(e) {
        this.$$set && !Gm(e) && ((this.$$.skip_bound = !0), this.$$set(e), (this.$$.skip_bound = !1));
      }
    }),
    (() => {
      a(_class1, "SvelteComponent");
    })(),
    _class1);
  var al =
      ((_class2 = class _class {
        constructor(ref) {
          var e = ref === void 0 ? [] : ref;
          this.children = e;
          this.type = "root";
        }
      }),
      (() => {
        a(_class2, "RootNode");
      })(),
      _class2),
    Yi =
      ((_class3 = class _class {
        constructor(e, t) {
          this.parent = e;
          this.text = t;
          this.type = "text";
          e.children.push(this);
        }
      }),
      (() => {
        a(_class3, "TextNode");
      })(),
      _class3),
    ds =
      ((_class4 = class _class {
        constructor(e) {
          this.parent = e;
          this.type = "block";
          this.command = "";
          e.children.push(this);
        }
      }),
      (() => {
        a(_class4, "BlockNode");
      })(),
      _class4),
    hl =
      ((_class5 = class _class {
        constructor(e, t, r, n) {
          this.parent = e;
          this.raw = t;
          this.braces = r;
          this.parens = n;
          this.type = "comment";
          e.block = this;
        }
      }),
      (() => {
        a(_class5, "CommentNode");
      })(),
      _class5),
    cl =
      ((_class6 = class _class {
        constructor(e, t, r, n) {
          this.parent = e;
          this.raw = t;
          this.braces = r;
          this.parens = n;
          this.type = "preamble";
          e.block = this;
        }
      }),
      (() => {
        a(_class6, "PreambleNode");
      })(),
      _class6),
    fl =
      ((_class7 = class _class {
        constructor(e, t, r, n) {
          this.parent = e;
          this.raw = t;
          this.braces = r;
          this.parens = n;
          this.type = "string";
          e.block = this;
        }
      }),
      (() => {
        a(_class7, "StringNode");
      })(),
      _class7),
    dl =
      ((_class8 = class _class {
        constructor(e, t) {
          this.parent = e;
          this.wrapType = t;
          this.type = "entry";
          (e.block = this), (this.fields = []);
        }
      }),
      (() => {
        a(_class8, "EntryNode");
      })(),
      _class8),
    mi =
      ((_class9 = class _class {
        constructor(e, ref) {
          var t = ref === void 0 ? "" : ref;
          this.parent = e;
          this.name = t;
          this.type = "field";
          this.value = new pl(this);
        }
      }),
      (() => {
        a(_class9, "FieldNode");
      })(),
      _class9),
    pl =
      ((_class10 = class _class {
        constructor(e) {
          this.parent = e;
          this.type = "concat";
          this.canConsumeValue = !0;
          this.concat = [];
        }
      }),
      (() => {
        a(_class10, "ConcatNode");
      })(),
      _class10),
    ml =
      ((_class11 = class _class {
        constructor(e, t) {
          this.parent = e;
          this.value = t;
          this.type = "literal";
          e.concat.push(this);
        }
      }),
      (() => {
        a(_class11, "LiteralNode");
      })(),
      _class11),
    gl =
      ((_class12 = class _class {
        constructor(e) {
          this.parent = e;
          this.type = "braced";
          this.value = "";
          this.depth = 0;
          e.concat.push(this);
        }
      }),
      (() => {
        a(_class12, "BracedNode");
      })(),
      _class12),
    Dl =
      ((_class13 = class _class {
        constructor(e) {
          this.parent = e;
          this.type = "quoted";
          this.value = "";
          this.depth = 0;
          e.concat.push(this);
        }
      }),
      (() => {
        a(_class13, "QuotedNode");
      })(),
      _class13);
  function e0(i) {
    var e = new al(),
      t = e,
      r = 1,
      n = 0;
    for (var s = 0; s < i.length; s++) {
      var o = i[s],
        u = i[s - 1];
      switch ((o === "\n" && (r++, (n = 0)), n++, t.type)) {
        case "root": {
          t = o === "@" ? new ds(t) : new Yi(t, o);
          break;
        }
        case "text": {
          o === "@" && /[\s\r\n}]/.test(u) ? (t = new ds(t.parent)) : (t.text += o);
          break;
        }
        case "block": {
          if (o === "@") {
            var _l;
            var l = t.parent.children[t.parent.children.length - 2];
            ((_l = l) === null || _l === void 0 ? void 0 : _l.type) === "text" ? (l.text += "@" + t.command) : (t.parent.children.pop(), new Yi(t.parent, "@" + t.command), t.parent.children.push(t)), (t.command = "");
          } else if (o === "{" || o === "(") {
            var l1 = t.command.trim();
            if (l1 === "" || /\s/.test(l1)) t.parent.children.pop(), (t = new Yi(t.parent, "@" + t.command + o));
            else {
              t.command = l1;
              var h = t.command.toLowerCase(),
                _ref = _sliced_to_array(o === "{" ? [1, 0] : [0, 1], 2),
                c = _ref[0],
                f = _ref[1],
                d = "@" + h + o;
              switch (h) {
                case "string":
                  t = new fl(t, d, c, f);
                  break;
                case "preamble":
                  t = new cl(t, d, c, f);
                  break;
                case "comment":
                  t = new hl(t, d, c, f);
                  break;
                default:
                  t = new dl(t, o);
                  break;
              }
            }
          } else o.match(/[=#,})[\]]/) ? (t.parent.children.pop(), (t = new Yi(t.parent, "@" + t.command + o))) : (t.command += o);
          break;
        }
        case "comment":
        case "string":
        case "preamble":
          o === "{" ? t.braces++ : o === "}" ? t.braces-- : o === "(" ? t.parens++ : o === ")" && t.parens--, (t.raw += o), t.braces === 0 && t.parens === 0 && (t = t.parent.parent);
          break;
        case "entry": {
          if (fs(o)) t.key && (t.keyEnded = !0);
          else if (o === ",") t = new mi(t);
          else if ((t.wrapType === "{" && o === "}") || (t.wrapType === "(" && o === ")")) t = t.parent.parent;
          else if (o === "=" && t.key && Zm(t.key)) {
            var l2 = new mi(t, t.key);
            t.fields.push(l2), (t.key = void 0), (t = l2.value);
          } else {
            if (t.keyEnded) throw new st(i, t, s, r, n, "The entry key cannot contain whitespace");
            var _t_key;
            if (rv(o)) t.key = ((_t_key = t.key) !== null && _t_key !== void 0 ? _t_key : "") + o;
            else throw new st(i, t, s, r, n, "The entry key cannot contain the character (".concat(o, ")"));
          }
          break;
        }
        case "field": {
          if (o === "}" || o === ")") (t.name = t.name.trim()), (t = t.parent.parent.parent);
          else if (o === "=") (t.name = t.name.trim()), (t = t.value);
          else if (o === ",") (t.name = t.name.trim()), (t = new mi(t.parent));
          else if (Zm(o)) t.name ? (t.name += o) : fs(o) || (t.parent.fields.push(t), (t.name = o));
          else throw new st(i, t, s, r, n);
          break;
        }
        case "concat": {
          if (fs(o)) break;
          if (t.canConsumeValue) {
            if (/[#=,}()[\]]/.test(o)) throw new st(i, t, s, r, n);
            (t.canConsumeValue = !1), o === "{" ? (t = new gl(t)) : o === '"' ? (t = new Dl(t)) : (t = new ml(t, o));
          } else if (o === ",") t = new mi(t.parent.parent);
          else if (o === "}" || o === ")") t = t.parent.parent.parent.parent;
          else if (o === "#") t.canConsumeValue = !0;
          else throw new st(i, t, s, r, n);
          break;
        }
        case "literal":
          fs(o) ? (t = t.parent) : o === "," ? (t = new mi(t.parent.parent.parent)) : o === "}" ? (t = t.parent.parent.parent.parent.parent) : o === "#" ? ((t = t.parent), (t.canConsumeValue = !0)) : (t.value += o);
          break;
        case "braced":
          if (o === "}" && t.depth === 0) {
            t = t.parent;
            break;
          } else o === "{" ? t.depth++ : o === "}" && t.depth--;
          t.value += o;
          break;
        case "quoted":
          if (o === '"' && t.depth === 0) {
            t = t.parent;
            break;
          } else if (o === "{") t.depth++;
          else if (o === "}" && (t.depth--, t.depth < 0)) throw new st(i, t, s, r, n);
          t.value += o;
          break;
      }
    }
    return e;
  }
  a(e0, "generateAST");
  function fs(i) {
    return /^[ \t\n\r]*$/.test(i);
  }
  a(fs, "isWhitespace");
  function rv(i) {
    return !/[#%{}~$,]/.test(i);
  }
  a(rv, "isValidKeyCharacter");
  function Zm(i) {
    return !/[=,{}()[\]]/.test(i);
  }
  a(Zm, "isValidFieldName");
  var st =
    ((_class14 = class _class extends Error {
      constructor(t, r, n, s, o, u) {
        super("Line ".concat(s, ":").concat(o, ": Syntax Error in ").concat(r.type, " (").concat(u, ")\n") + t.slice(Math.max(0, n - 20), n) + ">>" + t[n] + "<<" + t.slice(n + 1, n + 20));
        this.node = r;
        this.line = s;
        this.column = o;
        this.hint = u;
        (this.name = "Syntax Error"), (this.char = t[n]);
      }
    }),
    (() => {
      a(_class14, "BibTeXSyntaxError");
    })(),
    _class14);
  var Ki =
      ((_i = class i {
        constructor(e, t, ref) {
          var r = ref === void 0 ? [] : ref;
          this.kind = e;
          this.parent = t;
          this.children = r;
          this.type = "block";
          t instanceof i ? t.children.push(this) : t instanceof ps && t.args.push(this);
        }
      }),
      (() => {
        a(_i, "BlockNode");
      })(),
      _i),
    bl =
      ((_class15 = class _class {
        constructor(e, ref) {
          var t = ref === void 0 ? "" : ref;
          this.parent = e;
          this.text = t;
          this.type = "text";
          e.children.push(this);
        }
      }),
      (() => {
        a(_class15, "TextNode");
      })(),
      _class15),
    ps =
      ((_class16 = class _class {
        constructor(e, ref, ref1) {
          var t = ref === void 0 ? "" : ref,
            r = ref1 === void 0 ? [] : ref1;
          this.parent = e;
          this.command = t;
          this.args = r;
          this.type = "command";
          e.children.push(this);
        }
      }),
      (() => {
        a(_class16, "CommandNode");
      })(),
      _class16);
  function ms(i) {
    var e = new Ki("root"),
      t = e;
    for (var r = 0; r < i.length; r++) {
      var n = i[r];
      switch (t.type) {
        case "block": {
          n === "\\" ? (t = new ps(t)) : n === "{" ? (t = new Ki("curly", t)) : ((n === "}" && t.kind === "curly") || (n === "]" && t.kind === "square")) && t.parent ? (t = t.parent) : (t = new bl(t, n));
          break;
        }
        case "text": {
          n === "\\" || n === "{" || (n === "}" && t.parent.kind === "curly") || (n === "]" && t.parent.kind === "square") ? ((t = t.parent), r--) : (t.text += n);
          break;
        }
        case "command":
          n === "{" ? (t = new Ki("curly", t)) : n === "[" ? (t = new Ki("square", t)) : /\s/.test(n) ? ((t = t.parent), r--) : t.args.length === 0 ? (t.command += n) : ((t = t.parent), r--);
      }
    }
    return e;
  }
  a(ms, "parseLaTeX");
  function gs(i) {
    return Fl(i);
  }
  a(gs, "stringifyLaTeX");
  function Fl(i) {
    var e = i.children
      .map((t) => {
        switch (t.type) {
          case "block":
            return Fl(t);
          case "command":
            return nv(t);
          case "text":
            return t.text;
        }
      })
      .join("");
    switch (i.kind) {
      case "root":
        return e;
      case "curly":
        return "{" + e + "}";
      case "square":
        return "[" + e + "]";
    }
  }
  a(Fl, "stringifyBlock");
  function nv(i) {
    return "\\" + i.command + i.args.map(Fl).join("");
  }
  a(nv, "stringifyCommand");
  function Nr(i) {
    var e = _object_spread_props(_object_spread({}, i), { children: [] });
    var _iteratorNormalCompletion = true,
      _didIteratorError = false,
      _iteratorError = undefined;
    try {
      for (var _iterator = i.children[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
        var t = _step.value;
        if (t.type === "block" && t.kind === "curly") {
          var r = Nr(t);
          e.children.push(...r.children);
        } else e.children.push(t);
      }
    } catch (err) {
      _didIteratorError = true;
      _iteratorError = err;
    } finally {
      try {
        if (!_iteratorNormalCompletion && _iterator.return != null) {
          _iterator.return();
        }
      } finally {
        if (_didIteratorError) {
          throw _iteratorError;
        }
      }
    }
    return e;
  }
  a(Nr, "flattenLaTeX");
  var t0 = new Map([
    ["0023", "\\#"],
    ["0024", "\\$"],
    ["0025", "\\%"],
    ["0026", "\\&"],
    ["0027", "'"],
    ["0040", "\\@"],
    ["002a", "\\textasteriskcentered"],
    ["005f", "\\_"],
    ["007c", "\\vert{}"],
    ["00a0", "~"],
    ["00a1", "\\textexclamdown{}"],
    ["00a2", "\\textcent{}"],
    ["00a3", "\\textsterling{}"],
    ["00a4", "\\textcurrency{}"],
    ["00a5", "\\textyen{}"],
    ["00a6", "\\textbrokenbar{}"],
    ["00a7", "\\textsection{}"],
    ["00a8", "\\textasciidieresis{}"],
    ["00a9", "\\textcopyright{}"],
    ["00aa", "\\textordfeminine{}"],
    ["00ab", "\\guillemotleft{}"],
    ["00ac", "\\lnot{}"],
    ["00ad", "\\-"],
    ["00ae", "\\textregistered{}"],
    ["00af", "\\textasciimacron{}"],
    ["00b0", "\\textdegree{}"],
    ["00b1", "\\pm{}"],
    ["00b2", "\\ensuremath{^2}"],
    ["00b3", "\\ensuremath{^3}"],
    ["00b4", "\\textasciiacute{}"],
    ["00b5", "\\mathrm{\\mu}"],
    ["00b6", "\\textparagraph{}"],
    ["00b7", "\\cdot{}"],
    ["00b8", "\\c{}"],
    ["00b9", "\\ensuremath{^1}"],
    ["00ba", "\\textordmasculine{}"],
    ["00bb", "\\guillemotright{}"],
    ["00bc", "\\textonequarter{}"],
    ["00bd", "\\textonehalf{}"],
    ["00be", "\\textthreequarters{}"],
    ["00bf", "\\textquestiondown{}"],
    ["00c0", "\\`{A}"],
    ["00c1", "\\'{A}"],
    ["00c2", "\\^{A}"],
    ["00c3", "\\~{A}"],
    ["00c4", '\\"{A}'],
    ["00c5", "\\AA{}"],
    ["00c6", "\\AE{}"],
    ["00c7", "\\c{C}"],
    ["00c8", "\\`{E}"],
    ["00c9", "\\'{E}"],
    ["00ca", "\\^{E}"],
    ["00cb", '\\"{E}'],
    ["00cc", "\\`{I}"],
    ["00cd", "\\'{I}"],
    ["00ce", "\\^{I}"],
    ["00cf", '\\"{I}'],
    ["00d0", "\\DH{}"],
    ["00d1", "\\~{N}"],
    ["00d2", "\\`{O}"],
    ["00d3", "\\'{O}"],
    ["00d4", "\\^{O}"],
    ["00d5", "\\~{O}"],
    ["00d6", '\\"{O}'],
    ["00d7", "\\texttimes{}"],
    ["00d8", "\\O{}"],
    ["00d9", "\\`{U}"],
    ["00da", "\\'{U}"],
    ["00db", "\\^{U}"],
    ["00dc", '\\"{U}'],
    ["00dd", "\\'{Y}"],
    ["00de", "\\TH{}"],
    ["00df", "\\ss{}"],
    ["00e0", "\\`{a}"],
    ["00e1", "\\'{a}"],
    ["00e2", "\\^{a}"],
    ["00e3", "\\~{a}"],
    ["00e4", '\\"{a}'],
    ["00e5", "\\aa{}"],
    ["00e6", "\\ae{}"],
    ["00e7", "\\c{c}"],
    ["00e8", "\\`{e}"],
    ["00e9", "\\'{e}"],
    ["00ea", "\\^{e}"],
    ["00eb", '\\"{e}'],
    ["00ec", "\\`{\\i}"],
    ["00ed", "\\'{\\i}"],
    ["00ee", "\\^{\\i}"],
    ["00ef", '\\"{\\i}'],
    ["00f0", "\\dh{}"],
    ["00f1", "\\~{n}"],
    ["00f2", "\\`{o}"],
    ["00f3", "\\'{o}"],
    ["00f4", "\\^{o}"],
    ["00f5", "\\~{o}"],
    ["00f6", '\\"{o}'],
    ["00f7", "\\div{}"],
    ["00f8", "\\o{}"],
    ["00f9", "\\`{u}"],
    ["00fa", "\\'{u}"],
    ["00fb", "\\^{u}"],
    ["00fc", '\\"{u}'],
    ["00fd", "\\'{y}"],
    ["00fe", "\\th{}"],
    ["00ff", '\\"{y}'],
    ["0100", "\\={A}"],
    ["0101", "\\={a}"],
    ["0102", "\\u{A}"],
    ["0103", "\\u{a}"],
    ["0104", "\\k{A}"],
    ["0105", "\\k{a}"],
    ["0106", "\\'{C}"],
    ["0107", "\\'{c}"],
    ["0108", "\\^{C}"],
    ["0109", "\\^{c}"],
    ["010a", "\\.{C}"],
    ["010b", "\\.{c}"],
    ["010c", "\\v{C}"],
    ["010d", "\\v{c}"],
    ["010e", "\\v{D}"],
    ["010f", "\\v{d}"],
    ["0110", "\\DJ{}"],
    ["0111", "\\dj{}"],
    ["0112", "\\={E}"],
    ["0113", "\\={e}"],
    ["0114", "\\u{E}"],
    ["0115", "\\u{e}"],
    ["0116", "\\.{E}"],
    ["0117", "\\.{e}"],
    ["0118", "\\k{E}"],
    ["0119", "\\k{e}"],
    ["011a", "\\v{E}"],
    ["011b", "\\v{e}"],
    ["011c", "\\^{G}"],
    ["011d", "\\^{g}"],
    ["011e", "\\u{G}"],
    ["011f", "\\u{g}"],
    ["0120", "\\.{G}"],
    ["0121", "\\.{g}"],
    ["0122", "\\c{G}"],
    ["0123", "\\c{g}"],
    ["0124", "\\^{H}"],
    ["0125", "\\^{h}"],
    ["0126", "{\\fontencoding{LELA}\\selectfont\\char40}"],
    ["0127", "\\Elzxh{}"],
    ["0128", "\\~{I}"],
    ["0129", "\\~{\\i}"],
    ["012a", "\\={I}"],
    ["012b", "\\={\\i}"],
    ["012c", "\\u{I}"],
    ["012d", "\\u{\\i}"],
    ["012e", "\\k{I}"],
    ["012f", "\\k{i}"],
    ["0130", "\\.{I}"],
    ["0131", "\\i{}"],
    ["0132", "IJ"],
    ["0133", "ij"],
    ["0134", "\\^{J}"],
    ["0135", "\\^{\\j}"],
    ["0136", "\\c{K}"],
    ["0137", "\\c{k}"],
    ["0138", "{\\fontencoding{LELA}\\selectfont\\char91}"],
    ["0139", "\\'{L}"],
    ["013a", "\\'{l}"],
    ["013b", "\\c{L}"],
    ["013c", "\\c{l}"],
    ["013d", "\\v{L}"],
    ["013e", "\\v{l}"],
    ["013f", "{\\fontencoding{LELA}\\selectfont\\char201}"],
    ["0140", "{\\fontencoding{LELA}\\selectfont\\char202}"],
    ["0141", "\\L{}"],
    ["0142", "\\l{}"],
    ["0143", "\\'{N}"],
    ["0144", "\\'{n}"],
    ["0145", "\\c{N}"],
    ["0146", "\\c{n}"],
    ["0147", "\\v{N}"],
    ["0148", "\\v{n}"],
    ["0149", "'n"],
    ["014a", "\\NG{}"],
    ["014b", "\\ng{}"],
    ["014c", "\\={O}"],
    ["014d", "\\={o}"],
    ["014e", "\\u{O}"],
    ["014f", "\\u{o}"],
    ["0150", "\\H{O}"],
    ["0151", "\\H{o}"],
    ["0152", "\\OE{}"],
    ["0153", "\\oe{}"],
    ["0154", "\\'{R}"],
    ["0155", "\\'{r}"],
    ["0156", "\\c{R}"],
    ["0157", "\\c{r}"],
    ["0158", "\\v{R}"],
    ["0159", "\\v{r}"],
    ["015a", "\\'{S}"],
    ["015b", "\\'{s}"],
    ["015c", "\\^{S}"],
    ["015d", "\\^{s}"],
    ["015e", "\\c{S}"],
    ["015f", "\\c{s}"],
    ["0160", "\\v{S}"],
    ["0161", "\\v{s}"],
    ["0162", "\\c{T}"],
    ["0163", "\\c{t}"],
    ["0164", "\\v{T}"],
    ["0165", "\\v{t}"],
    ["0166", "{\\fontencoding{LELA}\\selectfont\\char47}"],
    ["0167", "{\\fontencoding{LELA}\\selectfont\\char63}"],
    ["0168", "\\~{U}"],
    ["0169", "\\~{u}"],
    ["016a", "\\={U}"],
    ["016b", "\\={u}"],
    ["016c", "\\u{U}"],
    ["016d", "\\u{u}"],
    ["016e", "\\r{U}"],
    ["016f", "\\r{u}"],
    ["0170", "\\H{U}"],
    ["0171", "\\H{u}"],
    ["0172", "\\k{U}"],
    ["0173", "\\k{u}"],
    ["0174", "\\^{W}"],
    ["0175", "\\^{w}"],
    ["0176", "\\^{Y}"],
    ["0177", "\\^{y}"],
    ["0178", '\\"{Y}'],
    ["0179", "\\'{Z}"],
    ["017a", "\\'{z}"],
    ["017b", "\\.{Z}"],
    ["017c", "\\.{z}"],
    ["017d", "\\v{Z}"],
    ["017e", "\\v{z}"],
    ["0195", "\\texthvlig{}"],
    ["019e", "\\textnrleg{}"],
    ["01aa", "\\eth{}"],
    ["01ba", "{\\fontencoding{LELA}\\selectfont\\char195}"],
    ["01c2", "\\textdoublepipe{}"],
    ["01f5", "\\'{g}"],
    ["0250", "\\Elztrna{}"],
    ["0252", "\\Elztrnsa{}"],
    ["0254", "\\Elzopeno{}"],
    ["0256", "\\Elzrtld{}"],
    ["0258", "{\\fontencoding{LEIP}\\selectfont\\char61}"],
    ["0259", "\\Elzschwa{}"],
    ["025b", "\\varepsilon{}"],
    ["0263", "\\Elzpgamma{}"],
    ["0264", "\\Elzpbgam{}"],
    ["0265", "\\Elztrnh{}"],
    ["026c", "\\Elzbtdl{}"],
    ["026d", "\\Elzrtll{}"],
    ["026f", "\\Elztrnm{}"],
    ["0270", "\\Elztrnmlr{}"],
    ["0271", "\\Elzltlmr{}"],
    ["0272", "\\Elzltln{}"],
    ["0273", "\\Elzrtln{}"],
    ["0277", "\\Elzclomeg{}"],
    ["0278", "\\textphi{}"],
    ["0279", "\\Elztrnr{}"],
    ["027a", "\\Elztrnrl{}"],
    ["027b", "\\Elzrttrnr{}"],
    ["027c", "\\Elzrl{}"],
    ["027d", "\\Elzrtlr{}"],
    ["027e", "\\Elzfhr{}"],
    ["027f", "{\\fontencoding{LEIP}\\selectfont\\char202}"],
    ["0282", "\\Elzrtls{}"],
    ["0283", "\\Elzesh{}"],
    ["0287", "\\Elztrnt{}"],
    ["0288", "\\Elzrtlt{}"],
    ["028a", "\\Elzpupsil{}"],
    ["028b", "\\Elzpscrv{}"],
    ["028c", "\\Elzinvv{}"],
    ["028d", "\\Elzinvw{}"],
    ["028e", "\\Elztrny{}"],
    ["0290", "\\Elzrtlz{}"],
    ["0292", "\\Elzyogh{}"],
    ["0294", "\\Elzglst{}"],
    ["0295", "\\Elzreglst{}"],
    ["0296", "\\Elzinglst{}"],
    ["029e", "\\textturnk{}"],
    ["02a4", "\\Elzdyogh{}"],
    ["02a7", "\\Elztesh{}"],
    ["02c7", "\\textasciicaron{}"],
    ["02c8", "\\Elzverts{}"],
    ["02cc", "\\Elzverti{}"],
    ["02d0", "\\Elzlmrk{}"],
    ["02d1", "\\Elzhlmrk{}"],
    ["02d2", "\\Elzsbrhr{}"],
    ["02d3", "\\Elzsblhr{}"],
    ["02d4", "\\Elzrais{}"],
    ["02d5", "\\Elzlow{}"],
    ["02d8", "\\textasciibreve{}"],
    ["02d9", "\\textperiodcentered{}"],
    ["02da", "\\r{}"],
    ["02db", "\\k{}"],
    ["02dc", "\\texttildelow{}"],
    ["02dd", "\\H{}"],
    ["02e5", "\\tone{55}"],
    ["02e6", "\\tone{44}"],
    ["02e7", "\\tone{33}"],
    ["02e8", "\\tone{22}"],
    ["02e9", "\\tone{11}"],
    ["0300", "\\`"],
    ["0301", "\\'"],
    ["0302", "\\^"],
    ["0303", "\\~"],
    ["0304", "\\="],
    ["0306", "\\u"],
    ["0307", "\\."],
    ["0308", '\\"'],
    ["030a", "\\r"],
    ["030b", "\\H"],
    ["030c", "\\v"],
    ["030f", "\\cyrchar\\C"],
    ["0311", "{\\fontencoding{LECO}\\selectfont\\char177}"],
    ["0318", "{\\fontencoding{LECO}\\selectfont\\char184}"],
    ["0319", "{\\fontencoding{LECO}\\selectfont\\char185}"],
    ["0321", "\\Elzpalh{}"],
    ["0322", "\\Elzrh{}"],
    ["0327", "\\c"],
    ["0328", "\\k"],
    ["032a", "\\Elzsbbrg{}"],
    ["032b", "{\\fontencoding{LECO}\\selectfont\\char203}"],
    ["032f", "{\\fontencoding{LECO}\\selectfont\\char207}"],
    ["0335", "\\Elzxl{}"],
    ["0336", "\\Elzbar{}"],
    ["0337", "{\\fontencoding{LECO}\\selectfont\\char215}"],
    ["0338", "{\\fontencoding{LECO}\\selectfont\\char216}"],
    ["033a", "{\\fontencoding{LECO}\\selectfont\\char218}"],
    ["033b", "{\\fontencoding{LECO}\\selectfont\\char219}"],
    ["033c", "{\\fontencoding{LECO}\\selectfont\\char220}"],
    ["033d", "{\\fontencoding{LECO}\\selectfont\\char221}"],
    ["0361", "{\\fontencoding{LECO}\\selectfont\\char225}"],
    ["0386", "\\'{A}"],
    ["0388", "\\'{E}"],
    ["0389", "\\'{H}"],
    ["038a", "\\'{}{I}"],
    ["038c", "\\'{}O"],
    ["038e", "\\mathrm{'Y}"],
    ["038f", "\\mathrm{'\\Omega}"],
    ["0390", "\\acute{\\ddot{\\iota}}"],
    ["0391", "\\ensuremath{\\Alpha}"],
    ["0392", "\\ensuremath{\\Beta}"],
    ["0393", "\\ensuremath{\\Gamma}"],
    ["0394", "\\ensuremath{\\Delta}"],
    ["0395", "\\ensuremath{\\Epsilon}"],
    ["0396", "\\ensuremath{\\Zeta}"],
    ["0397", "\\ensuremath{\\Eta}"],
    ["0398", "\\ensuremath{\\Theta}"],
    ["0399", "\\ensuremath{\\Iota}"],
    ["039a", "\\ensuremath{\\Kappa}"],
    ["039b", "\\ensuremath{\\Lambda}"],
    ["039e", "\\ensuremath{\\Xi}"],
    ["03a0", "\\ensuremath{\\Pi}"],
    ["03a1", "\\ensuremath{\\Rho}"],
    ["03a3", "\\ensuremath{\\Sigma}"],
    ["03a4", "\\ensuremath{\\Tau}"],
    ["03a5", "\\ensuremath{\\Upsilon}"],
    ["03a6", "\\ensuremath{\\Phi}"],
    ["03a7", "\\ensuremath{\\Chi}"],
    ["03a8", "\\ensuremath{\\Psi}"],
    ["03a9", "\\ensuremath{\\Omega}"],
    ["03aa", "\\mathrm{\\ddot{I}}"],
    ["03ab", "\\mathrm{\\ddot{Y}}"],
    ["03ac", "\\'{$\\alpha$}"],
    ["03ad", "\\acute{\\epsilon}"],
    ["03ae", "\\acute{\\eta}"],
    ["03af", "\\acute{\\iota}"],
    ["03b0", "\\acute{\\ddot{\\upsilon}}"],
    ["03b1", "\\ensuremath{\\alpha}"],
    ["03b2", "\\ensuremath{\\beta}"],
    ["03b3", "\\ensuremath{\\gamma}"],
    ["03b4", "\\ensuremath{\\delta}"],
    ["03b5", "\\ensuremath{\\epsilon}"],
    ["03b6", "\\ensuremath{\\zeta}"],
    ["03b7", "\\ensuremath{\\eta}"],
    ["03b8", "\\texttheta{}"],
    ["03b9", "\\ensuremath{\\iota}"],
    ["03ba", "\\ensuremath{\\kappa}"],
    ["03bb", "\\ensuremath{\\lambda}"],
    ["03bc", "\\ensuremath{\\mu}"],
    ["03bd", "\\ensuremath{\\nu}"],
    ["03be", "\\ensuremath{\\xi}"],
    ["03c0", "\\ensuremath{\\pi}"],
    ["03c1", "\\ensuremath{\\rho}"],
    ["03c2", "\\ensuremath{\\varsigma}"],
    ["03c3", "\\ensuremath{\\sigma}"],
    ["03c4", "\\ensuremath{\\tau}"],
    ["03c5", "\\ensuremath{\\upsilon}"],
    ["03c6", "\\ensuremath{\\varphi}"],
    ["03c7", "\\ensuremath{\\chi}"],
    ["03c8", "\\ensuremath{\\psi}"],
    ["03c9", "\\ensuremath{\\omega}"],
    ["03ca", "\\ensuremath{\\ddot{\\iota}}"],
    ["03cb", "\\ensuremath{\\ddot{\\upsilon}}"],
    ["03cc", "\\'{o}"],
    ["03cd", "\\acute{\\upsilon}"],
    ["03ce", "\\acute{\\omega}"],
    ["03d0", "\\Pisymbol{ppi022}{87}"],
    ["03d1", "\\textvartheta{}"],
    ["03d2", "\\ensuremath{\\Upsilon}"],
    ["03d5", "\\ensuremath{\\phi}"],
    ["03d6", "\\ensuremath{\\varpi}"],
    ["03da", "\\Stigma{}"],
    ["03dc", "\\Digamma{}"],
    ["03dd", "\\digamma{}"],
    ["03de", "\\Koppa{}"],
    ["03e0", "\\Sampi{}"],
    ["03f0", "\\varkappa{}"],
    ["03f1", "\\varrho{}"],
    ["03f4", "\\textTheta{}"],
    ["03f6", "\\backepsilon{}"],
    ["0401", "\\cyrchar\\CYRYO{}"],
    ["0402", "\\cyrchar\\CYRDJE{}"],
    ["0403", "\\cyrchar{\\'\\CYRG}"],
    ["0404", "\\cyrchar\\CYRIE{}"],
    ["0405", "\\cyrchar\\CYRDZE{}"],
    ["0406", "\\cyrchar\\CYRII{}"],
    ["0407", "\\cyrchar\\CYRYI{}"],
    ["0408", "\\cyrchar\\CYRJE{}"],
    ["0409", "\\cyrchar\\CYRLJE{}"],
    ["040a", "\\cyrchar\\CYRNJE{}"],
    ["040b", "\\cyrchar\\CYRTSHE{}"],
    ["040c", "\\cyrchar{\\'\\CYRK}"],
    ["040e", "\\cyrchar\\CYRUSHRT{}"],
    ["040f", "\\cyrchar\\CYRDZHE{}"],
    ["0410", "\\cyrchar\\CYRA{}"],
    ["0411", "\\cyrchar\\CYRB{}"],
    ["0412", "\\cyrchar\\CYRV{}"],
    ["0413", "\\cyrchar\\CYRG{}"],
    ["0414", "\\cyrchar\\CYRD{}"],
    ["0415", "\\cyrchar\\CYRE{}"],
    ["0416", "\\cyrchar\\CYRZH{}"],
    ["0417", "\\cyrchar\\CYRZ{}"],
    ["0418", "\\cyrchar\\CYRI{}"],
    ["0419", "\\cyrchar\\CYRISHRT{}"],
    ["041a", "\\cyrchar\\CYRK{}"],
    ["041b", "\\cyrchar\\CYRL{}"],
    ["041c", "\\cyrchar\\CYRM{}"],
    ["041d", "\\cyrchar\\CYRN{}"],
    ["041e", "\\cyrchar\\CYRO{}"],
    ["041f", "\\cyrchar\\CYRP{}"],
    ["0420", "\\cyrchar\\CYRR{}"],
    ["0421", "\\cyrchar\\CYRS{}"],
    ["0422", "\\cyrchar\\CYRT{}"],
    ["0423", "\\cyrchar\\CYRU{}"],
    ["0424", "\\cyrchar\\CYRF{}"],
    ["0425", "\\cyrchar\\CYRH{}"],
    ["0426", "\\cyrchar\\CYRC{}"],
    ["0427", "\\cyrchar\\CYRCH{}"],
    ["0428", "\\cyrchar\\CYRSH{}"],
    ["0429", "\\cyrchar\\CYRSHCH{}"],
    ["042a", "\\cyrchar\\CYRHRDSN{}"],
    ["042b", "\\cyrchar\\CYRERY{}"],
    ["042c", "\\cyrchar\\CYRSFTSN{}"],
    ["042d", "\\cyrchar\\CYREREV{}"],
    ["042e", "\\cyrchar\\CYRYU{}"],
    ["042f", "\\cyrchar\\CYRYA{}"],
    ["0430", "\\cyrchar\\cyra{}"],
    ["0431", "\\cyrchar\\cyrb{}"],
    ["0432", "\\cyrchar\\cyrv{}"],
    ["0433", "\\cyrchar\\cyrg{}"],
    ["0434", "\\cyrchar\\cyrd{}"],
    ["0435", "\\cyrchar\\cyre{}"],
    ["0436", "\\cyrchar\\cyrzh{}"],
    ["0437", "\\cyrchar\\cyrz{}"],
    ["0438", "\\cyrchar\\cyri{}"],
    ["0439", "\\cyrchar\\cyrishrt{}"],
    ["043a", "\\cyrchar\\cyrk{}"],
    ["043b", "\\cyrchar\\cyrl{}"],
    ["043c", "\\cyrchar\\cyrm{}"],
    ["043d", "\\cyrchar\\cyrn{}"],
    ["043e", "\\cyrchar\\cyro{}"],
    ["043f", "\\cyrchar\\cyrp{}"],
    ["0440", "\\cyrchar\\cyrr{}"],
    ["0441", "\\cyrchar\\cyrs{}"],
    ["0442", "\\cyrchar\\cyrt{}"],
    ["0443", "\\cyrchar\\cyru{}"],
    ["0444", "\\cyrchar\\cyrf{}"],
    ["0445", "\\cyrchar\\cyrh{}"],
    ["0446", "\\cyrchar\\cyrc{}"],
    ["0447", "\\cyrchar\\cyrch{}"],
    ["0448", "\\cyrchar\\cyrsh{}"],
    ["0449", "\\cyrchar\\cyrshch{}"],
    ["044a", "\\cyrchar\\cyrhrdsn{}"],
    ["044b", "\\cyrchar\\cyrery{}"],
    ["044c", "\\cyrchar\\cyrsftsn{}"],
    ["044d", "\\cyrchar\\cyrerev{}"],
    ["044e", "\\cyrchar\\cyryu{}"],
    ["044f", "\\cyrchar\\cyrya{}"],
    ["0451", "\\cyrchar\\cyryo{}"],
    ["0452", "\\cyrchar\\cyrdje{}"],
    ["0453", "\\cyrchar{\\'\\cyrg}"],
    ["0454", "\\cyrchar\\cyrie{}"],
    ["0455", "\\cyrchar\\cyrdze{}"],
    ["0456", "\\cyrchar\\cyrii{}"],
    ["0457", "\\cyrchar\\cyryi{}"],
    ["0458", "\\cyrchar\\cyrje{}"],
    ["0459", "\\cyrchar\\cyrlje{}"],
    ["045a", "\\cyrchar\\cyrnje{}"],
    ["045b", "\\cyrchar\\cyrtshe{}"],
    ["045c", "\\cyrchar{\\'\\cyrk}"],
    ["045e", "\\cyrchar\\cyrushrt{}"],
    ["045f", "\\cyrchar\\cyrdzhe{}"],
    ["0460", "\\cyrchar\\CYROMEGA{}"],
    ["0461", "\\cyrchar\\cyromega{}"],
    ["0462", "\\cyrchar\\CYRYAT{}"],
    ["0464", "\\cyrchar\\CYRIOTE{}"],
    ["0465", "\\cyrchar\\cyriote{}"],
    ["0466", "\\cyrchar\\CYRLYUS{}"],
    ["0467", "\\cyrchar\\cyrlyus{}"],
    ["0468", "\\cyrchar\\CYRIOTLYUS{}"],
    ["0469", "\\cyrchar\\cyriotlyus{}"],
    ["046a", "\\cyrchar\\CYRBYUS{}"],
    ["046c", "\\cyrchar\\CYRIOTBYUS{}"],
    ["046d", "\\cyrchar\\cyriotbyus{}"],
    ["046e", "\\cyrchar\\CYRKSI{}"],
    ["046f", "\\cyrchar\\cyrksi{}"],
    ["0470", "\\cyrchar\\CYRPSI{}"],
    ["0471", "\\cyrchar\\cyrpsi{}"],
    ["0472", "\\cyrchar\\CYRFITA{}"],
    ["0474", "\\cyrchar\\CYRIZH{}"],
    ["0478", "\\cyrchar\\CYRUK{}"],
    ["0479", "\\cyrchar\\cyruk{}"],
    ["047a", "\\cyrchar\\CYROMEGARND{}"],
    ["047b", "\\cyrchar\\cyromegarnd{}"],
    ["047c", "\\cyrchar\\CYROMEGATITLO{}"],
    ["047d", "\\cyrchar\\cyromegatitlo{}"],
    ["047e", "\\cyrchar\\CYROT{}"],
    ["047f", "\\cyrchar\\cyrot{}"],
    ["0480", "\\cyrchar\\CYRKOPPA{}"],
    ["0481", "\\cyrchar\\cyrkoppa{}"],
    ["0482", "\\cyrchar\\cyrthousands{}"],
    ["0488", "\\cyrchar\\cyrhundredthousands{}"],
    ["0489", "\\cyrchar\\cyrmillions{}"],
    ["048c", "\\cyrchar\\CYRSEMISFTSN{}"],
    ["048d", "\\cyrchar\\cyrsemisftsn{}"],
    ["048e", "\\cyrchar\\CYRRTICK{}"],
    ["048f", "\\cyrchar\\cyrrtick{}"],
    ["0490", "\\cyrchar\\CYRGUP{}"],
    ["0491", "\\cyrchar\\cyrgup{}"],
    ["0492", "\\cyrchar\\CYRGHCRS{}"],
    ["0493", "\\cyrchar\\cyrghcrs{}"],
    ["0494", "\\cyrchar\\CYRGHK{}"],
    ["0495", "\\cyrchar\\cyrghk{}"],
    ["0496", "\\cyrchar\\CYRZHDSC{}"],
    ["0497", "\\cyrchar\\cyrzhdsc{}"],
    ["0498", "\\cyrchar\\CYRZDSC{}"],
    ["0499", "\\cyrchar\\cyrzdsc{}"],
    ["049a", "\\cyrchar\\CYRKDSC{}"],
    ["049b", "\\cyrchar\\cyrkdsc{}"],
    ["049c", "\\cyrchar\\CYRKVCRS{}"],
    ["049d", "\\cyrchar\\cyrkvcrs{}"],
    ["049e", "\\cyrchar\\CYRKHCRS{}"],
    ["049f", "\\cyrchar\\cyrkhcrs{}"],
    ["04a0", "\\cyrchar\\CYRKBEAK{}"],
    ["04a1", "\\cyrchar\\cyrkbeak{}"],
    ["04a2", "\\cyrchar\\CYRNDSC{}"],
    ["04a3", "\\cyrchar\\cyrndsc{}"],
    ["04a4", "\\cyrchar\\CYRNG{}"],
    ["04a5", "\\cyrchar\\cyrng{}"],
    ["04a6", "\\cyrchar\\CYRPHK{}"],
    ["04a7", "\\cyrchar\\cyrphk{}"],
    ["04a8", "\\cyrchar\\CYRABHHA{}"],
    ["04a9", "\\cyrchar\\cyrabhha{}"],
    ["04aa", "\\cyrchar\\CYRSDSC{}"],
    ["04ab", "\\cyrchar\\cyrsdsc{}"],
    ["04ac", "\\cyrchar\\CYRTDSC{}"],
    ["04ad", "\\cyrchar\\cyrtdsc{}"],
    ["04ae", "\\cyrchar\\CYRY{}"],
    ["04af", "\\cyrchar\\cyry{}"],
    ["04b0", "\\cyrchar\\CYRYHCRS{}"],
    ["04b1", "\\cyrchar\\cyryhcrs{}"],
    ["04b2", "\\cyrchar\\CYRHDSC{}"],
    ["04b3", "\\cyrchar\\cyrhdsc{}"],
    ["04b4", "\\cyrchar\\CYRTETSE{}"],
    ["04b5", "\\cyrchar\\cyrtetse{}"],
    ["04b6", "\\cyrchar\\CYRCHRDSC{}"],
    ["04b7", "\\cyrchar\\cyrchrdsc{}"],
    ["04b8", "\\cyrchar\\CYRCHVCRS{}"],
    ["04b9", "\\cyrchar\\cyrchvcrs{}"],
    ["04ba", "\\cyrchar\\CYRSHHA{}"],
    ["04bb", "\\cyrchar\\cyrshha{}"],
    ["04bc", "\\cyrchar\\CYRABHCH{}"],
    ["04bd", "\\cyrchar\\cyrabhch{}"],
    ["04be", "\\cyrchar\\CYRABHCHDSC{}"],
    ["04bf", "\\cyrchar\\cyrabhchdsc{}"],
    ["04c0", "\\cyrchar\\CYRpalochka{}"],
    ["04c3", "\\cyrchar\\CYRKHK{}"],
    ["04c4", "\\cyrchar\\cyrkhk{}"],
    ["04c7", "\\cyrchar\\CYRNHK{}"],
    ["04c8", "\\cyrchar\\cyrnhk{}"],
    ["04cb", "\\cyrchar\\CYRCHLDSC{}"],
    ["04cc", "\\cyrchar\\cyrchldsc{}"],
    ["04d4", "\\cyrchar\\CYRAE{}"],
    ["04d5", "\\cyrchar\\cyrae{}"],
    ["04d8", "\\cyrchar\\CYRSCHWA{}"],
    ["04d9", "\\cyrchar\\cyrschwa{}"],
    ["04e0", "\\cyrchar\\CYRABHDZE{}"],
    ["04e1", "\\cyrchar\\cyrabhdze{}"],
    ["04e8", "\\cyrchar\\CYROTLD{}"],
    ["04e9", "\\cyrchar\\cyrotld{}"],
    ["2002", "\\hspace{0.6em}"],
    ["2003", "\\hspace{1em}"],
    ["2004", "\\hspace{0.33em}"],
    ["2005", "\\hspace{0.25em}"],
    ["2006", "\\hspace{0.166em}"],
    ["2007", "\\hphantom{0}"],
    ["2008", "\\hphantom{,}"],
    ["2009", "\\hspace{0.167em}"],
    ["200a", "\\mkern1mu{}"],
    ["2010", "-"],
    ["2014", "--"],
    ["2015", "\\rule{1em}{1pt}"],
    ["2016", "\\Vert{}"],
    ["2018", "`"],
    ["2019", "'"],
    ["201b", "\\Elzreapos{}"],
    ["201c", "``"],
    ["201d", "''"],
    ["201e", ",,"],
    ["2020", "\\textdagger{}"],
    ["2021", "\\textdaggerdbl{}"],
    ["2022", "\\textbullet{}"],
    ["2025", ".."],
    ["2026", "\\ldots{}"],
    ["2030", "\\textperthousand{}"],
    ["2031", "\\textpertenthousand{}"],
    ["2032", "\\ensuremath{'}"],
    ["2033", "\\ensuremath{''}"],
    ["2034", "\\ensuremath{'''}"],
    ["2035", "\\backprime{}"],
    ["2039", "\\guilsinglleft{}"],
    ["203a", "\\guilsinglright{}"],
    ["2057", "''''"],
    ["205f", "\\mkern4mu{}"],
    ["2060", "\\nolinebreak{}"],
    ["20a7", "\\ensuremath{\\Elzpes}"],
    ["20ac", "\\mbox{\\texteuro}{}"],
    ["20db", "\\dddot{}"],
    ["20dc", "\\ddddot{}"],
    ["2102", "\\mathbb{C}"],
    ["210a", "\\mathscr{g}"],
    ["210b", "\\mathscr{H}"],
    ["210c", "\\mathfrak{H}"],
    ["210d", "\\mathbb{H}"],
    ["210f", "\\hslash{}"],
    ["2110", "\\mathscr{I}"],
    ["2111", "\\mathfrak{I}"],
    ["2112", "\\mathscr{L}"],
    ["2113", "\\mathscr{l}"],
    ["2115", "\\mathbb{N}"],
    ["2116", "\\cyrchar\\textnumero{}"],
    ["2118", "\\wp{}"],
    ["2119", "\\mathbb{P}"],
    ["211a", "\\mathbb{Q}"],
    ["211b", "\\mathscr{R}"],
    ["211c", "\\mathfrak{R}"],
    ["211d", "\\mathbb{R}"],
    ["211e", "\\Elzxrat{}"],
    ["2122", "\\texttrademark{}"],
    ["2124", "\\mathbb{Z}"],
    ["2126", "\\Omega{}"],
    ["2127", "\\mho{}"],
    ["2128", "\\mathfrak{Z}"],
    ["2129", "\\ElsevierGlyph{2129}"],
    ["212b", "\\AA{}"],
    ["212c", "\\mathscr{B}"],
    ["212d", "\\mathfrak{C}"],
    ["212f", "\\mathscr{e}"],
    ["2130", "\\mathscr{E}"],
    ["2131", "\\mathscr{F}"],
    ["2133", "\\mathscr{M}"],
    ["2134", "\\mathscr{o}"],
    ["2135", "\\aleph{}"],
    ["2136", "\\beth{}"],
    ["2137", "\\gimel{}"],
    ["2138", "\\daleth{}"],
    ["2153", "\\textfrac{1}{3}"],
    ["2154", "\\textfrac{2}{3}"],
    ["2155", "\\textfrac{1}{5}"],
    ["2156", "\\textfrac{2}{5}"],
    ["2157", "\\textfrac{3}{5}"],
    ["2158", "\\textfrac{4}{5}"],
    ["2159", "\\textfrac{1}{6}"],
    ["215a", "\\textfrac{5}{6}"],
    ["215b", "\\textfrac{1}{8}"],
    ["215c", "\\textfrac{3}{8}"],
    ["215d", "\\textfrac{5}{8}"],
    ["215e", "\\textfrac{7}{8}"],
    ["2190", "\\leftarrow{}"],
    ["2191", "\\uparrow{}"],
    ["2192", "\\rightarrow{}"],
    ["2193", "\\downarrow{}"],
    ["2194", "\\leftrightarrow{}"],
    ["2195", "\\updownarrow{}"],
    ["2196", "\\nwarrow{}"],
    ["2197", "\\nearrow{}"],
    ["2198", "\\searrow{}"],
    ["2199", "\\swarrow{}"],
    ["219a", "\\nleftarrow{}"],
    ["219b", "\\nrightarrow{}"],
    ["219c", "\\arrowwaveright{}"],
    ["219d", "\\arrowwaveright{}"],
    ["219e", "\\twoheadleftarrow{}"],
    ["21a0", "\\twoheadrightarrow{}"],
    ["21a2", "\\leftarrowtail{}"],
    ["21a3", "\\rightarrowtail{}"],
    ["21a6", "\\mapsto{}"],
    ["21a9", "\\hookleftarrow{}"],
    ["21aa", "\\hookrightarrow{}"],
    ["21ab", "\\looparrowleft{}"],
    ["21ac", "\\looparrowright{}"],
    ["21ad", "\\leftrightsquigarrow{}"],
    ["21ae", "\\nleftrightarrow{}"],
    ["21b0", "\\Lsh{}"],
    ["21b1", "\\Rsh{}"],
    ["21b3", "\\ElsevierGlyph{21B3}"],
    ["21b6", "\\curvearrowleft{}"],
    ["21b7", "\\curvearrowright{}"],
    ["21ba", "\\circlearrowleft{}"],
    ["21bb", "\\circlearrowright{}"],
    ["21bc", "\\leftharpoonup{}"],
    ["21bd", "\\leftharpoondown{}"],
    ["21be", "\\upharpoonright{}"],
    ["21bf", "\\upharpoonleft{}"],
    ["21c0", "\\rightharpoonup{}"],
    ["21c1", "\\rightharpoondown{}"],
    ["21c2", "\\downharpoonright{}"],
    ["21c3", "\\downharpoonleft{}"],
    ["21c4", "\\rightleftarrows{}"],
    ["21c5", "\\dblarrowupdown{}"],
    ["21c6", "\\leftrightarrows{}"],
    ["21c7", "\\leftleftarrows{}"],
    ["21c8", "\\upuparrows{}"],
    ["21c9", "\\rightrightarrows{}"],
    ["21ca", "\\downdownarrows{}"],
    ["21cb", "\\leftrightharpoons{}"],
    ["21cc", "\\rightleftharpoons{}"],
    ["21cd", "\\nLeftarrow{}"],
    ["21ce", "\\nLeftrightarrow{}"],
    ["21cf", "\\nRightarrow{}"],
    ["21d0", "\\Leftarrow{}"],
    ["21d1", "\\Uparrow{}"],
    ["21d2", "\\Rightarrow{}"],
    ["21d3", "\\Downarrow{}"],
    ["21d4", "\\Leftrightarrow{}"],
    ["21d5", "\\Updownarrow{}"],
    ["21da", "\\Lleftarrow{}"],
    ["21db", "\\Rrightarrow{}"],
    ["21dd", "\\rightsquigarrow{}"],
    ["21f5", "\\DownArrowUpArrow{}"],
    ["2200", "\\forall{}"],
    ["2201", "\\complement{}"],
    ["2202", "\\partial{}"],
    ["2203", "\\exists{}"],
    ["2204", "\\nexists{}"],
    ["2205", "\\varnothing{}"],
    ["2207", "\\nabla{}"],
    ["2208", "\\in{}"],
    ["2209", "\\not\\in{}"],
    ["220b", "\\ni{}"],
    ["220c", "\\not\\ni{}"],
    ["220f", "\\prod{}"],
    ["2210", "\\coprod{}"],
    ["2211", "\\sum{}"],
    ["2212", "-"],
    ["2213", "\\mp{}"],
    ["2214", "\\dotplus{}"],
    ["2216", "\\setminus{}"],
    ["2217", "{\\_\\ast}"],
    ["2218", "\\circ{}"],
    ["2219", "\\bullet{}"],
    ["221a", "\\surd{}"],
    ["221d", "\\propto{}"],
    ["221e", "\\infty{}"],
    ["221f", "\\rightangle{}"],
    ["2220", "\\angle{}"],
    ["2221", "\\measuredangle{}"],
    ["2222", "\\sphericalangle{}"],
    ["2223", "\\mid{}"],
    ["2224", "\\nmid{}"],
    ["2225", "\\parallel{}"],
    ["2226", "\\nparallel{}"],
    ["2227", "\\wedge{}"],
    ["2228", "\\vee{}"],
    ["2229", "\\cap{}"],
    ["222a", "\\cup{}"],
    ["222b", "\\int{}"],
    ["222c", "\\int\\!\\int{}"],
    ["222d", "\\int\\!\\int\\!\\int{}"],
    ["222e", "\\oint{}"],
    ["222f", "\\surfintegral{}"],
    ["2230", "\\volintegral{}"],
    ["2231", "\\clwintegral{}"],
    ["2232", "\\ElsevierGlyph{2232}"],
    ["2233", "\\ElsevierGlyph{2233}"],
    ["2234", "\\therefore{}"],
    ["2235", "\\because{}"],
    ["2237", "\\Colon{}"],
    ["2238", "\\ElsevierGlyph{2238}"],
    ["223a", "\\mathbin{{:}\\!\\!{-}\\!\\!{:}}"],
    ["223b", "\\homothetic{}"],
    ["223c", "\\sim{}"],
    ["223d", "\\backsim{}"],
    ["223e", "\\lazysinv{}"],
    ["2240", "\\wr{}"],
    ["2241", "\\not\\sim{}"],
    ["2242", "\\ElsevierGlyph{2242}"],
    ["2243", "\\simeq{}"],
    ["2244", "\\not\\simeq{}"],
    ["2245", "\\cong{}"],
    ["2246", "\\approxnotequal{}"],
    ["2247", "\\not\\cong{}"],
    ["2248", "\\approx{}"],
    ["2249", "\\not\\approx{}"],
    ["224a", "\\approxeq{}"],
    ["224b", "\\tildetrpl{}"],
    ["224c", "\\allequal{}"],
    ["224d", "\\asymp{}"],
    ["224e", "\\Bumpeq{}"],
    ["224f", "\\bumpeq{}"],
    ["2250", "\\doteq{}"],
    ["2251", "\\doteqdot{}"],
    ["2252", "\\fallingdotseq{}"],
    ["2253", "\\risingdotseq{}"],
    ["2254", ":="],
    ["2255", "=:"],
    ["2256", "\\eqcirc{}"],
    ["2257", "\\circeq{}"],
    ["2259", "\\estimates{}"],
    ["225a", "\\ElsevierGlyph{225A}"],
    ["225b", "\\starequal{}"],
    ["225c", "\\triangleq{}"],
    ["225f", "\\ElsevierGlyph{225F}"],
    ["2260", "\\not ="],
    ["2261", "\\equiv{}"],
    ["2262", "\\not\\equiv{}"],
    ["2264", "\\leq{}"],
    ["2265", "\\geq{}"],
    ["2266", "\\leqq{}"],
    ["2267", "\\geqq{}"],
    ["2268", "\\lneqq{}"],
    ["2269", "\\gneqq{}"],
    ["226a", "\\ll{}"],
    ["226b", "\\gg{}"],
    ["226c", "\\between{}"],
    ["226d", "\\not\\kern-0.3em\\times{}"],
    ["226e", "\\not&lt;"],
    ["226f", "\\not&gt;"],
    ["2270", "\\not\\leq{}"],
    ["2271", "\\not\\geq{}"],
    ["2272", "\\lessequivlnt{}"],
    ["2273", "\\greaterequivlnt{}"],
    ["2274", "\\ElsevierGlyph{2274}"],
    ["2275", "\\ElsevierGlyph{2275}"],
    ["2276", "\\lessgtr{}"],
    ["2277", "\\gtrless{}"],
    ["2278", "\\notlessgreater{}"],
    ["2279", "\\notgreaterless{}"],
    ["227a", "\\prec{}"],
    ["227b", "\\succ{}"],
    ["227c", "\\preccurlyeq{}"],
    ["227d", "\\succcurlyeq{}"],
    ["227e", "\\precapprox{}"],
    ["227f", "\\succapprox{}"],
    ["2280", "\\not\\prec{}"],
    ["2281", "\\not\\succ{}"],
    ["2282", "\\subset{}"],
    ["2283", "\\supset{}"],
    ["2284", "\\not\\subset{}"],
    ["2285", "\\not\\supset{}"],
    ["2286", "\\subseteq{}"],
    ["2287", "\\supseteq{}"],
    ["2288", "\\not\\subseteq{}"],
    ["2289", "\\not\\supseteq{}"],
    ["228a", "\\subsetneq{}"],
    ["228b", "\\supsetneq{}"],
    ["228e", "\\uplus{}"],
    ["228f", "\\sqsubset{}"],
    ["2290", "\\sqsupset{}"],
    ["2291", "\\sqsubseteq{}"],
    ["2292", "\\sqsupseteq{}"],
    ["2293", "\\sqcap{}"],
    ["2294", "\\sqcup{}"],
    ["2295", "\\oplus{}"],
    ["2296", "\\ominus{}"],
    ["2297", "\\otimes{}"],
    ["2298", "\\oslash{}"],
    ["2299", "\\odot{}"],
    ["229a", "\\circledcirc{}"],
    ["229b", "\\circledast{}"],
    ["229d", "\\circleddash{}"],
    ["229e", "\\boxplus{}"],
    ["229f", "\\boxminus{}"],
    ["22a0", "\\boxtimes{}"],
    ["22a1", "\\boxdot{}"],
    ["22a2", "\\vdash{}"],
    ["22a3", "\\dashv{}"],
    ["22a4", "\\top{}"],
    ["22a5", "\\perp{}"],
    ["22a7", "\\truestate{}"],
    ["22a8", "\\forcesextra{}"],
    ["22a9", "\\Vdash{}"],
    ["22aa", "\\Vvdash{}"],
    ["22ab", "\\VDash{}"],
    ["22ac", "\\nvdash{}"],
    ["22ad", "\\nvDash{}"],
    ["22ae", "\\nVdash{}"],
    ["22af", "\\nVDash{}"],
    ["22b2", "\\vartriangleleft{}"],
    ["22b3", "\\vartriangleright{}"],
    ["22b4", "\\trianglelefteq{}"],
    ["22b5", "\\trianglerighteq{}"],
    ["22b6", "\\original{}"],
    ["22b7", "\\image{}"],
    ["22b8", "\\multimap{}"],
    ["22b9", "\\hermitconjmatrix{}"],
    ["22ba", "\\intercal{}"],
    ["22bb", "\\veebar{}"],
    ["22be", "\\rightanglearc{}"],
    ["22c0", "\\ElsevierGlyph{22C0}"],
    ["22c1", "\\ElsevierGlyph{22C1}"],
    ["22c2", "\\bigcap{}"],
    ["22c3", "\\bigcup{}"],
    ["22c4", "\\diamond{}"],
    ["22c5", "\\cdot{}"],
    ["22c6", "\\star{}"],
    ["22c7", "\\divideontimes{}"],
    ["22c8", "\\bowtie{}"],
    ["22c9", "\\ltimes{}"],
    ["22ca", "\\rtimes{}"],
    ["22cb", "\\leftthreetimes{}"],
    ["22cc", "\\rightthreetimes{}"],
    ["22cd", "\\backsimeq{}"],
    ["22ce", "\\curlyvee{}"],
    ["22cf", "\\curlywedge{}"],
    ["22d0", "\\Subset{}"],
    ["22d1", "\\Supset{}"],
    ["22d2", "\\Cap{}"],
    ["22d3", "\\Cup{}"],
    ["22d4", "\\pitchfork{}"],
    ["22d6", "\\lessdot{}"],
    ["22d7", "\\gtrdot{}"],
    ["22d8", "\\verymuchless{}"],
    ["22d9", "\\verymuchgreater{}"],
    ["22da", "\\lesseqgtr{}"],
    ["22db", "\\gtreqless{}"],
    ["22de", "\\curlyeqprec{}"],
    ["22df", "\\curlyeqsucc{}"],
    ["22e2", "\\not\\sqsubseteq{}"],
    ["22e3", "\\not\\sqsupseteq{}"],
    ["22e5", "\\Elzsqspne{}"],
    ["22e6", "\\lnsim{}"],
    ["22e7", "\\gnsim{}"],
    ["22e8", "\\precedesnotsimilar{}"],
    ["22e9", "\\succnsim{}"],
    ["22ea", "\\ntriangleleft{}"],
    ["22eb", "\\ntriangleright{}"],
    ["22ec", "\\ntrianglelefteq{}"],
    ["22ed", "\\ntrianglerighteq{}"],
    ["22ee", "\\vdots{}"],
    ["22ef", "\\cdots{}"],
    ["22f0", "\\upslopeellipsis{}"],
    ["22f1", "\\downslopeellipsis{}"],
    ["2305", "\\barwedge{}"],
    ["2306", "\\perspcorrespond{}"],
    ["2308", "\\lceil{}"],
    ["2309", "\\rceil{}"],
    ["230a", "\\lfloor{}"],
    ["230b", "\\rfloor{}"],
    ["2315", "\\recorder{}"],
    ["2316", '\\mathchar"2208'],
    ["231c", "\\ulcorner{}"],
    ["231d", "\\urcorner{}"],
    ["231e", "\\llcorner{}"],
    ["231f", "\\lrcorner{}"],
    ["2322", "\\frown{}"],
    ["2323", "\\smile{}"],
    ["2329", "\\langle{}"],
    ["232a", "\\rangle{}"],
    ["233d", "\\ElsevierGlyph{E838}"],
    ["23a3", "\\Elzdlcorn{}"],
    ["23b0", "\\lmoustache{}"],
    ["23b1", "\\rmoustache{}"],
    ["2423", "\\textvisiblespace{}"],
    ["2460", "\\ding{172}"],
    ["2461", "\\ding{173}"],
    ["2462", "\\ding{174}"],
    ["2463", "\\ding{175}"],
    ["2464", "\\ding{176}"],
    ["2465", "\\ding{177}"],
    ["2466", "\\ding{178}"],
    ["2467", "\\ding{179}"],
    ["2468", "\\ding{180}"],
    ["2469", "\\ding{181}"],
    ["24c8", "\\circledS{}"],
    ["2506", "\\Elzdshfnc{}"],
    ["2519", "\\Elzsqfnw{}"],
    ["2571", "\\diagup{}"],
    ["25a0", "\\ding{110}"],
    ["25a1", "\\square{}"],
    ["25aa", "\\blacksquare{}"],
    ["25ad", "\\fbox{~~}"],
    ["25af", "\\Elzvrecto{}"],
    ["25b1", "\\ElsevierGlyph{E381}"],
    ["25b2", "\\ding{115}"],
    ["25b3", "\\bigtriangleup{}"],
    ["25b4", "\\blacktriangle{}"],
    ["25b5", "\\vartriangle{}"],
    ["25b8", "\\blacktriangleright{}"],
    ["25b9", "\\triangleright{}"],
    ["25bc", "\\ding{116}"],
    ["25bd", "\\bigtriangledown{}"],
    ["25be", "\\blacktriangledown{}"],
    ["25bf", "\\triangledown{}"],
    ["25c2", "\\blacktriangleleft{}"],
    ["25c3", "\\triangleleft{}"],
    ["25c6", "\\ding{117}"],
    ["25ca", "\\lozenge{}"],
    ["25cb", "\\bigcirc{}"],
    ["25cf", "\\ding{108}"],
    ["25d0", "\\Elzcirfl{}"],
    ["25d1", "\\Elzcirfr{}"],
    ["25d2", "\\Elzcirfb{}"],
    ["25d7", "\\ding{119}"],
    ["25d8", "\\Elzrvbull{}"],
    ["25e7", "\\Elzsqfl{}"],
    ["25e8", "\\Elzsqfr{}"],
    ["25ea", "\\Elzsqfse{}"],
    ["25ef", "\\bigcirc{}"],
    ["2605", "\\ding{72}"],
    ["2606", "\\ding{73}"],
    ["260e", "\\ding{37}"],
    ["261b", "\\ding{42}"],
    ["261e", "\\ding{43}"],
    ["263e", "\\rightmoon{}"],
    ["263f", "\\mercury{}"],
    ["2640", "\\venus{}"],
    ["2642", "\\male{}"],
    ["2643", "\\jupiter{}"],
    ["2644", "\\saturn{}"],
    ["2645", "\\uranus{}"],
    ["2646", "\\neptune{}"],
    ["2647", "\\pluto{}"],
    ["2648", "\\aries{}"],
    ["2649", "\\taurus{}"],
    ["264a", "\\gemini{}"],
    ["264b", "\\cancer{}"],
    ["264c", "\\leo{}"],
    ["264d", "\\virgo{}"],
    ["264e", "\\libra{}"],
    ["264f", "\\scorpio{}"],
    ["2650", "\\sagittarius{}"],
    ["2651", "\\capricornus{}"],
    ["2652", "\\aquarius{}"],
    ["2653", "\\pisces{}"],
    ["2660", "\\ding{171}"],
    ["2662", "\\diamond{}"],
    ["2663", "\\ding{168}"],
    ["2665", "\\ding{170}"],
    ["2666", "\\ding{169}"],
    ["2669", "\\quarternote{}"],
    ["266a", "\\eighthnote{}"],
    ["266d", "\\flat{}"],
    ["266e", "\\natural{}"],
    ["266f", "\\sharp{}"],
    ["2701", "\\ding{33}"],
    ["2702", "\\ding{34}"],
    ["2703", "\\ding{35}"],
    ["2704", "\\ding{36}"],
    ["2706", "\\ding{38}"],
    ["2707", "\\ding{39}"],
    ["2708", "\\ding{40}"],
    ["2709", "\\ding{41}"],
    ["270c", "\\ding{44}"],
    ["270d", "\\ding{45}"],
    ["270e", "\\ding{46}"],
    ["270f", "\\ding{47}"],
    ["2710", "\\ding{48}"],
    ["2711", "\\ding{49}"],
    ["2712", "\\ding{50}"],
    ["2713", "\\ding{51}"],
    ["2714", "\\ding{52}"],
    ["2715", "\\ding{53}"],
    ["2716", "\\ding{54}"],
    ["2717", "\\ding{55}"],
    ["2718", "\\ding{56}"],
    ["2719", "\\ding{57}"],
    ["271a", "\\ding{58}"],
    ["271b", "\\ding{59}"],
    ["271c", "\\ding{60}"],
    ["271d", "\\ding{61}"],
    ["271e", "\\ding{62}"],
    ["271f", "\\ding{63}"],
    ["2720", "\\ding{64}"],
    ["2721", "\\ding{65}"],
    ["2722", "\\ding{66}"],
    ["2723", "\\ding{67}"],
    ["2724", "\\ding{68}"],
    ["2725", "\\ding{69}"],
    ["2726", "\\ding{70}"],
    ["2727", "\\ding{71}"],
    ["2729", "\\ding{73}"],
    ["272a", "\\ding{74}"],
    ["272b", "\\ding{75}"],
    ["272c", "\\ding{76}"],
    ["272d", "\\ding{77}"],
    ["272e", "\\ding{78}"],
    ["272f", "\\ding{79}"],
    ["2730", "\\ding{80}"],
    ["2731", "\\ding{81}"],
    ["2732", "\\ding{82}"],
    ["2733", "\\ding{83}"],
    ["2734", "\\ding{84}"],
    ["2735", "\\ding{85}"],
    ["2736", "\\ding{86}"],
    ["2737", "\\ding{87}"],
    ["2738", "\\ding{88}"],
    ["2739", "\\ding{89}"],
    ["273a", "\\ding{90}"],
    ["273b", "\\ding{91}"],
    ["273c", "\\ding{92}"],
    ["273d", "\\ding{93}"],
    ["273e", "\\ding{94}"],
    ["273f", "\\ding{95}"],
    ["2740", "\\ding{96}"],
    ["2741", "\\ding{97}"],
    ["2742", "\\ding{98}"],
    ["2743", "\\ding{99}"],
    ["2744", "\\ding{100}"],
    ["2745", "\\ding{101}"],
    ["2746", "\\ding{102}"],
    ["2747", "\\ding{103}"],
    ["2748", "\\ding{104}"],
    ["2749", "\\ding{105}"],
    ["274a", "\\ding{106}"],
    ["274b", "\\ding{107}"],
    ["274d", "\\ding{109}"],
    ["274f", "\\ding{111}"],
    ["2750", "\\ding{112}"],
    ["2751", "\\ding{113}"],
    ["2752", "\\ding{114}"],
    ["2756", "\\ding{118}"],
    ["2758", "\\ding{120}"],
    ["2759", "\\ding{121}"],
    ["275a", "\\ding{122}"],
    ["275b", "\\ding{123}"],
    ["275c", "\\ding{124}"],
    ["275d", "\\ding{125}"],
    ["275e", "\\ding{126}"],
    ["2761", "\\ding{161}"],
    ["2762", "\\ding{162}"],
    ["2763", "\\ding{163}"],
    ["2764", "\\ding{164}"],
    ["2765", "\\ding{165}"],
    ["2766", "\\ding{166}"],
    ["2767", "\\ding{167}"],
    ["2776", "\\ding{182}"],
    ["2777", "\\ding{183}"],
    ["2778", "\\ding{184}"],
    ["2779", "\\ding{185}"],
    ["277a", "\\ding{186}"],
    ["277b", "\\ding{187}"],
    ["277c", "\\ding{188}"],
    ["277d", "\\ding{189}"],
    ["277e", "\\ding{190}"],
    ["277f", "\\ding{191}"],
    ["2780", "\\ding{192}"],
    ["2781", "\\ding{193}"],
    ["2782", "\\ding{194}"],
    ["2783", "\\ding{195}"],
    ["2784", "\\ding{196}"],
    ["2785", "\\ding{197}"],
    ["2786", "\\ding{198}"],
    ["2787", "\\ding{199}"],
    ["2788", "\\ding{200}"],
    ["2789", "\\ding{201}"],
    ["278a", "\\ding{202}"],
    ["278b", "\\ding{203}"],
    ["278c", "\\ding{204}"],
    ["278d", "\\ding{205}"],
    ["278e", "\\ding{206}"],
    ["278f", "\\ding{207}"],
    ["2790", "\\ding{208}"],
    ["2791", "\\ding{209}"],
    ["2792", "\\ding{210}"],
    ["2793", "\\ding{211}"],
    ["2794", "\\ding{212}"],
    ["2798", "\\ding{216}"],
    ["2799", "\\ding{217}"],
    ["279a", "\\ding{218}"],
    ["279b", "\\ding{219}"],
    ["279c", "\\ding{220}"],
    ["279d", "\\ding{221}"],
    ["279e", "\\ding{222}"],
    ["279f", "\\ding{223}"],
    ["27a0", "\\ding{224}"],
    ["27a1", "\\ding{225}"],
    ["27a2", "\\ding{226}"],
    ["27a3", "\\ding{227}"],
    ["27a4", "\\ding{228}"],
    ["27a5", "\\ding{229}"],
    ["27a6", "\\ding{230}"],
    ["27a7", "\\ding{231}"],
    ["27a8", "\\ding{232}"],
    ["27a9", "\\ding{233}"],
    ["27aa", "\\ding{234}"],
    ["27ab", "\\ding{235}"],
    ["27ac", "\\ding{236}"],
    ["27ad", "\\ding{237}"],
    ["27ae", "\\ding{238}"],
    ["27af", "\\ding{239}"],
    ["27b1", "\\ding{241}"],
    ["27b2", "\\ding{242}"],
    ["27b3", "\\ding{243}"],
    ["27b4", "\\ding{244}"],
    ["27b5", "\\ding{245}"],
    ["27b6", "\\ding{246}"],
    ["27b7", "\\ding{247}"],
    ["27b8", "\\ding{248}"],
    ["27b9", "\\ding{249}"],
    ["27ba", "\\ding{250}"],
    ["27bb", "\\ding{251}"],
    ["27bc", "\\ding{252}"],
    ["27bd", "\\ding{253}"],
    ["27be", "\\ding{254}"],
    ["27f5", "\\longleftarrow{}"],
    ["27f6", "\\longrightarrow{}"],
    ["27f7", "\\longleftrightarrow{}"],
    ["27f8", "\\Longleftarrow{}"],
    ["27f9", "\\Longrightarrow{}"],
    ["27fa", "\\Longleftrightarrow{}"],
    ["27fc", "\\longmapsto{}"],
    ["27ff", "\\sim\\joinrel\\leadsto"],
    ["2905", "\\ElsevierGlyph{E212}"],
    ["2912", "\\UpArrowBar{}"],
    ["2913", "\\DownArrowBar{}"],
    ["2923", "\\ElsevierGlyph{E20C}"],
    ["2924", "\\ElsevierGlyph{E20D}"],
    ["2925", "\\ElsevierGlyph{E20B}"],
    ["2926", "\\ElsevierGlyph{E20A}"],
    ["2927", "\\ElsevierGlyph{E211}"],
    ["2928", "\\ElsevierGlyph{E20E}"],
    ["2929", "\\ElsevierGlyph{E20F}"],
    ["292a", "\\ElsevierGlyph{E210}"],
    ["2933", "\\ElsevierGlyph{E21C}"],
    ["2936", "\\ElsevierGlyph{E21A}"],
    ["2937", "\\ElsevierGlyph{E219}"],
    ["2940", "\\Elolarr{}"],
    ["2941", "\\Elorarr{}"],
    ["2942", "\\ElzRlarr{}"],
    ["2944", "\\ElzrLarr{}"],
    ["2947", "\\Elzrarrx{}"],
    ["294e", "\\LeftRightVector{}"],
    ["294f", "\\RightUpDownVector{}"],
    ["2950", "\\DownLeftRightVector{}"],
    ["2951", "\\LeftUpDownVector{}"],
    ["2952", "\\LeftVectorBar{}"],
    ["2953", "\\RightVectorBar{}"],
    ["2954", "\\RightUpVectorBar{}"],
    ["2955", "\\RightDownVectorBar{}"],
    ["2956", "\\DownLeftVectorBar{}"],
    ["2957", "\\DownRightVectorBar{}"],
    ["2958", "\\LeftUpVectorBar{}"],
    ["2959", "\\LeftDownVectorBar{}"],
    ["295a", "\\LeftTeeVector{}"],
    ["295b", "\\RightTeeVector{}"],
    ["295c", "\\RightUpTeeVector{}"],
    ["295d", "\\RightDownTeeVector{}"],
    ["295e", "\\DownLeftTeeVector{}"],
    ["295f", "\\DownRightTeeVector{}"],
    ["2960", "\\LeftUpTeeVector{}"],
    ["2961", "\\LeftDownTeeVector{}"],
    ["296e", "\\UpEquilibrium{}"],
    ["296f", "\\ReverseUpEquilibrium{}"],
    ["2970", "\\RoundImplies{}"],
    ["297c", "\\ElsevierGlyph{E214}"],
    ["297d", "\\ElsevierGlyph{E215}"],
    ["2980", "\\Elztfnc{}"],
    ["2985", "\\ElsevierGlyph{3018}"],
    ["2986", "\\Elroang{}"],
    ["2993", "&lt;\\kern-0.58em("],
    ["2994", "\\ElsevierGlyph{E291}"],
    ["2999", "\\Elzddfnc{}"],
    ["299c", "\\Angle{}"],
    ["29a0", "\\Elzlpargt{}"],
    ["29b5", "\\ElsevierGlyph{E260}"],
    ["29b6", "\\ElsevierGlyph{E61B}"],
    ["29ca", "\\ElzLap{}"],
    ["29cb", "\\Elzdefas{}"],
    ["29cf", "\\LeftTriangleBar{}"],
    ["29d0", "\\RightTriangleBar{}"],
    ["29dc", "\\ElsevierGlyph{E372}"],
    ["29eb", "\\blacklozenge{}"],
    ["29f4", "\\RuleDelayed{}"],
    ["2a04", "\\Elxuplus{}"],
    ["2a05", "\\ElzThr{}"],
    ["2a06", "\\Elxsqcup{}"],
    ["2a07", "\\ElzInf{}"],
    ["2a08", "\\ElzSup{}"],
    ["2a0d", "\\ElzCint{}"],
    ["2a0f", "\\clockoint{}"],
    ["2a10", "\\ElsevierGlyph{E395}"],
    ["2a16", "\\sqrint{}"],
    ["2a25", "\\ElsevierGlyph{E25A}"],
    ["2a2a", "\\ElsevierGlyph{E25B}"],
    ["2a2d", "\\ElsevierGlyph{E25C}"],
    ["2a2e", "\\ElsevierGlyph{E25D}"],
    ["2a2f", "\\ElzTimes{}"],
    ["2a34", "\\ElsevierGlyph{E25E}"],
    ["2a35", "\\ElsevierGlyph{E25E}"],
    ["2a3c", "\\ElsevierGlyph{E259}"],
    ["2a3f", "\\amalg{}"],
    ["2a53", "\\ElzAnd{}"],
    ["2a54", "\\ElzOr{}"],
    ["2a55", "\\ElsevierGlyph{E36E}"],
    ["2a56", "\\ElOr{}"],
    ["2a5e", "\\perspcorrespond{}"],
    ["2a5f", "\\Elzminhat{}"],
    ["2a63", "\\ElsevierGlyph{225A}"],
    ["2a6e", "\\stackrel{*}{=}"],
    ["2a75", "\\Equal{}"],
    ["2a7d", "\\leqslant{}"],
    ["2a7e", "\\geqslant{}"],
    ["2a85", "\\lessapprox{}"],
    ["2a86", "\\gtrapprox{}"],
    ["2a87", "\\lneq{}"],
    ["2a88", "\\gneq{}"],
    ["2a89", "\\lnapprox{}"],
    ["2a8a", "\\gnapprox{}"],
    ["2a8b", "\\lesseqqgtr{}"],
    ["2a8c", "\\gtreqqless{}"],
    ["2a95", "\\eqslantless{}"],
    ["2a96", "\\eqslantgtr{}"],
    ["2a9d", "\\Pisymbol{ppi020}{117}"],
    ["2a9e", "\\Pisymbol{ppi020}{105}"],
    ["2aa1", "\\NestedLessLess{}"],
    ["2aa2", "\\NestedGreaterGreater{}"],
    ["2aaf", "\\preceq{}"],
    ["2ab0", "\\succeq{}"],
    ["2ab5", "\\precneqq{}"],
    ["2ab6", "\\succneqq{}"],
    ["2ab7", "\\precapprox{}"],
    ["2ab8", "\\succapprox{}"],
    ["2ab9", "\\precnapprox{}"],
    ["2aba", "\\succnapprox{}"],
    ["2ac5", "\\subseteqq{}"],
    ["2ac6", "\\supseteqq{}"],
    ["2acb", "\\subsetneqq{}"],
    ["2acc", "\\supsetneqq{}"],
    ["2aeb", "\\ElsevierGlyph{E30D}"],
    ["2af6", "\\Elztdcol{}"],
    ["2afd", "{{/}\\!\\!{/}}"],
    ["300a", "\\ElsevierGlyph{300A}"],
    ["300b", "\\ElsevierGlyph{300B}"],
    ["3018", "\\ElsevierGlyph{3018}"],
    ["3019", "\\ElsevierGlyph{3019}"],
    ["301a", "\\openbracketleft{}"],
    ["301b", "\\openbracketright{}"],
    ["fb00", "ff"],
    ["fb01", "fi"],
    ["fb02", "fl"],
    ["fb03", "ffi"],
    ["fb04", "ffl"],
    ["d400", "\\mathbf{A}"],
    ["d401", "\\mathbf{B}"],
    ["d402", "\\mathbf{C}"],
    ["d403", "\\mathbf{D}"],
    ["d404", "\\mathbf{E}"],
    ["d405", "\\mathbf{F}"],
    ["d406", "\\mathbf{G}"],
    ["d407", "\\mathbf{H}"],
    ["d408", "\\mathbf{I}"],
    ["d409", "\\mathbf{J}"],
    ["d40a", "\\mathbf{K}"],
    ["d40b", "\\mathbf{L}"],
    ["d40c", "\\mathbf{M}"],
    ["d40d", "\\mathbf{N}"],
    ["d40e", "\\mathbf{O}"],
    ["d40f", "\\mathbf{P}"],
    ["d410", "\\mathbf{Q}"],
    ["d411", "\\mathbf{R}"],
    ["d412", "\\mathbf{S}"],
    ["d413", "\\mathbf{T}"],
    ["d414", "\\mathbf{U}"],
    ["d415", "\\mathbf{V}"],
    ["d416", "\\mathbf{W}"],
    ["d417", "\\mathbf{X}"],
    ["d418", "\\mathbf{Y}"],
    ["d419", "\\mathbf{Z}"],
    ["d41a", "\\mathbf{a}"],
    ["d41b", "\\mathbf{b}"],
    ["d41c", "\\mathbf{c}"],
    ["d41d", "\\mathbf{d}"],
    ["d41e", "\\mathbf{e}"],
    ["d41f", "\\mathbf{f}"],
    ["d420", "\\mathbf{g}"],
    ["d421", "\\mathbf{h}"],
    ["d422", "\\mathbf{i}"],
    ["d423", "\\mathbf{j}"],
    ["d424", "\\mathbf{k}"],
    ["d425", "\\mathbf{l}"],
    ["d426", "\\mathbf{m}"],
    ["d427", "\\mathbf{n}"],
    ["d428", "\\mathbf{o}"],
    ["d429", "\\mathbf{p}"],
    ["d42a", "\\mathbf{q}"],
    ["d42b", "\\mathbf{r}"],
    ["d42c", "\\mathbf{s}"],
    ["d42d", "\\mathbf{t}"],
    ["d42e", "\\mathbf{u}"],
    ["d42f", "\\mathbf{v}"],
    ["d430", "\\mathbf{w}"],
    ["d431", "\\mathbf{x}"],
    ["d432", "\\mathbf{y}"],
    ["d433", "\\mathbf{z}"],
    ["d434", "\\mathsl{A}"],
    ["d435", "\\mathsl{B}"],
    ["d436", "\\mathsl{C}"],
    ["d437", "\\mathsl{D}"],
    ["d438", "\\mathsl{E}"],
    ["d439", "\\mathsl{F}"],
    ["d43a", "\\mathsl{G}"],
    ["d43b", "\\mathsl{H}"],
    ["d43c", "\\mathsl{I}"],
    ["d43d", "\\mathsl{J}"],
    ["d43e", "\\mathsl{K}"],
    ["d43f", "\\mathsl{L}"],
    ["d440", "\\mathsl{M}"],
    ["d441", "\\mathsl{N}"],
    ["d442", "\\mathsl{O}"],
    ["d443", "\\mathsl{P}"],
    ["d444", "\\mathsl{Q}"],
    ["d445", "\\mathsl{R}"],
    ["d446", "\\mathsl{S}"],
    ["d447", "\\mathsl{T}"],
    ["d448", "\\mathsl{U}"],
    ["d449", "\\mathsl{V}"],
    ["d44a", "\\mathsl{W}"],
    ["d44b", "\\mathsl{X}"],
    ["d44c", "\\mathsl{Y}"],
    ["d44d", "\\mathsl{Z}"],
    ["d44e", "\\mathsl{a}"],
    ["d44f", "\\mathsl{b}"],
    ["d450", "\\mathsl{c}"],
    ["d451", "\\mathsl{d}"],
    ["d452", "\\mathsl{e}"],
    ["d453", "\\mathsl{f}"],
    ["d454", "\\mathsl{g}"],
    ["d456", "\\mathsl{i}"],
    ["d457", "\\mathsl{j}"],
    ["d458", "\\mathsl{k}"],
    ["d459", "\\mathsl{l}"],
    ["d45a", "\\mathsl{m}"],
    ["d45b", "\\mathsl{n}"],
    ["d45c", "\\mathsl{o}"],
    ["d45d", "\\mathsl{p}"],
    ["d45e", "\\mathsl{q}"],
    ["d45f", "\\mathsl{r}"],
    ["d460", "\\mathsl{s}"],
    ["d461", "\\mathsl{t}"],
    ["d462", "\\mathsl{u}"],
    ["d463", "\\mathsl{v}"],
    ["d464", "\\mathsl{w}"],
    ["d465", "\\mathsl{x}"],
    ["d466", "\\mathsl{y}"],
    ["d467", "\\mathsl{z}"],
    ["d468", "\\mathbit{A}"],
    ["d469", "\\mathbit{B}"],
    ["d46a", "\\mathbit{C}"],
    ["d46b", "\\mathbit{D}"],
    ["d46c", "\\mathbit{E}"],
    ["d46d", "\\mathbit{F}"],
    ["d46e", "\\mathbit{G}"],
    ["d46f", "\\mathbit{H}"],
    ["d470", "\\mathbit{I}"],
    ["d471", "\\mathbit{J}"],
    ["d472", "\\mathbit{K}"],
    ["d473", "\\mathbit{L}"],
    ["d474", "\\mathbit{M}"],
    ["d475", "\\mathbit{N}"],
    ["d476", "\\mathbit{O}"],
    ["d477", "\\mathbit{P}"],
    ["d478", "\\mathbit{Q}"],
    ["d479", "\\mathbit{R}"],
    ["d47a", "\\mathbit{S}"],
    ["d47b", "\\mathbit{T}"],
    ["d47c", "\\mathbit{U}"],
    ["d47d", "\\mathbit{V}"],
    ["d47e", "\\mathbit{W}"],
    ["d47f", "\\mathbit{X}"],
    ["d480", "\\mathbit{Y}"],
    ["d481", "\\mathbit{Z}"],
    ["d482", "\\mathbit{a}"],
    ["d483", "\\mathbit{b}"],
    ["d484", "\\mathbit{c}"],
    ["d485", "\\mathbit{d}"],
    ["d486", "\\mathbit{e}"],
    ["d487", "\\mathbit{f}"],
    ["d488", "\\mathbit{g}"],
    ["d489", "\\mathbit{h}"],
    ["d48a", "\\mathbit{i}"],
    ["d48b", "\\mathbit{j}"],
    ["d48c", "\\mathbit{k}"],
    ["d48d", "\\mathbit{l}"],
    ["d48e", "\\mathbit{m}"],
    ["d48f", "\\mathbit{n}"],
    ["d490", "\\mathbit{o}"],
    ["d491", "\\mathbit{p}"],
    ["d492", "\\mathbit{q}"],
    ["d493", "\\mathbit{r}"],
    ["d494", "\\mathbit{s}"],
    ["d495", "\\mathbit{t}"],
    ["d496", "\\mathbit{u}"],
    ["d497", "\\mathbit{v}"],
    ["d498", "\\mathbit{w}"],
    ["d499", "\\mathbit{x}"],
    ["d49a", "\\mathbit{y}"],
    ["d49b", "\\mathbit{z}"],
    ["d49c", "\\mathscr{A}"],
    ["d49e", "\\mathscr{C}"],
    ["d49f", "\\mathscr{D}"],
    ["d4a2", "\\mathscr{G}"],
    ["d4a5", "\\mathscr{J}"],
    ["d4a6", "\\mathscr{K}"],
    ["d4a9", "\\mathscr{N}"],
    ["d4aa", "\\mathscr{O}"],
    ["d4ab", "\\mathscr{P}"],
    ["d4ac", "\\mathscr{Q}"],
    ["d4ae", "\\mathscr{S}"],
    ["d4af", "\\mathscr{T}"],
    ["d4b0", "\\mathscr{U}"],
    ["d4b1", "\\mathscr{V}"],
    ["d4b2", "\\mathscr{W}"],
    ["d4b3", "\\mathscr{X}"],
    ["d4b4", "\\mathscr{Y}"],
    ["d4b5", "\\mathscr{Z}"],
    ["d4b6", "\\mathscr{a}"],
    ["d4b7", "\\mathscr{b}"],
    ["d4b8", "\\mathscr{c}"],
    ["d4b9", "\\mathscr{d}"],
    ["d4bb", "\\mathscr{f}"],
    ["d4bd", "\\mathscr{h}"],
    ["d4be", "\\mathscr{i}"],
    ["d4bf", "\\mathscr{j}"],
    ["d4c0", "\\mathscr{k}"],
    ["d4c1", "\\mathscr{l}"],
    ["d4c2", "\\mathscr{m}"],
    ["d4c3", "\\mathscr{n}"],
    ["d4c5", "\\mathscr{p}"],
    ["d4c6", "\\mathscr{q}"],
    ["d4c7", "\\mathscr{r}"],
    ["d4c8", "\\mathscr{s}"],
    ["d4c9", "\\mathscr{t}"],
    ["d4ca", "\\mathscr{u}"],
    ["d4cb", "\\mathscr{v}"],
    ["d4cc", "\\mathscr{w}"],
    ["d4cd", "\\mathscr{x}"],
    ["d4ce", "\\mathscr{y}"],
    ["d4cf", "\\mathscr{z}"],
    ["d4d0", "\\mathmit{A}"],
    ["d4d1", "\\mathmit{B}"],
    ["d4d2", "\\mathmit{C}"],
    ["d4d3", "\\mathmit{D}"],
    ["d4d4", "\\mathmit{E}"],
    ["d4d5", "\\mathmit{F}"],
    ["d4d6", "\\mathmit{G}"],
    ["d4d7", "\\mathmit{H}"],
    ["d4d8", "\\mathmit{I}"],
    ["d4d9", "\\mathmit{J}"],
    ["d4da", "\\mathmit{K}"],
    ["d4db", "\\mathmit{L}"],
    ["d4dc", "\\mathmit{M}"],
    ["d4dd", "\\mathmit{N}"],
    ["d4de", "\\mathmit{O}"],
    ["d4df", "\\mathmit{P}"],
    ["d4e0", "\\mathmit{Q}"],
    ["d4e1", "\\mathmit{R}"],
    ["d4e2", "\\mathmit{S}"],
    ["d4e3", "\\mathmit{T}"],
    ["d4e4", "\\mathmit{U}"],
    ["d4e5", "\\mathmit{V}"],
    ["d4e6", "\\mathmit{W}"],
    ["d4e7", "\\mathmit{X}"],
    ["d4e8", "\\mathmit{Y}"],
    ["d4e9", "\\mathmit{Z}"],
    ["d4ea", "\\mathmit{a}"],
    ["d4eb", "\\mathmit{b}"],
    ["d4ec", "\\mathmit{c}"],
    ["d4ed", "\\mathmit{d}"],
    ["d4ee", "\\mathmit{e}"],
    ["d4ef", "\\mathmit{f}"],
    ["d4f0", "\\mathmit{g}"],
    ["d4f1", "\\mathmit{h}"],
    ["d4f2", "\\mathmit{i}"],
    ["d4f3", "\\mathmit{j}"],
    ["d4f4", "\\mathmit{k}"],
    ["d4f5", "\\mathmit{l}"],
    ["d4f6", "\\mathmit{m}"],
    ["d4f7", "\\mathmit{n}"],
    ["d4f8", "\\mathmit{o}"],
    ["d4f9", "\\mathmit{p}"],
    ["d4fa", "\\mathmit{q}"],
    ["d4fb", "\\mathmit{r}"],
    ["d4fc", "\\mathmit{s}"],
    ["d4fd", "\\mathmit{t}"],
    ["d4fe", "\\mathmit{u}"],
    ["d4ff", "\\mathmit{v}"],
    ["d500", "\\mathmit{w}"],
    ["d501", "\\mathmit{x}"],
    ["d502", "\\mathmit{y}"],
    ["d503", "\\mathmit{z}"],
    ["d504", "\\mathfrak{A}"],
    ["d505", "\\mathfrak{B}"],
    ["d507", "\\mathfrak{D}"],
    ["d508", "\\mathfrak{E}"],
    ["d509", "\\mathfrak{F}"],
    ["d50a", "\\mathfrak{G}"],
    ["d50d", "\\mathfrak{J}"],
    ["d50e", "\\mathfrak{K}"],
    ["d50f", "\\mathfrak{L}"],
    ["d510", "\\mathfrak{M}"],
    ["d511", "\\mathfrak{N}"],
    ["d512", "\\mathfrak{O}"],
    ["d513", "\\mathfrak{P}"],
    ["d514", "\\mathfrak{Q}"],
    ["d516", "\\mathfrak{S}"],
    ["d517", "\\mathfrak{T}"],
    ["d518", "\\mathfrak{U}"],
    ["d519", "\\mathfrak{V}"],
    ["d51a", "\\mathfrak{W}"],
    ["d51b", "\\mathfrak{X}"],
    ["d51c", "\\mathfrak{Y}"],
    ["d51e", "\\mathfrak{a}"],
    ["d51f", "\\mathfrak{b}"],
    ["d520", "\\mathfrak{c}"],
    ["d521", "\\mathfrak{d}"],
    ["d522", "\\mathfrak{e}"],
    ["d523", "\\mathfrak{f}"],
    ["d524", "\\mathfrak{g}"],
    ["d525", "\\mathfrak{h}"],
    ["d526", "\\mathfrak{i}"],
    ["d527", "\\mathfrak{j}"],
    ["d528", "\\mathfrak{k}"],
    ["d529", "\\mathfrak{l}"],
    ["d52a", "\\mathfrak{m}"],
    ["d52b", "\\mathfrak{n}"],
    ["d52c", "\\mathfrak{o}"],
    ["d52d", "\\mathfrak{p}"],
    ["d52e", "\\mathfrak{q}"],
    ["d52f", "\\mathfrak{r}"],
    ["d530", "\\mathfrak{s}"],
    ["d531", "\\mathfrak{t}"],
    ["d532", "\\mathfrak{u}"],
    ["d533", "\\mathfrak{v}"],
    ["d534", "\\mathfrak{w}"],
    ["d535", "\\mathfrak{x}"],
    ["d536", "\\mathfrak{y}"],
    ["d537", "\\mathfrak{z}"],
    ["d538", "\\mathbb{A}"],
    ["d539", "\\mathbb{B}"],
    ["d53b", "\\mathbb{D}"],
    ["d53c", "\\mathbb{E}"],
    ["d53d", "\\mathbb{F}"],
    ["d53e", "\\mathbb{G}"],
    ["d540", "\\mathbb{I}"],
    ["d541", "\\mathbb{J}"],
    ["d542", "\\mathbb{K}"],
    ["d543", "\\mathbb{L}"],
    ["d544", "\\mathbb{M}"],
    ["d546", "\\mathbb{O}"],
    ["d54a", "\\mathbb{S}"],
    ["d54b", "\\mathbb{T}"],
    ["d54c", "\\mathbb{U}"],
    ["d54d", "\\mathbb{V}"],
    ["d54e", "\\mathbb{W}"],
    ["d54f", "\\mathbb{X}"],
    ["d550", "\\mathbb{Y}"],
    ["d552", "\\mathbb{a}"],
    ["d553", "\\mathbb{b}"],
    ["d554", "\\mathbb{c}"],
    ["d555", "\\mathbb{d}"],
    ["d556", "\\mathbb{e}"],
    ["d557", "\\mathbb{f}"],
    ["d558", "\\mathbb{g}"],
    ["d559", "\\mathbb{h}"],
    ["d55a", "\\mathbb{i}"],
    ["d55b", "\\mathbb{j}"],
    ["d55c", "\\mathbb{k}"],
    ["d55d", "\\mathbb{l}"],
    ["d55e", "\\mathbb{m}"],
    ["d55f", "\\mathbb{n}"],
    ["d560", "\\mathbb{o}"],
    ["d561", "\\mathbb{p}"],
    ["d562", "\\mathbb{q}"],
    ["d563", "\\mathbb{r}"],
    ["d564", "\\mathbb{s}"],
    ["d565", "\\mathbb{t}"],
    ["d566", "\\mathbb{u}"],
    ["d567", "\\mathbb{v}"],
    ["d568", "\\mathbb{w}"],
    ["d569", "\\mathbb{x}"],
    ["d56a", "\\mathbb{y}"],
    ["d56b", "\\mathbb{z}"],
    ["d56c", "\\mathslbb{A}"],
    ["d56d", "\\mathslbb{B}"],
    ["d56e", "\\mathslbb{C}"],
    ["d56f", "\\mathslbb{D}"],
    ["d570", "\\mathslbb{E}"],
    ["d571", "\\mathslbb{F}"],
    ["d572", "\\mathslbb{G}"],
    ["d573", "\\mathslbb{H}"],
    ["d574", "\\mathslbb{I}"],
    ["d575", "\\mathslbb{J}"],
    ["d576", "\\mathslbb{K}"],
    ["d577", "\\mathslbb{L}"],
    ["d578", "\\mathslbb{M}"],
    ["d579", "\\mathslbb{N}"],
    ["d57a", "\\mathslbb{O}"],
    ["d57b", "\\mathslbb{P}"],
    ["d57c", "\\mathslbb{Q}"],
    ["d57d", "\\mathslbb{R}"],
    ["d57e", "\\mathslbb{S}"],
    ["d57f", "\\mathslbb{T}"],
    ["d580", "\\mathslbb{U}"],
    ["d581", "\\mathslbb{V}"],
    ["d582", "\\mathslbb{W}"],
    ["d583", "\\mathslbb{X}"],
    ["d584", "\\mathslbb{Y}"],
    ["d585", "\\mathslbb{Z}"],
    ["d586", "\\mathslbb{a}"],
    ["d587", "\\mathslbb{b}"],
    ["d588", "\\mathslbb{c}"],
    ["d589", "\\mathslbb{d}"],
    ["d58a", "\\mathslbb{e}"],
    ["d58b", "\\mathslbb{f}"],
    ["d58c", "\\mathslbb{g}"],
    ["d58d", "\\mathslbb{h}"],
    ["d58e", "\\mathslbb{i}"],
    ["d58f", "\\mathslbb{j}"],
    ["d590", "\\mathslbb{k}"],
    ["d591", "\\mathslbb{l}"],
    ["d592", "\\mathslbb{m}"],
    ["d593", "\\mathslbb{n}"],
    ["d594", "\\mathslbb{o}"],
    ["d595", "\\mathslbb{p}"],
    ["d596", "\\mathslbb{q}"],
    ["d597", "\\mathslbb{r}"],
    ["d598", "\\mathslbb{s}"],
    ["d599", "\\mathslbb{t}"],
    ["d59a", "\\mathslbb{u}"],
    ["d59b", "\\mathslbb{v}"],
    ["d59c", "\\mathslbb{w}"],
    ["d59d", "\\mathslbb{x}"],
    ["d59e", "\\mathslbb{y}"],
    ["d59f", "\\mathslbb{z}"],
    ["d5a0", "\\mathsf{A}"],
    ["d5a1", "\\mathsf{B}"],
    ["d5a2", "\\mathsf{C}"],
    ["d5a3", "\\mathsf{D}"],
    ["d5a4", "\\mathsf{E}"],
    ["d5a5", "\\mathsf{F}"],
    ["d5a6", "\\mathsf{G}"],
    ["d5a7", "\\mathsf{H}"],
    ["d5a8", "\\mathsf{I}"],
    ["d5a9", "\\mathsf{J}"],
    ["d5aa", "\\mathsf{K}"],
    ["d5ab", "\\mathsf{L}"],
    ["d5ac", "\\mathsf{M}"],
    ["d5ad", "\\mathsf{N}"],
    ["d5ae", "\\mathsf{O}"],
    ["d5af", "\\mathsf{P}"],
    ["d5b0", "\\mathsf{Q}"],
    ["d5b1", "\\mathsf{R}"],
    ["d5b2", "\\mathsf{S}"],
    ["d5b3", "\\mathsf{T}"],
    ["d5b4", "\\mathsf{U}"],
    ["d5b5", "\\mathsf{V}"],
    ["d5b6", "\\mathsf{W}"],
    ["d5b7", "\\mathsf{X}"],
    ["d5b8", "\\mathsf{Y}"],
    ["d5b9", "\\mathsf{Z}"],
    ["d5ba", "\\mathsf{a}"],
    ["d5bb", "\\mathsf{b}"],
    ["d5bc", "\\mathsf{c}"],
    ["d5bd", "\\mathsf{d}"],
    ["d5be", "\\mathsf{e}"],
    ["d5bf", "\\mathsf{f}"],
    ["d5c0", "\\mathsf{g}"],
    ["d5c1", "\\mathsf{h}"],
    ["d5c2", "\\mathsf{i}"],
    ["d5c3", "\\mathsf{j}"],
    ["d5c4", "\\mathsf{k}"],
    ["d5c5", "\\mathsf{l}"],
    ["d5c6", "\\mathsf{m}"],
    ["d5c7", "\\mathsf{n}"],
    ["d5c8", "\\mathsf{o}"],
    ["d5c9", "\\mathsf{p}"],
    ["d5ca", "\\mathsf{q}"],
    ["d5cb", "\\mathsf{r}"],
    ["d5cc", "\\mathsf{s}"],
    ["d5cd", "\\mathsf{t}"],
    ["d5ce", "\\mathsf{u}"],
    ["d5cf", "\\mathsf{v}"],
    ["d5d0", "\\mathsf{w}"],
    ["d5d1", "\\mathsf{x}"],
    ["d5d2", "\\mathsf{y}"],
    ["d5d3", "\\mathsf{z}"],
    ["d5d4", "\\mathsfbf{A}"],
    ["d5d5", "\\mathsfbf{B}"],
    ["d5d6", "\\mathsfbf{C}"],
    ["d5d7", "\\mathsfbf{D}"],
    ["d5d8", "\\mathsfbf{E}"],
    ["d5d9", "\\mathsfbf{F}"],
    ["d5da", "\\mathsfbf{G}"],
    ["d5db", "\\mathsfbf{H}"],
    ["d5dc", "\\mathsfbf{I}"],
    ["d5dd", "\\mathsfbf{J}"],
    ["d5de", "\\mathsfbf{K}"],
    ["d5df", "\\mathsfbf{L}"],
    ["d5e0", "\\mathsfbf{M}"],
    ["d5e1", "\\mathsfbf{N}"],
    ["d5e2", "\\mathsfbf{O}"],
    ["d5e3", "\\mathsfbf{P}"],
    ["d5e4", "\\mathsfbf{Q}"],
    ["d5e5", "\\mathsfbf{R}"],
    ["d5e6", "\\mathsfbf{S}"],
    ["d5e7", "\\mathsfbf{T}"],
    ["d5e8", "\\mathsfbf{U}"],
    ["d5e9", "\\mathsfbf{V}"],
    ["d5ea", "\\mathsfbf{W}"],
    ["d5eb", "\\mathsfbf{X}"],
    ["d5ec", "\\mathsfbf{Y}"],
    ["d5ed", "\\mathsfbf{Z}"],
    ["d5ee", "\\mathsfbf{a}"],
    ["d5ef", "\\mathsfbf{b}"],
    ["d5f0", "\\mathsfbf{c}"],
    ["d5f1", "\\mathsfbf{d}"],
    ["d5f2", "\\mathsfbf{e}"],
    ["d5f3", "\\mathsfbf{f}"],
    ["d5f4", "\\mathsfbf{g}"],
    ["d5f5", "\\mathsfbf{h}"],
    ["d5f6", "\\mathsfbf{i}"],
    ["d5f7", "\\mathsfbf{j}"],
    ["d5f8", "\\mathsfbf{k}"],
    ["d5f9", "\\mathsfbf{l}"],
    ["d5fa", "\\mathsfbf{m}"],
    ["d5fb", "\\mathsfbf{n}"],
    ["d5fc", "\\mathsfbf{o}"],
    ["d5fd", "\\mathsfbf{p}"],
    ["d5fe", "\\mathsfbf{q}"],
    ["d5ff", "\\mathsfbf{r}"],
    ["d600", "\\mathsfbf{s}"],
    ["d601", "\\mathsfbf{t}"],
    ["d602", "\\mathsfbf{u}"],
    ["d603", "\\mathsfbf{v}"],
    ["d604", "\\mathsfbf{w}"],
    ["d605", "\\mathsfbf{x}"],
    ["d606", "\\mathsfbf{y}"],
    ["d607", "\\mathsfbf{z}"],
    ["d608", "\\mathsfsl{A}"],
    ["d609", "\\mathsfsl{B}"],
    ["d60a", "\\mathsfsl{C}"],
    ["d60b", "\\mathsfsl{D}"],
    ["d60c", "\\mathsfsl{E}"],
    ["d60d", "\\mathsfsl{F}"],
    ["d60e", "\\mathsfsl{G}"],
    ["d60f", "\\mathsfsl{H}"],
    ["d610", "\\mathsfsl{I}"],
    ["d611", "\\mathsfsl{J}"],
    ["d612", "\\mathsfsl{K}"],
    ["d613", "\\mathsfsl{L}"],
    ["d614", "\\mathsfsl{M}"],
    ["d615", "\\mathsfsl{N}"],
    ["d616", "\\mathsfsl{O}"],
    ["d617", "\\mathsfsl{P}"],
    ["d618", "\\mathsfsl{Q}"],
    ["d619", "\\mathsfsl{R}"],
    ["d61a", "\\mathsfsl{S}"],
    ["d61b", "\\mathsfsl{T}"],
    ["d61c", "\\mathsfsl{U}"],
    ["d61d", "\\mathsfsl{V}"],
    ["d61e", "\\mathsfsl{W}"],
    ["d61f", "\\mathsfsl{X}"],
    ["d620", "\\mathsfsl{Y}"],
    ["d621", "\\mathsfsl{Z}"],
    ["d622", "\\mathsfsl{a}"],
    ["d623", "\\mathsfsl{b}"],
    ["d624", "\\mathsfsl{c}"],
    ["d625", "\\mathsfsl{d}"],
    ["d626", "\\mathsfsl{e}"],
    ["d627", "\\mathsfsl{f}"],
    ["d628", "\\mathsfsl{g}"],
    ["d629", "\\mathsfsl{h}"],
    ["d62a", "\\mathsfsl{i}"],
    ["d62b", "\\mathsfsl{j}"],
    ["d62c", "\\mathsfsl{k}"],
    ["d62d", "\\mathsfsl{l}"],
    ["d62e", "\\mathsfsl{m}"],
    ["d62f", "\\mathsfsl{n}"],
    ["d630", "\\mathsfsl{o}"],
    ["d631", "\\mathsfsl{p}"],
    ["d632", "\\mathsfsl{q}"],
    ["d633", "\\mathsfsl{r}"],
    ["d634", "\\mathsfsl{s}"],
    ["d635", "\\mathsfsl{t}"],
    ["d636", "\\mathsfsl{u}"],
    ["d637", "\\mathsfsl{v}"],
    ["d638", "\\mathsfsl{w}"],
    ["d639", "\\mathsfsl{x}"],
    ["d63a", "\\mathsfsl{y}"],
    ["d63b", "\\mathsfsl{z}"],
    ["d63c", "\\mathsfbfsl{A}"],
    ["d63d", "\\mathsfbfsl{B}"],
    ["d63e", "\\mathsfbfsl{C}"],
    ["d63f", "\\mathsfbfsl{D}"],
    ["d640", "\\mathsfbfsl{E}"],
    ["d641", "\\mathsfbfsl{F}"],
    ["d642", "\\mathsfbfsl{G}"],
    ["d643", "\\mathsfbfsl{H}"],
    ["d644", "\\mathsfbfsl{I}"],
    ["d645", "\\mathsfbfsl{J}"],
    ["d646", "\\mathsfbfsl{K}"],
    ["d647", "\\mathsfbfsl{L}"],
    ["d648", "\\mathsfbfsl{M}"],
    ["d649", "\\mathsfbfsl{N}"],
    ["d64a", "\\mathsfbfsl{O}"],
    ["d64b", "\\mathsfbfsl{P}"],
    ["d64c", "\\mathsfbfsl{Q}"],
    ["d64d", "\\mathsfbfsl{R}"],
    ["d64e", "\\mathsfbfsl{S}"],
    ["d64f", "\\mathsfbfsl{T}"],
    ["d650", "\\mathsfbfsl{U}"],
    ["d651", "\\mathsfbfsl{V}"],
    ["d652", "\\mathsfbfsl{W}"],
    ["d653", "\\mathsfbfsl{X}"],
    ["d654", "\\mathsfbfsl{Y}"],
    ["d655", "\\mathsfbfsl{Z}"],
    ["d656", "\\mathsfbfsl{a}"],
    ["d657", "\\mathsfbfsl{b}"],
    ["d658", "\\mathsfbfsl{c}"],
    ["d659", "\\mathsfbfsl{d}"],
    ["d65a", "\\mathsfbfsl{e}"],
    ["d65b", "\\mathsfbfsl{f}"],
    ["d65c", "\\mathsfbfsl{g}"],
    ["d65d", "\\mathsfbfsl{h}"],
    ["d65e", "\\mathsfbfsl{i}"],
    ["d65f", "\\mathsfbfsl{j}"],
    ["d660", "\\mathsfbfsl{k}"],
    ["d661", "\\mathsfbfsl{l}"],
    ["d662", "\\mathsfbfsl{m}"],
    ["d663", "\\mathsfbfsl{n}"],
    ["d664", "\\mathsfbfsl{o}"],
    ["d665", "\\mathsfbfsl{p}"],
    ["d666", "\\mathsfbfsl{q}"],
    ["d667", "\\mathsfbfsl{r}"],
    ["d668", "\\mathsfbfsl{s}"],
    ["d669", "\\mathsfbfsl{t}"],
    ["d66a", "\\mathsfbfsl{u}"],
    ["d66b", "\\mathsfbfsl{v}"],
    ["d66c", "\\mathsfbfsl{w}"],
    ["d66d", "\\mathsfbfsl{x}"],
    ["d66e", "\\mathsfbfsl{y}"],
    ["d66f", "\\mathsfbfsl{z}"],
    ["d670", "\\mathtt{A}"],
    ["d671", "\\mathtt{B}"],
    ["d672", "\\mathtt{C}"],
    ["d673", "\\mathtt{D}"],
    ["d674", "\\mathtt{E}"],
    ["d675", "\\mathtt{F}"],
    ["d676", "\\mathtt{G}"],
    ["d677", "\\mathtt{H}"],
    ["d678", "\\mathtt{I}"],
    ["d679", "\\mathtt{J}"],
    ["d67a", "\\mathtt{K}"],
    ["d67b", "\\mathtt{L}"],
    ["d67c", "\\mathtt{M}"],
    ["d67d", "\\mathtt{N}"],
    ["d67e", "\\mathtt{O}"],
    ["d67f", "\\mathtt{P}"],
    ["d680", "\\mathtt{Q}"],
    ["d681", "\\mathtt{R}"],
    ["d682", "\\mathtt{S}"],
    ["d683", "\\mathtt{T}"],
    ["d684", "\\mathtt{U}"],
    ["d685", "\\mathtt{V}"],
    ["d686", "\\mathtt{W}"],
    ["d687", "\\mathtt{X}"],
    ["d688", "\\mathtt{Y}"],
    ["d689", "\\mathtt{Z}"],
    ["d68a", "\\mathtt{a}"],
    ["d68b", "\\mathtt{b}"],
    ["d68c", "\\mathtt{c}"],
    ["d68d", "\\mathtt{d}"],
    ["d68e", "\\mathtt{e}"],
    ["d68f", "\\mathtt{f}"],
    ["d690", "\\mathtt{g}"],
    ["d691", "\\mathtt{h}"],
    ["d692", "\\mathtt{i}"],
    ["d693", "\\mathtt{j}"],
    ["d694", "\\mathtt{k}"],
    ["d695", "\\mathtt{l}"],
    ["d696", "\\mathtt{m}"],
    ["d697", "\\mathtt{n}"],
    ["d698", "\\mathtt{o}"],
    ["d699", "\\mathtt{p}"],
    ["d69a", "\\mathtt{q}"],
    ["d69b", "\\mathtt{r}"],
    ["d69c", "\\mathtt{s}"],
    ["d69d", "\\mathtt{t}"],
    ["d69e", "\\mathtt{u}"],
    ["d69f", "\\mathtt{v}"],
    ["d6a0", "\\mathtt{w}"],
    ["d6a1", "\\mathtt{x}"],
    ["d6a2", "\\mathtt{y}"],
    ["d6a3", "\\mathtt{z}"],
    ["d6a8", "\\mathbf{\\Alpha}"],
    ["d6a9", "\\mathbf{\\Beta}"],
    ["d6aa", "\\mathbf{\\Gamma}"],
    ["d6ab", "\\mathbf{\\Delta}"],
    ["d6ac", "\\mathbf{\\Epsilon}"],
    ["d6ad", "\\mathbf{\\Zeta}"],
    ["d6ae", "\\mathbf{\\Eta}"],
    ["d6af", "\\mathbf{\\Theta}"],
    ["d6b0", "\\mathbf{\\Iota}"],
    ["d6b1", "\\mathbf{\\Kappa}"],
    ["d6b2", "\\mathbf{\\Lambda}"],
    ["d6b5", "\\mathbf{\\Xi}"],
    ["d6b7", "\\mathbf{\\Pi}"],
    ["d6b8", "\\mathbf{\\Rho}"],
    ["d6b9", "\\mathbf{\\vartheta}"],
    ["d6ba", "\\mathbf{\\Sigma}"],
    ["d6bb", "\\mathbf{\\Tau}"],
    ["d6bc", "\\mathbf{\\Upsilon}"],
    ["d6bd", "\\mathbf{\\Phi}"],
    ["d6be", "\\mathbf{\\Chi}"],
    ["d6bf", "\\mathbf{\\Psi}"],
    ["d6c0", "\\mathbf{\\Omega}"],
    ["d6c1", "\\mathbf{\\nabla}"],
    ["d6c2", "\\mathbf{\\Alpha}"],
    ["d6c3", "\\mathbf{\\Beta}"],
    ["d6c4", "\\mathbf{\\Gamma}"],
    ["d6c5", "\\mathbf{\\Delta}"],
    ["d6c6", "\\mathbf{\\Epsilon}"],
    ["d6c7", "\\mathbf{\\Zeta}"],
    ["d6c8", "\\mathbf{\\Eta}"],
    ["d6c9", "\\mathbf{\\theta}"],
    ["d6ca", "\\mathbf{\\Iota}"],
    ["d6cb", "\\mathbf{\\Kappa}"],
    ["d6cc", "\\mathbf{\\Lambda}"],
    ["d6cf", "\\mathbf{\\Xi}"],
    ["d6d1", "\\mathbf{\\Pi}"],
    ["d6d2", "\\mathbf{\\Rho}"],
    ["d6d3", "\\mathbf{\\varsigma}"],
    ["d6d4", "\\mathbf{\\Sigma}"],
    ["d6d5", "\\mathbf{\\Tau}"],
    ["d6d6", "\\mathbf{\\Upsilon}"],
    ["d6d7", "\\mathbf{\\Phi}"],
    ["d6d8", "\\mathbf{\\Chi}"],
    ["d6d9", "\\mathbf{\\Psi}"],
    ["d6da", "\\mathbf{\\Omega}"],
    ["d6db", "\\partial{}"],
    ["d6dc", "\\in"],
    ["d6dd", "\\mathbf{\\vartheta}"],
    ["d6de", "\\mathbf{\\varkappa}"],
    ["d6df", "\\mathbf{\\phi}"],
    ["d6e0", "\\mathbf{\\varrho}"],
    ["d6e1", "\\mathbf{\\varpi}"],
    ["d6e2", "\\mathsl{\\Alpha}"],
    ["d6e3", "\\mathsl{\\Beta}"],
    ["d6e4", "\\mathsl{\\Gamma}"],
    ["d6e5", "\\mathsl{\\Delta}"],
    ["d6e6", "\\mathsl{\\Epsilon}"],
    ["d6e7", "\\mathsl{\\Zeta}"],
    ["d6e8", "\\mathsl{\\Eta}"],
    ["d6e9", "\\mathsl{\\Theta}"],
    ["d6ea", "\\mathsl{\\Iota}"],
    ["d6eb", "\\mathsl{\\Kappa}"],
    ["d6ec", "\\mathsl{\\Lambda}"],
    ["d6ef", "\\mathsl{\\Xi}"],
    ["d6f1", "\\mathsl{\\Pi}"],
    ["d6f2", "\\mathsl{\\Rho}"],
    ["d6f3", "\\mathsl{\\vartheta}"],
    ["d6f4", "\\mathsl{\\Sigma}"],
    ["d6f5", "\\mathsl{\\Tau}"],
    ["d6f6", "\\mathsl{\\Upsilon}"],
    ["d6f7", "\\mathsl{\\Phi}"],
    ["d6f8", "\\mathsl{\\Chi}"],
    ["d6f9", "\\mathsl{\\Psi}"],
    ["d6fa", "\\mathsl{\\Omega}"],
    ["d6fb", "\\mathsl{\\nabla}"],
    ["d6fc", "\\mathsl{\\Alpha}"],
    ["d6fd", "\\mathsl{\\Beta}"],
    ["d6fe", "\\mathsl{\\Gamma}"],
    ["d6ff", "\\mathsl{\\Delta}"],
    ["d700", "\\mathsl{\\Epsilon}"],
    ["d701", "\\mathsl{\\Zeta}"],
    ["d702", "\\mathsl{\\Eta}"],
    ["d703", "\\mathsl{\\Theta}"],
    ["d704", "\\mathsl{\\Iota}"],
    ["d705", "\\mathsl{\\Kappa}"],
    ["d706", "\\mathsl{\\Lambda}"],
    ["d709", "\\mathsl{\\Xi}"],
    ["d70b", "\\mathsl{\\Pi}"],
    ["d70c", "\\mathsl{\\Rho}"],
    ["d70d", "\\mathsl{\\varsigma}"],
    ["d70e", "\\mathsl{\\Sigma}"],
    ["d70f", "\\mathsl{\\Tau}"],
    ["d710", "\\mathsl{\\Upsilon}"],
    ["d711", "\\mathsl{\\Phi}"],
    ["d712", "\\mathsl{\\Chi}"],
    ["d713", "\\mathsl{\\Psi}"],
    ["d714", "\\mathsl{\\Omega}"],
    ["d715", "\\partial{}"],
    ["d716", "\\in"],
    ["d717", "\\mathsl{\\vartheta}"],
    ["d718", "\\mathsl{\\varkappa}"],
    ["d719", "\\mathsl{\\phi}"],
    ["d71a", "\\mathsl{\\varrho}"],
    ["d71b", "\\mathsl{\\varpi}"],
    ["d71c", "\\mathbit{\\Alpha}"],
    ["d71d", "\\mathbit{\\Beta}"],
    ["d71e", "\\mathbit{\\Gamma}"],
    ["d71f", "\\mathbit{\\Delta}"],
    ["d720", "\\mathbit{\\Epsilon}"],
    ["d721", "\\mathbit{\\Zeta}"],
    ["d722", "\\mathbit{\\Eta}"],
    ["d723", "\\mathbit{\\Theta}"],
    ["d724", "\\mathbit{\\Iota}"],
    ["d725", "\\mathbit{\\Kappa}"],
    ["d726", "\\mathbit{\\Lambda}"],
    ["d729", "\\mathbit{\\Xi}"],
    ["d72b", "\\mathbit{\\Pi}"],
    ["d72c", "\\mathbit{\\Rho}"],
    ["d72d", "\\mathbit{O}"],
    ["d72e", "\\mathbit{\\Sigma}"],
    ["d72f", "\\mathbit{\\Tau}"],
    ["d730", "\\mathbit{\\Upsilon}"],
    ["d731", "\\mathbit{\\Phi}"],
    ["d732", "\\mathbit{\\Chi}"],
    ["d733", "\\mathbit{\\Psi}"],
    ["d734", "\\mathbit{\\Omega}"],
    ["d735", "\\mathbit{\\nabla}"],
    ["d736", "\\mathbit{\\Alpha}"],
    ["d737", "\\mathbit{\\Beta}"],
    ["d738", "\\mathbit{\\Gamma}"],
    ["d739", "\\mathbit{\\Delta}"],
    ["d73a", "\\mathbit{\\Epsilon}"],
    ["d73b", "\\mathbit{\\Zeta}"],
    ["d73c", "\\mathbit{\\Eta}"],
    ["d73d", "\\mathbit{\\Theta}"],
    ["d73e", "\\mathbit{\\Iota}"],
    ["d73f", "\\mathbit{\\Kappa}"],
    ["d740", "\\mathbit{\\Lambda}"],
    ["d743", "\\mathbit{\\Xi}"],
    ["d745", "\\mathbit{\\Pi}"],
    ["d746", "\\mathbit{\\Rho}"],
    ["d747", "\\mathbit{\\varsigma}"],
    ["d748", "\\mathbit{\\Sigma}"],
    ["d749", "\\mathbit{\\Tau}"],
    ["d74a", "\\mathbit{\\Upsilon}"],
    ["d74b", "\\mathbit{\\Phi}"],
    ["d74c", "\\mathbit{\\Chi}"],
    ["d74d", "\\mathbit{\\Psi}"],
    ["d74e", "\\mathbit{\\Omega}"],
    ["d74f", "\\partial{}"],
    ["d750", "\\in"],
    ["d751", "\\mathbit{\\vartheta}"],
    ["d752", "\\mathbit{\\varkappa}"],
    ["d753", "\\mathbit{\\phi}"],
    ["d754", "\\mathbit{\\varrho}"],
    ["d755", "\\mathbit{\\varpi}"],
    ["d756", "\\mathsfbf{\\Alpha}"],
    ["d757", "\\mathsfbf{\\Beta}"],
    ["d758", "\\mathsfbf{\\Gamma}"],
    ["d759", "\\mathsfbf{\\Delta}"],
    ["d75a", "\\mathsfbf{\\Epsilon}"],
    ["d75b", "\\mathsfbf{\\Zeta}"],
    ["d75c", "\\mathsfbf{\\Eta}"],
    ["d75d", "\\mathsfbf{\\Theta}"],
    ["d75e", "\\mathsfbf{\\Iota}"],
    ["d75f", "\\mathsfbf{\\Kappa}"],
    ["d760", "\\mathsfbf{\\Lambda}"],
    ["d763", "\\mathsfbf{\\Xi}"],
    ["d765", "\\mathsfbf{\\Pi}"],
    ["d766", "\\mathsfbf{\\Rho}"],
    ["d767", "\\mathsfbf{\\vartheta}"],
    ["d768", "\\mathsfbf{\\Sigma}"],
    ["d769", "\\mathsfbf{\\Tau}"],
    ["d76a", "\\mathsfbf{\\Upsilon}"],
    ["d76b", "\\mathsfbf{\\Phi}"],
    ["d76c", "\\mathsfbf{\\Chi}"],
    ["d76d", "\\mathsfbf{\\Psi}"],
    ["d76e", "\\mathsfbf{\\Omega}"],
    ["d76f", "\\mathsfbf{\\nabla}"],
    ["d770", "\\mathsfbf{\\Alpha}"],
    ["d771", "\\mathsfbf{\\Beta}"],
    ["d772", "\\mathsfbf{\\Gamma}"],
    ["d773", "\\mathsfbf{\\Delta}"],
    ["d774", "\\mathsfbf{\\Epsilon}"],
    ["d775", "\\mathsfbf{\\Zeta}"],
    ["d776", "\\mathsfbf{\\Eta}"],
    ["d777", "\\mathsfbf{\\Theta}"],
    ["d778", "\\mathsfbf{\\Iota}"],
    ["d779", "\\mathsfbf{\\Kappa}"],
    ["d77a", "\\mathsfbf{\\Lambda}"],
    ["d77d", "\\mathsfbf{\\Xi}"],
    ["d77f", "\\mathsfbf{\\Pi}"],
    ["d780", "\\mathsfbf{\\Rho}"],
    ["d781", "\\mathsfbf{\\varsigma}"],
    ["d782", "\\mathsfbf{\\Sigma}"],
    ["d783", "\\mathsfbf{\\Tau}"],
    ["d784", "\\mathsfbf{\\Upsilon}"],
    ["d785", "\\mathsfbf{\\Phi}"],
    ["d786", "\\mathsfbf{\\Chi}"],
    ["d787", "\\mathsfbf{\\Psi}"],
    ["d788", "\\mathsfbf{\\Omega}"],
    ["d789", "\\partial{}"],
    ["d78a", "\\in"],
    ["d78b", "\\mathsfbf{\\vartheta}"],
    ["d78c", "\\mathsfbf{\\varkappa}"],
    ["d78d", "\\mathsfbf{\\phi}"],
    ["d78e", "\\mathsfbf{\\varrho}"],
    ["d78f", "\\mathsfbf{\\varpi}"],
    ["d790", "\\mathsfbfsl{\\Alpha}"],
    ["d791", "\\mathsfbfsl{\\Beta}"],
    ["d792", "\\mathsfbfsl{\\Gamma}"],
    ["d793", "\\mathsfbfsl{\\Delta}"],
    ["d794", "\\mathsfbfsl{\\Epsilon}"],
    ["d795", "\\mathsfbfsl{\\Zeta}"],
    ["d796", "\\mathsfbfsl{\\Eta}"],
    ["d797", "\\mathsfbfsl{\\vartheta}"],
    ["d798", "\\mathsfbfsl{\\Iota}"],
    ["d799", "\\mathsfbfsl{\\Kappa}"],
    ["d79a", "\\mathsfbfsl{\\Lambda}"],
    ["d79d", "\\mathsfbfsl{\\Xi}"],
    ["d79f", "\\mathsfbfsl{\\Pi}"],
    ["d7a0", "\\mathsfbfsl{\\Rho}"],
    ["d7a1", "\\mathsfbfsl{\\vartheta}"],
    ["d7a2", "\\mathsfbfsl{\\Sigma}"],
    ["d7a3", "\\mathsfbfsl{\\Tau}"],
    ["d7a4", "\\mathsfbfsl{\\Upsilon}"],
    ["d7a5", "\\mathsfbfsl{\\Phi}"],
    ["d7a6", "\\mathsfbfsl{\\Chi}"],
    ["d7a7", "\\mathsfbfsl{\\Psi}"],
    ["d7a8", "\\mathsfbfsl{\\Omega}"],
    ["d7a9", "\\mathsfbfsl{\\nabla}"],
    ["d7aa", "\\mathsfbfsl{\\Alpha}"],
    ["d7ab", "\\mathsfbfsl{\\Beta}"],
    ["d7ac", "\\mathsfbfsl{\\Gamma}"],
    ["d7ad", "\\mathsfbfsl{\\Delta}"],
    ["d7ae", "\\mathsfbfsl{\\Epsilon}"],
    ["d7af", "\\mathsfbfsl{\\Zeta}"],
    ["d7b0", "\\mathsfbfsl{\\Eta}"],
    ["d7b1", "\\mathsfbfsl{\\vartheta}"],
    ["d7b2", "\\mathsfbfsl{\\Iota}"],
    ["d7b3", "\\mathsfbfsl{\\Kappa}"],
    ["d7b4", "\\mathsfbfsl{\\Lambda}"],
    ["d7b7", "\\mathsfbfsl{\\Xi}"],
    ["d7b9", "\\mathsfbfsl{\\Pi}"],
    ["d7ba", "\\mathsfbfsl{\\Rho}"],
    ["d7bb", "\\mathsfbfsl{\\varsigma}"],
    ["d7bc", "\\mathsfbfsl{\\Sigma}"],
    ["d7bd", "\\mathsfbfsl{\\Tau}"],
    ["d7be", "\\mathsfbfsl{\\Upsilon}"],
    ["d7bf", "\\mathsfbfsl{\\Phi}"],
    ["d7c0", "\\mathsfbfsl{\\Chi}"],
    ["d7c1", "\\mathsfbfsl{\\Psi}"],
    ["d7c2", "\\mathsfbfsl{\\Omega}"],
    ["d7c3", "\\partial{}"],
    ["d7c4", "\\in"],
    ["d7c5", "\\mathsfbfsl{\\vartheta}"],
    ["d7c6", "\\mathsfbfsl{\\varkappa}"],
    ["d7c7", "\\mathsfbfsl{\\phi}"],
    ["d7c8", "\\mathsfbfsl{\\varrho}"],
    ["d7c9", "\\mathsfbfsl{\\varpi}"],
    ["d7ce", "\\mathbf{0}"],
    ["d7cf", "\\mathbf{1}"],
    ["d7d0", "\\mathbf{2}"],
    ["d7d1", "\\mathbf{3}"],
    ["d7d2", "\\mathbf{4}"],
    ["d7d3", "\\mathbf{5}"],
    ["d7d4", "\\mathbf{6}"],
    ["d7d5", "\\mathbf{7}"],
    ["d7d6", "\\mathbf{8}"],
    ["d7d7", "\\mathbf{9}"],
    ["d7d8", "\\mathbb{0}"],
    ["d7d9", "\\mathbb{1}"],
    ["d7da", "\\mathbb{2}"],
    ["d7db", "\\mathbb{3}"],
    ["d7dc", "\\mathbb{4}"],
    ["d7dd", "\\mathbb{5}"],
    ["d7de", "\\mathbb{6}"],
    ["d7df", "\\mathbb{7}"],
    ["d7e0", "\\mathbb{8}"],
    ["d7e1", "\\mathbb{9}"],
    ["d7e2", "\\mathsf{0}"],
    ["d7e3", "\\mathsf{1}"],
    ["d7e4", "\\mathsf{2}"],
    ["d7e5", "\\mathsf{3}"],
    ["d7e6", "\\mathsf{4}"],
    ["d7e7", "\\mathsf{5}"],
    ["d7e8", "\\mathsf{6}"],
    ["d7e9", "\\mathsf{7}"],
    ["d7ea", "\\mathsf{8}"],
    ["d7eb", "\\mathsf{9}"],
    ["d7ec", "\\mathsfbf{0}"],
    ["d7ed", "\\mathsfbf{1}"],
    ["d7ee", "\\mathsfbf{2}"],
    ["d7ef", "\\mathsfbf{3}"],
    ["d7f0", "\\mathsfbf{4}"],
    ["d7f1", "\\mathsfbf{5}"],
    ["d7f2", "\\mathsfbf{6}"],
    ["d7f3", "\\mathsfbf{7}"],
    ["d7f4", "\\mathsfbf{8}"],
    ["d7f5", "\\mathsfbf{9}"],
    ["d7f6", "\\mathtt{0}"],
    ["d7f7", "\\mathtt{1}"],
    ["d7f8", "\\mathtt{2}"],
    ["d7f9", "\\mathtt{3}"],
    ["d7fa", "\\mathtt{4}"],
    ["d7fb", "\\mathtt{5}"],
    ["d7fc", "\\mathtt{6}"],
    ["d7fd", "\\mathtt{7}"],
    ["d7fe", "\\mathtt{8}"],
    ["d7ff", "\\mathtt{9}"],
  ]);
  function i0(i) {
    var e = [];
    i = i.replace(/\$[^$]+\$/, (n) => (e.push(n), "MATH.EXP.".concat(e.length - 1)));
    var t = "",
      r = !1;
    for (var n = 0; n < i.length; n++) {
      if (r) {
        (r = !1), (t += i[n]);
        continue;
      }
      if (i[n] === "\\") {
        (r = !0), (t += i[n]);
        continue;
      }
      var s = i.charCodeAt(n).toString(16).padStart(4, "0");
      var _t0_get;
      t += (_t0_get = t0.get(s)) !== null && _t0_get !== void 0 ? _t0_get : i[n];
    }
    var _e_Number;
    return t.replace(/MATH\.EXP\.(\d+)/, (n, s) => ((_e_Number = e[Number(s)]) !== null && _e_Number !== void 0 ? _e_Number : ""));
  }
  a(i0, "escapeSpecialCharacters");
  function r0(i) {
    return i.replace(/(\w)(\S*)/g, (e, t, r) => {
      var n = t + r;
      return sv(n) ? n : t.toLocaleUpperCase() + r.toLocaleLowerCase();
    });
  }
  a(r0, "titleCase");
  function sv(i) {
    return /^M{0,4}(CM|CD|D?C{0,3})(XC|XL|L?X{0,3})(IX|IV|V?I{0,3})$/.test(i);
  }
  a(sv, "isRomanNumeral");
  function Xi(i) {
    return i.replace(/[^0-9A-Za-z]/g, "").toLocaleLowerCase();
  }
  a(Xi, "alphaNum");
  function n0(i) {
    return i.replace(/\r\n?/g, "\n");
  }
  a(n0, "convertCRLF");
  function s0(i, e) {
    var t = i.split(" "),
      r = [],
      n = "";
    var _iteratorNormalCompletion = true,
      _didIteratorError = false,
      _iteratorError = undefined;
    try {
      for (var _iterator = t.entries()[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
        var _step_value = _sliced_to_array(_step.value, 2),
          s = _step_value[0],
          o = _step_value[1];
        n.length + o.length + 1 > e && s > 0 && (r.push(n.trim()), (n = "")), (n += o + " ");
      }
    } catch (err) {
      _didIteratorError = true;
      _iteratorError = err;
    } finally {
      try {
        if (!_iteratorNormalCompletion && _iterator.return != null) {
          _iterator.return();
        }
      } finally {
        if (_didIteratorError) {
          throw _iteratorError;
        }
      }
    }
    return [...r, n.trim()];
  }
  a(s0, "wrapText");
  function o0(i) {
    return i
      .replace(/\s*\n\s*\n\s*/g, "<<BIBTEX_TIDY_PARA>>")
      .replace(/\s*\n\s*/g, " ")
      .replace(/<<BIBTEX_TIDY_PARA>>/g, "\n\n");
  }
  a(o0, "unwrapText");
  function yl(i, e) {
    return e && (i = gs(Nr(ms(i)))), "{".concat(i, "}");
  }
  a(yl, "addEnclosingBraces");
  function u0(i) {
    return i.replace(/^\{([^{}]*)\}$/g, "$1");
  }
  a(u0, "removeEnclosingBraces");
  function l0(i) {
    return i.replace(/\\?_/g, "\\%5F");
  }
  a(l0, "escapeURL");
  function a0(i, e) {
    var t = i.split(" and ");
    return t.length > e ? [...t.slice(0, e), "others"].join(" and ") : i;
  }
  a(a0, "limitAuthors");
  function h0(i) {
    for (var e = 0; e < 4; e++) i = i.replace(/(\d)\s*-\s*(\d)/g, "$1--$2");
    return i;
  }
  a(h0, "formatPageRange");
  function Vr(i) {
    var _i_block;
    return i.type !== "text" && ((_i_block = i.block) === null || _i_block === void 0 ? void 0 : _i_block.type) === "entry";
  }
  a(Vr, "isEntryNode");
  function c0(i, e, t, r) {
    var n = new Map();
    var _iteratorNormalCompletion = true,
      _didIteratorError = false,
      _iteratorError = undefined;
    if (t)
      try {
        for (var _iterator = t[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
          var f = _step.value;
          n.set(f, !!r);
        }
      } catch (err) {
        _didIteratorError = true;
        _iteratorError = err;
      } finally {
        try {
          if (!_iteratorNormalCompletion && _iterator.return != null) {
            _iterator.return();
          }
        } finally {
          if (_didIteratorError) {
            throw _iteratorError;
          }
        }
      }
    n.has("key") || n.set("key", !1);
    var s = new Set(),
      o = [],
      u = new Map(),
      l = new Map(),
      h = new Map(),
      c = new Map();
    var _iteratorNormalCompletion1 = true,
      _didIteratorError1 = false,
      _iteratorError1 = undefined;
    try {
      for (var _iterator1 = gi(i)[Symbol.iterator](), _step1; !(_iteratorNormalCompletion1 = (_step1 = _iterator1.next()).done); _iteratorNormalCompletion1 = true) {
        var f1 = _step1.value;
        var d = e.get(f1);
        var _iteratorNormalCompletion2 = true,
          _didIteratorError2 = false,
          _iteratorError2 = undefined;
        try {
          for (var _iterator2 = n[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {
            var _step_value = _sliced_to_array(_step2.value, 2),
              p = _step_value[0],
              m = _step_value[1];
            var b = void 0,
              g = void 0;
            switch (p) {
              case "key": {
                if (!f1.key) continue;
                var D = f1.key.toLocaleLowerCase();
                (b = u.get(D)), b ? (g = "The citation key ".concat(f1.key, " has already been used.")) : u.set(D, f1);
                break;
              }
              case "doi": {
                var _d_get;
                var D1 = Xi((_d_get = d.get("doi")) !== null && _d_get !== void 0 ? _d_get : "");
                if (!D1) continue;
                (b = l.get(D1)), b ? (g = "Entry ".concat(f1.key, " has an identical DOI to entry ").concat(b.key, ".")) : l.set(D1, f1);
                break;
              }
              case "citation": {
                var D2 = d.get("title"),
                  F = d.get("author"),
                  w = d.get("number");
                if (!D2 || !F) continue;
                var x = [Xi(F.split(/,| and/)[0]), Xi(D2), Xi(w !== null && w !== void 0 ? w : "0")].join(":");
                (b = h.get(x)), b ? (g = "Entry ".concat(f1.key, " has similar content to entry ").concat(b.key, ".")) : h.set(x, f1);
                break;
              }
              case "abstract": {
                var _d_get1;
                var F1 = Xi((_d_get1 = d.get("abstract")) !== null && _d_get1 !== void 0 ? _d_get1 : "").slice(0, 100);
                if (!F1) continue;
                (b = c.get(F1)), b ? (g = "Entry ".concat(f1.key, " has a similar abstract to entry ").concat(b.key, ".")) : c.set(F1, f1);
                break;
              }
            }
            b && m && (s.add(f1), ov(r, b, f1)), g && o.push({ code: "DUPLICATE_ENTRY", rule: p, message: "Duplicate ".concat(m ? "removed" : "detected", ". ").concat(g) });
          }
        } catch (err) {
          _didIteratorError2 = true;
          _iteratorError2 = err;
        } finally {
          try {
            if (!_iteratorNormalCompletion2 && _iterator2.return != null) {
              _iterator2.return();
            }
          } finally {
            if (_didIteratorError2) {
              throw _iteratorError2;
            }
          }
        }
      }
    } catch (err) {
      _didIteratorError1 = true;
      _iteratorError1 = err;
    } finally {
      try {
        if (!_iteratorNormalCompletion1 && _iterator1.return != null) {
          _iterator1.return();
        }
      } finally {
        if (_didIteratorError1) {
          throw _iteratorError1;
        }
      }
    }
    return { entries: s, warnings: o };
  }
  a(c0, "checkForDuplicates");
  function ov(i, e, t) {
    if (i)
      switch (i) {
        case "last":
          (e.key = t.key), (e.fields = t.fields);
          break;
        case "combine":
        case "overwrite":
          var _iteratorNormalCompletion = true,
            _didIteratorError = false,
            _iteratorError = undefined;
          try {
            var _loop = function () {
              var r = _step.value;
              var n = e.fields.find((s) => s.name.toLocaleLowerCase() === r.name.toLocaleLowerCase());
              n ? i === "overwrite" && (n.value = r.value) : e.fields.push(r);
            };
            for (var _iterator = t.fields[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) _loop();
          } catch (err) {
            _didIteratorError = true;
            _iteratorError = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion && _iterator.return != null) {
                _iterator.return();
              }
            } finally {
              if (_didIteratorError) {
                throw _iteratorError;
              }
            }
          }
          break;
        case "first":
          return;
      }
  }
  a(ov, "mergeEntries");
  var Cl = ["jan", "feb", "mar", "apr", "may", "jun", "jul", "aug", "sep", "oct", "nov", "dec"],
    f0 = new Set(Cl),
    d0 = {
      1: "jan",
      2: "feb",
      3: "mar",
      4: "apr",
      5: "may",
      6: "jun",
      7: "jul",
      8: "aug",
      9: "sep",
      10: "oct",
      11: "nov",
      12: "dec",
      jan: "jan",
      feb: "feb",
      mar: "mar",
      apr: "apr",
      may: "may",
      jun: "jun",
      jul: "jul",
      aug: "aug",
      sep: "sep",
      oct: "oct",
      nov: "nov",
      dec: "dec",
      january: "jan",
      february: "feb",
      march: "mar",
      april: "apr",
      june: "jun",
      july: "jul",
      august: "aug",
      september: "sep",
      october: "oct",
      november: "nov",
      december: "dec",
    };
  function m0(i, e, t) {
    var r = e.omit,
      n = e.tab,
      s = e.space,
      o = n ? "	" : " ".repeat(s),
      u = new Set(r),
      l = i.children
        .map((h) => uv(h, e, o, u, t))
        .join("")
        .trimEnd();
    return l.endsWith("\n") || (l += "\n"), l;
  }
  a(m0, "formatBibtex");
  function uv(i, e, t, r, n) {
    if (i.type === "text") return p0(i.text, e);
    if (!i.block) throw new Error("FATAL!");
    switch (i.block.type) {
      case "preamble":
      case "string":
        return "".concat(i.block.raw, "\n") + (e.blankLines ? "\n" : "");
      case "comment":
        return p0(i.block.raw, e);
      case "entry":
        var _n_get, _this;
        return lv(i.command, i.block, e, t, r, (_this = n) === null || _this === void 0 ? void 0 : (_n_get = _this.get) === null || _n_get === void 0 ? void 0 : _n_get.call(_this, i.block)) + (e.blankLines ? "\n" : "");
    }
  }
  a(uv, "formatNode");
  function lv(i, e, t, r, n, s) {
    var o = t.align,
      u = t.trailingCommas,
      l = t.removeDuplicateFields,
      h = t.removeEmptyFields,
      c = t.lowercase,
      f = "",
      d = c ? i.toLocaleLowerCase() : i;
    f += "@".concat(d, "{");
    var p = s !== null && s !== void 0 ? s : e.key;
    p && (f += "".concat(p, ","));
    var m = new Set();
    var _iteratorNormalCompletion = true,
      _didIteratorError = false,
      _iteratorError = undefined;
    try {
      for (var _iterator = e.fields.entries()[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
        var _step_value = _sliced_to_array(_step.value, 2),
          b = _step_value[0],
          g = _step_value[1];
        var D = g.name.toLocaleLowerCase(),
          F = c ? D : g.name;
        if (g.name !== "" && !n.has(D) && !(l && m.has(D))) {
          if ((m.add(D), g.value.concat.length === 0)) {
            if (h) continue;
            f += "\n".concat(r).concat(F);
          } else {
            var w = Al(g, t);
            if (h && (w === "{}" || w === '""')) continue;
            f += "\n"
              .concat(r)
              .concat(F.trim().padEnd(o - 1), " = ")
              .concat(w);
          }
          (b < e.fields.length - 1 || u) && (f += ",");
        }
      }
    } catch (err) {
      _didIteratorError = true;
      _iteratorError = err;
    } finally {
      try {
        if (!_iteratorNormalCompletion && _iterator.return != null) {
          _iterator.return();
        }
      } finally {
        if (_didIteratorError) {
          throw _iteratorError;
        }
      }
    }
    return (f += "\n}\n"), f;
  }
  a(lv, "formatEntry");
  function p0(i, param) {
    var e = param.stripComments,
      t = param.tidyComments;
    if (e) return "";
    if (t) {
      var r = i.trim();
      return r === "" ? "" : r + "\n";
    } else return i.replace(/^[ \t]*\n|[ \t]*$/g, "");
  }
  a(p0, "formatComment");
  function Al(i, e) {
    var t = e.curly,
      r = e.numeric,
      n = e.align,
      s = e.stripEnclosingBraces,
      o = e.dropAllCaps,
      u = e.escape,
      l = e.encodeUrls,
      h = e.wrap,
      c = e.maxAuthors,
      f = e.tab,
      d = e.space,
      p = e.enclosingBraces,
      m = e.removeBraces,
      b = e.months,
      g = i.name.toLocaleLowerCase(),
      D = f ? "	" : " ".repeat(d),
      F = new Set((p !== null && p !== void 0 ? p : []).map((x) => x.toLocaleLowerCase())),
      w = new Set((m !== null && m !== void 0 ? m : []).map((x) => x.toLocaleLowerCase()));
    return i.value.concat
      .map((param) => {
        var x = param.type,
          E = param.value;
        var _ = E.match(/^[1-9][0-9]*$/);
        if ((_ && t && (x = "braced"), b && g === "month")) {
          var z = d0[E.toLowerCase()];
          if (z) return z;
        }
        if (x === "literal" || (r && _)) return E;
        var I = E.slice(0, 3).toLowerCase(),
          J = g === "month" && f0.has(I);
        if (!t && r && J) return I;
        if (((E = o0(E)), s && (E = u0(E)), o && !E.match(/[a-z]/) && (E = r0(E)), g === "url" && l && (E = l0(E)), u && (E = i0(E)), g === "pages" && (E = h0(E)), g === "author" && c && (E = a0(E, c)), w.has(g) && (E = gs(Nr(ms(E)))), F.has(g) && (x === "braced" || t) && (E = yl(E, !0)), x === "braced" && i.value.concat.length === 1 && (E = E.trim()), x === "braced" || t)) {
          var z1 = "".concat(D).concat(n, "{").concat(E, "}").length,
            U = E.includes("\n\n");
          if ((h && z1 > h) || U) {
            var N = E.split("\n\n"),
              ne = D.repeat(2);
            if (h) {
              var le = h;
              N = N.map((H) => s0(H, le - ne.length).join("\n" + ne));
            }
            E = "\n" + ne + N.join("\n\n".concat(ne)) + "\n" + D;
          }
          return yl(E);
        } else return '"'.concat(E, '"');
      })
      .join(" # ");
  }
  a(Al, "formatValue");
  function zr(i, e) {
    return i
      .replace(/\s+/g, " ")
      .split(/ and /i)
      .map((t) => {
        var r = t.trim();
        e && (r = r.replace(/["{}]/g, ""));
        var n = r.indexOf(",");
        if (n > -1) return { firstNames: r.slice(n + 1).trim(), lastName: r.slice(0, n).trim() };
        {
          var s = r.lastIndexOf(" ");
          return { firstNames: r.slice(0, s).trim(), lastName: r.slice(s).trim() };
        }
      });
  }
  a(zr, "parseAuthors");
  var _i_get;
  var av = {
      auth: {
        description: "Last name of first authors",
        callback: (i) => {
          var _zr__lastName_replace, _this, _zr_;
          var _i_get;
          var t =
            (_zr_ = zr((_i_get = i.get("author")) !== null && _i_get !== void 0 ? _i_get : "", !0)[0]) === null || _zr_ === void 0
              ? void 0
              : (_zr__lastName_replace = (_this = _zr_.lastName).replace) === null || _zr__lastName_replace === void 0
              ? void 0
              : _zr__lastName_replace.call(
                  _this,
                  /(?:[\0-@\[-`\{-\xA9\xAB-\xB4\xB6-\xB9\xBB-\xBF\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u036F\u0375\u0378\u0379\u037E\u0380-\u0385\u0387\u038B\u038D\u03A2\u03F6\u0482-\u0489\u0530\u0557\u0558\u055A-\u055F\u0589-\u05CF\u05EB-\u05EE\u05F3-\u061F\u064B-\u066D\u0670\u06D4\u06D6-\u06E4\u06E7-\u06ED\u06F0-\u06F9\u06FD\u06FE\u0700-\u070F\u0711\u0730-\u074C\u07A6-\u07B0\u07B2-\u07C9\u07EB-\u07F3\u07F6-\u07F9\u07FB-\u07FF\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u083F\u0859-\u085F\u086B-\u086F\u0888\u088F-\u089F\u08CA-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962-\u0970\u0981-\u0984\u098D\u098E\u0991\u0992\u09A9\u09B1\u09B3-\u09B5\u09BA-\u09BC\u09BE-\u09CD\u09CF-\u09DB\u09DE\u09E2-\u09EF\u09F2-\u09FB\u09FD-\u0A04\u0A0B-\u0A0E\u0A11\u0A12\u0A29\u0A31\u0A34\u0A37\u0A3A-\u0A58\u0A5D\u0A5F-\u0A71\u0A75-\u0A84\u0A8E\u0A92\u0AA9\u0AB1\u0AB4\u0ABA-\u0ABC\u0ABE-\u0ACF\u0AD1-\u0ADF\u0AE2-\u0AF8\u0AFA-\u0B04\u0B0D\u0B0E\u0B11\u0B12\u0B29\u0B31\u0B34\u0B3A-\u0B3C\u0B3E-\u0B5B\u0B5E\u0B62-\u0B70\u0B72-\u0B82\u0B84\u0B8B-\u0B8D\u0B91\u0B96-\u0B98\u0B9B\u0B9D\u0BA0-\u0BA2\u0BA5-\u0BA7\u0BAB-\u0BAD\u0BBA-\u0BCF\u0BD1-\u0C04\u0C0D\u0C11\u0C29\u0C3A-\u0C3C\u0C3E-\u0C57\u0C5B\u0C5C\u0C5E\u0C5F\u0C62-\u0C7F\u0C81-\u0C84\u0C8D\u0C91\u0CA9\u0CB4\u0CBA-\u0CBC\u0CBE-\u0CDC\u0CDF\u0CE2-\u0CF0\u0CF3-\u0D03\u0D0D\u0D11\u0D3B\u0D3C\u0D3E-\u0D4D\u0D4F-\u0D53\u0D57-\u0D5E\u0D62-\u0D79\u0D80-\u0D84\u0D97-\u0D99\u0DB2\u0DBC\u0DBE\u0DBF\u0DC7-\u0E00\u0E31\u0E34-\u0E3F\u0E47-\u0E80\u0E83\u0E85\u0E8B\u0EA4\u0EA6\u0EB1\u0EB4-\u0EBC\u0EBE\u0EBF\u0EC5\u0EC7-\u0EDB\u0EE0-\u0EFF\u0F01-\u0F3F\u0F48\u0F6D-\u0F87\u0F8D-\u0FFF\u102B-\u103E\u1040-\u104F\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F-\u109F\u10C6\u10C8-\u10CC\u10CE\u10CF\u10FB\u1249\u124E\u124F\u1257\u1259\u125E\u125F\u1289\u128E\u128F\u12B1\u12B6\u12B7\u12BF\u12C1\u12C6\u12C7\u12D7\u1311\u1316\u1317\u135B-\u137F\u1390-\u139F\u13F6\u13F7\u13FE-\u1400\u166D\u166E\u1680\u169B-\u169F\u16EB-\u16F0\u16F9-\u16FF\u1712-\u171E\u1732-\u173F\u1752-\u175F\u176D\u1771-\u177F\u17B4-\u17D6\u17D8-\u17DB\u17DD-\u181F\u1879-\u187F\u1885\u1886\u18A9\u18AB-\u18AF\u18F6-\u18FF\u191F-\u194F\u196E\u196F\u1975-\u197F\u19AC-\u19AF\u19CA-\u19FF\u1A17-\u1A1F\u1A55-\u1AA6\u1AA8-\u1B04\u1B34-\u1B44\u1B4D-\u1B82\u1BA1-\u1BAD\u1BB0-\u1BB9\u1BE6-\u1BFF\u1C24-\u1C4C\u1C50-\u1C59\u1C7E\u1C7F\u1C89-\u1C8F\u1CBB\u1CBC\u1CC0-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1CFB-\u1CFF\u1DC0-\u1DFF\u1F16\u1F17\u1F1E\u1F1F\u1F46\u1F47\u1F4E\u1F4F\u1F58\u1F5A\u1F5C\u1F5E\u1F7E\u1F7F\u1FB5\u1FBD\u1FBF-\u1FC1\u1FC5\u1FCD-\u1FCF\u1FD4\u1FD5\u1FDC-\u1FDF\u1FED-\u1FF1\u1FF5\u1FFD-\u2070\u2072-\u207E\u2080-\u208F\u209D-\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F-\u2182\u2185-\u2BFF\u2CE5-\u2CEA\u2CEF-\u2CF1\u2CF4-\u2CFF\u2D26\u2D28-\u2D2C\u2D2E\u2D2F\u2D68-\u2D6E\u2D70-\u2D7F\u2D97-\u2D9F\u2DA7\u2DAF\u2DB7\u2DBF\u2DC7\u2DCF\u2DD7\u2DDF-\u2E2E\u2E30-\u3004\u3007-\u3030\u3036-\u303A\u303D-\u3040\u3097-\u309C\u30A0\u30FB\u3100-\u3104\u3130\u318F-\u319F\u31C0-\u31EF\u3200-\u33FF\u4DC0-\u4DFF\uA48D-\uA4CF\uA4FE\uA4FF\uA60D-\uA60F\uA620-\uA629\uA62C-\uA63F\uA66F-\uA67E\uA69E\uA69F\uA6E6-\uA716\uA720\uA721\uA789\uA78A\uA7CB-\uA7CF\uA7D2\uA7D4\uA7DA-\uA7F1\uA802\uA806\uA80B\uA823-\uA83F\uA874-\uA881\uA8B4-\uA8F1\uA8F8-\uA8FA\uA8FC\uA8FF-\uA909\uA926-\uA92F\uA947-\uA95F\uA97D-\uA983\uA9B3-\uA9CE\uA9D0-\uA9DF\uA9E5\uA9F0-\uA9F9\uA9FF\uAA29-\uAA3F\uAA43\uAA4C-\uAA5F\uAA77-\uAA79\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAC3-\uAADA\uAADE\uAADF\uAAEB-\uAAF1\uAAF5-\uAB00\uAB07\uAB08\uAB0F\uAB10\uAB17-\uAB1F\uAB27\uAB2F\uAB5B\uAB6A-\uAB6F\uABE3-\uABFF\uD7A4-\uD7AF\uD7C7-\uD7CA\uD7FC-\uD7FF\uE000-\uF8FF\uFA6E\uFA6F\uFADA-\uFAFF\uFB07-\uFB12\uFB18-\uFB1C\uFB1E\uFB29\uFB37\uFB3D\uFB3F\uFB42\uFB45\uFBB2-\uFBD2\uFD3E-\uFD4F\uFD90\uFD91\uFDC8-\uFDEF\uFDFC-\uFE6F\uFE75\uFEFD-\uFF20\uFF3B-\uFF40\uFF5B-\uFF65\uFFBF-\uFFC1\uFFC8\uFFC9\uFFD0\uFFD1\uFFD8\uFFD9\uFFDD-\uFFFF]|\uD800[\uDC0C\uDC27\uDC3B\uDC3E\uDC4E\uDC4F\uDC5E-\uDC7F\uDCFB-\uDE7F\uDE9D-\uDE9F\uDED1-\uDEFF\uDF20-\uDF2C\uDF41\uDF4A-\uDF4F\uDF76-\uDF7F\uDF9E\uDF9F\uDFC4-\uDFC7\uDFD0-\uDFFF]|\uD801[\uDC9E-\uDCAF\uDCD4-\uDCD7\uDCFC-\uDCFF\uDD28-\uDD2F\uDD64-\uDD6F\uDD7B\uDD8B\uDD93\uDD96\uDDA2\uDDB2\uDDBA\uDDBD-\uDDFF\uDF37-\uDF3F\uDF56-\uDF5F\uDF68-\uDF7F\uDF86\uDFB1\uDFBB-\uDFFF]|\uD802[\uDC06\uDC07\uDC09\uDC36\uDC39-\uDC3B\uDC3D\uDC3E\uDC56-\uDC5F\uDC77-\uDC7F\uDC9F-\uDCDF\uDCF3\uDCF6-\uDCFF\uDD16-\uDD1F\uDD3A-\uDD7F\uDDB8-\uDDBD\uDDC0-\uDDFF\uDE01-\uDE0F\uDE14\uDE18\uDE36-\uDE5F\uDE7D-\uDE7F\uDE9D-\uDEBF\uDEC8\uDEE5-\uDEFF\uDF36-\uDF3F\uDF56-\uDF5F\uDF73-\uDF7F\uDF92-\uDFFF]|\uD803[\uDC49-\uDC7F\uDCB3-\uDCBF\uDCF3-\uDCFF\uDD24-\uDE7F\uDEAA-\uDEAF\uDEB2-\uDEFF\uDF1D-\uDF26\uDF28-\uDF2F\uDF46-\uDF6F\uDF82-\uDFAF\uDFC5-\uDFDF\uDFF7-\uDFFF]|\uD804[\uDC00-\uDC02\uDC38-\uDC70\uDC73\uDC74\uDC76-\uDC82\uDCB0-\uDCCF\uDCE9-\uDD02\uDD27-\uDD43\uDD45\uDD46\uDD48-\uDD4F\uDD73-\uDD75\uDD77-\uDD82\uDDB3-\uDDC0\uDDC5-\uDDD9\uDDDB\uDDDD-\uDDFF\uDE12\uDE2C-\uDE3E\uDE41-\uDE7F\uDE87\uDE89\uDE8E\uDE9E\uDEA9-\uDEAF\uDEDF-\uDF04\uDF0D\uDF0E\uDF11\uDF12\uDF29\uDF31\uDF34\uDF3A-\uDF3C\uDF3E-\uDF4F\uDF51-\uDF5C\uDF62-\uDFFF]|\uD805[\uDC35-\uDC46\uDC4B-\uDC5E\uDC62-\uDC7F\uDCB0-\uDCC3\uDCC6\uDCC8-\uDD7F\uDDAF-\uDDD7\uDDDC-\uDDFF\uDE30-\uDE43\uDE45-\uDE7F\uDEAB-\uDEB7\uDEB9-\uDEFF\uDF1B-\uDF3F\uDF47-\uDFFF]|\uD806[\uDC2C-\uDC9F\uDCE0-\uDCFE\uDD07\uDD08\uDD0A\uDD0B\uDD14\uDD17\uDD30-\uDD3E\uDD40\uDD42-\uDD9F\uDDA8\uDDA9\uDDD1-\uDDE0\uDDE2\uDDE4-\uDDFF\uDE01-\uDE0A\uDE33-\uDE39\uDE3B-\uDE4F\uDE51-\uDE5B\uDE8A-\uDE9C\uDE9E-\uDEAF\uDEF9-\uDFFF]|\uD807[\uDC09\uDC2F-\uDC3F\uDC41-\uDC71\uDC90-\uDCFF\uDD07\uDD0A\uDD31-\uDD45\uDD47-\uDD5F\uDD66\uDD69\uDD8A-\uDD97\uDD99-\uDEDF\uDEF3-\uDF01\uDF03\uDF11\uDF34-\uDFAF\uDFB1-\uDFFF]|\uD808[\uDF9A-\uDFFF]|\uD809[\uDC00-\uDC7F\uDD44-\uDFFF]|[\uD80A\uD80E-\uD810\uD812-\uD819\uD824-\uD82A\uD82D\uD82E\uD830-\uD834\uD836\uD83C-\uD83F\uD87B-\uD87D\uD87F\uD889-\uDBFF][\uDC00-\uDFFF]|\uD80B[\uDC00-\uDF8F\uDFF1-\uDFFF]|\uD80D[\uDC30-\uDC40\uDC47-\uDFFF]|\uD811[\uDE47-\uDFFF]|\uD81A[\uDE39-\uDE3F\uDE5F-\uDE6F\uDEBF-\uDECF\uDEEE-\uDEFF\uDF30-\uDF3F\uDF44-\uDF62\uDF78-\uDF7C\uDF90-\uDFFF]|\uD81B[\uDC00-\uDE3F\uDE80-\uDEFF\uDF4B-\uDF4F\uDF51-\uDF92\uDFA0-\uDFDF\uDFE2\uDFE4-\uDFFF]|\uD821[\uDFF8-\uDFFF]|\uD823[\uDCD6-\uDCFF\uDD09-\uDFFF]|\uD82B[\uDC00-\uDFEF\uDFF4\uDFFC\uDFFF]|\uD82C[\uDD23-\uDD31\uDD33-\uDD4F\uDD53\uDD54\uDD56-\uDD63\uDD68-\uDD6F\uDEFC-\uDFFF]|\uD82F[\uDC6B-\uDC6F\uDC7D-\uDC7F\uDC89-\uDC8F\uDC9A-\uDFFF]|\uD835[\uDC55\uDC9D\uDCA0\uDCA1\uDCA3\uDCA4\uDCA7\uDCA8\uDCAD\uDCBA\uDCBC\uDCC4\uDD06\uDD0B\uDD0C\uDD15\uDD1D\uDD3A\uDD3F\uDD45\uDD47-\uDD49\uDD51\uDEA6\uDEA7\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3\uDFCC-\uDFFF]|\uD837[\uDC00-\uDEFF\uDF1F-\uDF24\uDF2B-\uDFFF]|\uD838[\uDC00-\uDC2F\uDC6E-\uDCFF\uDD2D-\uDD36\uDD3E-\uDD4D\uDD4F-\uDE8F\uDEAE-\uDEBF\uDEEC-\uDFFF]|\uD839[\uDC00-\uDCCF\uDCEC-\uDFDF\uDFE7\uDFEC\uDFEF\uDFFF]|\uD83A[\uDCC5-\uDCFF\uDD44-\uDD4A\uDD4C-\uDFFF]|\uD83B[\uDC00-\uDDFF\uDE04\uDE20\uDE23\uDE25\uDE26\uDE28\uDE33\uDE38\uDE3A\uDE3C-\uDE41\uDE43-\uDE46\uDE48\uDE4A\uDE4C\uDE50\uDE53\uDE55\uDE56\uDE58\uDE5A\uDE5C\uDE5E\uDE60\uDE63\uDE65\uDE66\uDE6B\uDE73\uDE78\uDE7D\uDE7F\uDE8A\uDE9C-\uDEA0\uDEA4\uDEAA\uDEBC-\uDFFF]|\uD869[\uDEE0-\uDEFF]|\uD86D[\uDF3A-\uDF3F]|\uD86E[\uDC1E\uDC1F]|\uD873[\uDEA2-\uDEAF]|\uD87A[\uDFE1-\uDFFF]|\uD87E[\uDE1E-\uDFFF]|\uD884[\uDF4B-\uDF4F]|\uD888[\uDFB0-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+/g,
                  "_"
                );
          return t ? [t] : [];
        },
      },
      authEtAl: {
        description: "If 1 or 2 authors, both authors, otherwise first author and EtAl",
        callback: (i) => {
          var _i_get;
          var e = zr((_i_get = i.get("author")) !== null && _i_get !== void 0 ? _i_get : "", !0);
          return [
            ...e
              .slice(0, 2)
              .map((t) =>
                t.lastName.replace(
                  /(?:[\0-@\[-`\{-\xA9\xAB-\xB4\xB6-\xB9\xBB-\xBF\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u036F\u0375\u0378\u0379\u037E\u0380-\u0385\u0387\u038B\u038D\u03A2\u03F6\u0482-\u0489\u0530\u0557\u0558\u055A-\u055F\u0589-\u05CF\u05EB-\u05EE\u05F3-\u061F\u064B-\u066D\u0670\u06D4\u06D6-\u06E4\u06E7-\u06ED\u06F0-\u06F9\u06FD\u06FE\u0700-\u070F\u0711\u0730-\u074C\u07A6-\u07B0\u07B2-\u07C9\u07EB-\u07F3\u07F6-\u07F9\u07FB-\u07FF\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u083F\u0859-\u085F\u086B-\u086F\u0888\u088F-\u089F\u08CA-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962-\u0970\u0981-\u0984\u098D\u098E\u0991\u0992\u09A9\u09B1\u09B3-\u09B5\u09BA-\u09BC\u09BE-\u09CD\u09CF-\u09DB\u09DE\u09E2-\u09EF\u09F2-\u09FB\u09FD-\u0A04\u0A0B-\u0A0E\u0A11\u0A12\u0A29\u0A31\u0A34\u0A37\u0A3A-\u0A58\u0A5D\u0A5F-\u0A71\u0A75-\u0A84\u0A8E\u0A92\u0AA9\u0AB1\u0AB4\u0ABA-\u0ABC\u0ABE-\u0ACF\u0AD1-\u0ADF\u0AE2-\u0AF8\u0AFA-\u0B04\u0B0D\u0B0E\u0B11\u0B12\u0B29\u0B31\u0B34\u0B3A-\u0B3C\u0B3E-\u0B5B\u0B5E\u0B62-\u0B70\u0B72-\u0B82\u0B84\u0B8B-\u0B8D\u0B91\u0B96-\u0B98\u0B9B\u0B9D\u0BA0-\u0BA2\u0BA5-\u0BA7\u0BAB-\u0BAD\u0BBA-\u0BCF\u0BD1-\u0C04\u0C0D\u0C11\u0C29\u0C3A-\u0C3C\u0C3E-\u0C57\u0C5B\u0C5C\u0C5E\u0C5F\u0C62-\u0C7F\u0C81-\u0C84\u0C8D\u0C91\u0CA9\u0CB4\u0CBA-\u0CBC\u0CBE-\u0CDC\u0CDF\u0CE2-\u0CF0\u0CF3-\u0D03\u0D0D\u0D11\u0D3B\u0D3C\u0D3E-\u0D4D\u0D4F-\u0D53\u0D57-\u0D5E\u0D62-\u0D79\u0D80-\u0D84\u0D97-\u0D99\u0DB2\u0DBC\u0DBE\u0DBF\u0DC7-\u0E00\u0E31\u0E34-\u0E3F\u0E47-\u0E80\u0E83\u0E85\u0E8B\u0EA4\u0EA6\u0EB1\u0EB4-\u0EBC\u0EBE\u0EBF\u0EC5\u0EC7-\u0EDB\u0EE0-\u0EFF\u0F01-\u0F3F\u0F48\u0F6D-\u0F87\u0F8D-\u0FFF\u102B-\u103E\u1040-\u104F\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F-\u109F\u10C6\u10C8-\u10CC\u10CE\u10CF\u10FB\u1249\u124E\u124F\u1257\u1259\u125E\u125F\u1289\u128E\u128F\u12B1\u12B6\u12B7\u12BF\u12C1\u12C6\u12C7\u12D7\u1311\u1316\u1317\u135B-\u137F\u1390-\u139F\u13F6\u13F7\u13FE-\u1400\u166D\u166E\u1680\u169B-\u169F\u16EB-\u16F0\u16F9-\u16FF\u1712-\u171E\u1732-\u173F\u1752-\u175F\u176D\u1771-\u177F\u17B4-\u17D6\u17D8-\u17DB\u17DD-\u181F\u1879-\u187F\u1885\u1886\u18A9\u18AB-\u18AF\u18F6-\u18FF\u191F-\u194F\u196E\u196F\u1975-\u197F\u19AC-\u19AF\u19CA-\u19FF\u1A17-\u1A1F\u1A55-\u1AA6\u1AA8-\u1B04\u1B34-\u1B44\u1B4D-\u1B82\u1BA1-\u1BAD\u1BB0-\u1BB9\u1BE6-\u1BFF\u1C24-\u1C4C\u1C50-\u1C59\u1C7E\u1C7F\u1C89-\u1C8F\u1CBB\u1CBC\u1CC0-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1CFB-\u1CFF\u1DC0-\u1DFF\u1F16\u1F17\u1F1E\u1F1F\u1F46\u1F47\u1F4E\u1F4F\u1F58\u1F5A\u1F5C\u1F5E\u1F7E\u1F7F\u1FB5\u1FBD\u1FBF-\u1FC1\u1FC5\u1FCD-\u1FCF\u1FD4\u1FD5\u1FDC-\u1FDF\u1FED-\u1FF1\u1FF5\u1FFD-\u2070\u2072-\u207E\u2080-\u208F\u209D-\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F-\u2182\u2185-\u2BFF\u2CE5-\u2CEA\u2CEF-\u2CF1\u2CF4-\u2CFF\u2D26\u2D28-\u2D2C\u2D2E\u2D2F\u2D68-\u2D6E\u2D70-\u2D7F\u2D97-\u2D9F\u2DA7\u2DAF\u2DB7\u2DBF\u2DC7\u2DCF\u2DD7\u2DDF-\u2E2E\u2E30-\u3004\u3007-\u3030\u3036-\u303A\u303D-\u3040\u3097-\u309C\u30A0\u30FB\u3100-\u3104\u3130\u318F-\u319F\u31C0-\u31EF\u3200-\u33FF\u4DC0-\u4DFF\uA48D-\uA4CF\uA4FE\uA4FF\uA60D-\uA60F\uA620-\uA629\uA62C-\uA63F\uA66F-\uA67E\uA69E\uA69F\uA6E6-\uA716\uA720\uA721\uA789\uA78A\uA7CB-\uA7CF\uA7D2\uA7D4\uA7DA-\uA7F1\uA802\uA806\uA80B\uA823-\uA83F\uA874-\uA881\uA8B4-\uA8F1\uA8F8-\uA8FA\uA8FC\uA8FF-\uA909\uA926-\uA92F\uA947-\uA95F\uA97D-\uA983\uA9B3-\uA9CE\uA9D0-\uA9DF\uA9E5\uA9F0-\uA9F9\uA9FF\uAA29-\uAA3F\uAA43\uAA4C-\uAA5F\uAA77-\uAA79\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAC3-\uAADA\uAADE\uAADF\uAAEB-\uAAF1\uAAF5-\uAB00\uAB07\uAB08\uAB0F\uAB10\uAB17-\uAB1F\uAB27\uAB2F\uAB5B\uAB6A-\uAB6F\uABE3-\uABFF\uD7A4-\uD7AF\uD7C7-\uD7CA\uD7FC-\uD7FF\uE000-\uF8FF\uFA6E\uFA6F\uFADA-\uFAFF\uFB07-\uFB12\uFB18-\uFB1C\uFB1E\uFB29\uFB37\uFB3D\uFB3F\uFB42\uFB45\uFBB2-\uFBD2\uFD3E-\uFD4F\uFD90\uFD91\uFDC8-\uFDEF\uFDFC-\uFE6F\uFE75\uFEFD-\uFF20\uFF3B-\uFF40\uFF5B-\uFF65\uFFBF-\uFFC1\uFFC8\uFFC9\uFFD0\uFFD1\uFFD8\uFFD9\uFFDD-\uFFFF]|\uD800[\uDC0C\uDC27\uDC3B\uDC3E\uDC4E\uDC4F\uDC5E-\uDC7F\uDCFB-\uDE7F\uDE9D-\uDE9F\uDED1-\uDEFF\uDF20-\uDF2C\uDF41\uDF4A-\uDF4F\uDF76-\uDF7F\uDF9E\uDF9F\uDFC4-\uDFC7\uDFD0-\uDFFF]|\uD801[\uDC9E-\uDCAF\uDCD4-\uDCD7\uDCFC-\uDCFF\uDD28-\uDD2F\uDD64-\uDD6F\uDD7B\uDD8B\uDD93\uDD96\uDDA2\uDDB2\uDDBA\uDDBD-\uDDFF\uDF37-\uDF3F\uDF56-\uDF5F\uDF68-\uDF7F\uDF86\uDFB1\uDFBB-\uDFFF]|\uD802[\uDC06\uDC07\uDC09\uDC36\uDC39-\uDC3B\uDC3D\uDC3E\uDC56-\uDC5F\uDC77-\uDC7F\uDC9F-\uDCDF\uDCF3\uDCF6-\uDCFF\uDD16-\uDD1F\uDD3A-\uDD7F\uDDB8-\uDDBD\uDDC0-\uDDFF\uDE01-\uDE0F\uDE14\uDE18\uDE36-\uDE5F\uDE7D-\uDE7F\uDE9D-\uDEBF\uDEC8\uDEE5-\uDEFF\uDF36-\uDF3F\uDF56-\uDF5F\uDF73-\uDF7F\uDF92-\uDFFF]|\uD803[\uDC49-\uDC7F\uDCB3-\uDCBF\uDCF3-\uDCFF\uDD24-\uDE7F\uDEAA-\uDEAF\uDEB2-\uDEFF\uDF1D-\uDF26\uDF28-\uDF2F\uDF46-\uDF6F\uDF82-\uDFAF\uDFC5-\uDFDF\uDFF7-\uDFFF]|\uD804[\uDC00-\uDC02\uDC38-\uDC70\uDC73\uDC74\uDC76-\uDC82\uDCB0-\uDCCF\uDCE9-\uDD02\uDD27-\uDD43\uDD45\uDD46\uDD48-\uDD4F\uDD73-\uDD75\uDD77-\uDD82\uDDB3-\uDDC0\uDDC5-\uDDD9\uDDDB\uDDDD-\uDDFF\uDE12\uDE2C-\uDE3E\uDE41-\uDE7F\uDE87\uDE89\uDE8E\uDE9E\uDEA9-\uDEAF\uDEDF-\uDF04\uDF0D\uDF0E\uDF11\uDF12\uDF29\uDF31\uDF34\uDF3A-\uDF3C\uDF3E-\uDF4F\uDF51-\uDF5C\uDF62-\uDFFF]|\uD805[\uDC35-\uDC46\uDC4B-\uDC5E\uDC62-\uDC7F\uDCB0-\uDCC3\uDCC6\uDCC8-\uDD7F\uDDAF-\uDDD7\uDDDC-\uDDFF\uDE30-\uDE43\uDE45-\uDE7F\uDEAB-\uDEB7\uDEB9-\uDEFF\uDF1B-\uDF3F\uDF47-\uDFFF]|\uD806[\uDC2C-\uDC9F\uDCE0-\uDCFE\uDD07\uDD08\uDD0A\uDD0B\uDD14\uDD17\uDD30-\uDD3E\uDD40\uDD42-\uDD9F\uDDA8\uDDA9\uDDD1-\uDDE0\uDDE2\uDDE4-\uDDFF\uDE01-\uDE0A\uDE33-\uDE39\uDE3B-\uDE4F\uDE51-\uDE5B\uDE8A-\uDE9C\uDE9E-\uDEAF\uDEF9-\uDFFF]|\uD807[\uDC09\uDC2F-\uDC3F\uDC41-\uDC71\uDC90-\uDCFF\uDD07\uDD0A\uDD31-\uDD45\uDD47-\uDD5F\uDD66\uDD69\uDD8A-\uDD97\uDD99-\uDEDF\uDEF3-\uDF01\uDF03\uDF11\uDF34-\uDFAF\uDFB1-\uDFFF]|\uD808[\uDF9A-\uDFFF]|\uD809[\uDC00-\uDC7F\uDD44-\uDFFF]|[\uD80A\uD80E-\uD810\uD812-\uD819\uD824-\uD82A\uD82D\uD82E\uD830-\uD834\uD836\uD83C-\uD83F\uD87B-\uD87D\uD87F\uD889-\uDBFF][\uDC00-\uDFFF]|\uD80B[\uDC00-\uDF8F\uDFF1-\uDFFF]|\uD80D[\uDC30-\uDC40\uDC47-\uDFFF]|\uD811[\uDE47-\uDFFF]|\uD81A[\uDE39-\uDE3F\uDE5F-\uDE6F\uDEBF-\uDECF\uDEEE-\uDEFF\uDF30-\uDF3F\uDF44-\uDF62\uDF78-\uDF7C\uDF90-\uDFFF]|\uD81B[\uDC00-\uDE3F\uDE80-\uDEFF\uDF4B-\uDF4F\uDF51-\uDF92\uDFA0-\uDFDF\uDFE2\uDFE4-\uDFFF]|\uD821[\uDFF8-\uDFFF]|\uD823[\uDCD6-\uDCFF\uDD09-\uDFFF]|\uD82B[\uDC00-\uDFEF\uDFF4\uDFFC\uDFFF]|\uD82C[\uDD23-\uDD31\uDD33-\uDD4F\uDD53\uDD54\uDD56-\uDD63\uDD68-\uDD6F\uDEFC-\uDFFF]|\uD82F[\uDC6B-\uDC6F\uDC7D-\uDC7F\uDC89-\uDC8F\uDC9A-\uDFFF]|\uD835[\uDC55\uDC9D\uDCA0\uDCA1\uDCA3\uDCA4\uDCA7\uDCA8\uDCAD\uDCBA\uDCBC\uDCC4\uDD06\uDD0B\uDD0C\uDD15\uDD1D\uDD3A\uDD3F\uDD45\uDD47-\uDD49\uDD51\uDEA6\uDEA7\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3\uDFCC-\uDFFF]|\uD837[\uDC00-\uDEFF\uDF1F-\uDF24\uDF2B-\uDFFF]|\uD838[\uDC00-\uDC2F\uDC6E-\uDCFF\uDD2D-\uDD36\uDD3E-\uDD4D\uDD4F-\uDE8F\uDEAE-\uDEBF\uDEEC-\uDFFF]|\uD839[\uDC00-\uDCCF\uDCEC-\uDFDF\uDFE7\uDFEC\uDFEF\uDFFF]|\uD83A[\uDCC5-\uDCFF\uDD44-\uDD4A\uDD4C-\uDFFF]|\uD83B[\uDC00-\uDDFF\uDE04\uDE20\uDE23\uDE25\uDE26\uDE28\uDE33\uDE38\uDE3A\uDE3C-\uDE41\uDE43-\uDE46\uDE48\uDE4A\uDE4C\uDE50\uDE53\uDE55\uDE56\uDE58\uDE5A\uDE5C\uDE5E\uDE60\uDE63\uDE65\uDE66\uDE6B\uDE73\uDE78\uDE7D\uDE7F\uDE8A\uDE9C-\uDEA0\uDEA4\uDEAA\uDEBC-\uDFFF]|\uD869[\uDEE0-\uDEFF]|\uD86D[\uDF3A-\uDF3F]|\uD86E[\uDC1E\uDC1F]|\uD873[\uDEA2-\uDEAF]|\uD87A[\uDFE1-\uDFFF]|\uD87E[\uDE1E-\uDFFF]|\uD884[\uDF4B-\uDF4F]|\uD888[\uDFB0-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+/g,
                  "_"
                )
              ),
            ...(e.length > 2 ? ["Et", "Al"] : []),
          ];
        },
      },
      authors: {
        description: "Last name all authors",
        callback: (i) =>
          zr((_i_get = i.get("author")) !== null && _i_get !== void 0 ? _i_get : "", !0).map((t) =>
            t.lastName.replace(
              /(?:[\0-@\[-`\{-\xA9\xAB-\xB4\xB6-\xB9\xBB-\xBF\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u036F\u0375\u0378\u0379\u037E\u0380-\u0385\u0387\u038B\u038D\u03A2\u03F6\u0482-\u0489\u0530\u0557\u0558\u055A-\u055F\u0589-\u05CF\u05EB-\u05EE\u05F3-\u061F\u064B-\u066D\u0670\u06D4\u06D6-\u06E4\u06E7-\u06ED\u06F0-\u06F9\u06FD\u06FE\u0700-\u070F\u0711\u0730-\u074C\u07A6-\u07B0\u07B2-\u07C9\u07EB-\u07F3\u07F6-\u07F9\u07FB-\u07FF\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u083F\u0859-\u085F\u086B-\u086F\u0888\u088F-\u089F\u08CA-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962-\u0970\u0981-\u0984\u098D\u098E\u0991\u0992\u09A9\u09B1\u09B3-\u09B5\u09BA-\u09BC\u09BE-\u09CD\u09CF-\u09DB\u09DE\u09E2-\u09EF\u09F2-\u09FB\u09FD-\u0A04\u0A0B-\u0A0E\u0A11\u0A12\u0A29\u0A31\u0A34\u0A37\u0A3A-\u0A58\u0A5D\u0A5F-\u0A71\u0A75-\u0A84\u0A8E\u0A92\u0AA9\u0AB1\u0AB4\u0ABA-\u0ABC\u0ABE-\u0ACF\u0AD1-\u0ADF\u0AE2-\u0AF8\u0AFA-\u0B04\u0B0D\u0B0E\u0B11\u0B12\u0B29\u0B31\u0B34\u0B3A-\u0B3C\u0B3E-\u0B5B\u0B5E\u0B62-\u0B70\u0B72-\u0B82\u0B84\u0B8B-\u0B8D\u0B91\u0B96-\u0B98\u0B9B\u0B9D\u0BA0-\u0BA2\u0BA5-\u0BA7\u0BAB-\u0BAD\u0BBA-\u0BCF\u0BD1-\u0C04\u0C0D\u0C11\u0C29\u0C3A-\u0C3C\u0C3E-\u0C57\u0C5B\u0C5C\u0C5E\u0C5F\u0C62-\u0C7F\u0C81-\u0C84\u0C8D\u0C91\u0CA9\u0CB4\u0CBA-\u0CBC\u0CBE-\u0CDC\u0CDF\u0CE2-\u0CF0\u0CF3-\u0D03\u0D0D\u0D11\u0D3B\u0D3C\u0D3E-\u0D4D\u0D4F-\u0D53\u0D57-\u0D5E\u0D62-\u0D79\u0D80-\u0D84\u0D97-\u0D99\u0DB2\u0DBC\u0DBE\u0DBF\u0DC7-\u0E00\u0E31\u0E34-\u0E3F\u0E47-\u0E80\u0E83\u0E85\u0E8B\u0EA4\u0EA6\u0EB1\u0EB4-\u0EBC\u0EBE\u0EBF\u0EC5\u0EC7-\u0EDB\u0EE0-\u0EFF\u0F01-\u0F3F\u0F48\u0F6D-\u0F87\u0F8D-\u0FFF\u102B-\u103E\u1040-\u104F\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F-\u109F\u10C6\u10C8-\u10CC\u10CE\u10CF\u10FB\u1249\u124E\u124F\u1257\u1259\u125E\u125F\u1289\u128E\u128F\u12B1\u12B6\u12B7\u12BF\u12C1\u12C6\u12C7\u12D7\u1311\u1316\u1317\u135B-\u137F\u1390-\u139F\u13F6\u13F7\u13FE-\u1400\u166D\u166E\u1680\u169B-\u169F\u16EB-\u16F0\u16F9-\u16FF\u1712-\u171E\u1732-\u173F\u1752-\u175F\u176D\u1771-\u177F\u17B4-\u17D6\u17D8-\u17DB\u17DD-\u181F\u1879-\u187F\u1885\u1886\u18A9\u18AB-\u18AF\u18F6-\u18FF\u191F-\u194F\u196E\u196F\u1975-\u197F\u19AC-\u19AF\u19CA-\u19FF\u1A17-\u1A1F\u1A55-\u1AA6\u1AA8-\u1B04\u1B34-\u1B44\u1B4D-\u1B82\u1BA1-\u1BAD\u1BB0-\u1BB9\u1BE6-\u1BFF\u1C24-\u1C4C\u1C50-\u1C59\u1C7E\u1C7F\u1C89-\u1C8F\u1CBB\u1CBC\u1CC0-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1CFB-\u1CFF\u1DC0-\u1DFF\u1F16\u1F17\u1F1E\u1F1F\u1F46\u1F47\u1F4E\u1F4F\u1F58\u1F5A\u1F5C\u1F5E\u1F7E\u1F7F\u1FB5\u1FBD\u1FBF-\u1FC1\u1FC5\u1FCD-\u1FCF\u1FD4\u1FD5\u1FDC-\u1FDF\u1FED-\u1FF1\u1FF5\u1FFD-\u2070\u2072-\u207E\u2080-\u208F\u209D-\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F-\u2182\u2185-\u2BFF\u2CE5-\u2CEA\u2CEF-\u2CF1\u2CF4-\u2CFF\u2D26\u2D28-\u2D2C\u2D2E\u2D2F\u2D68-\u2D6E\u2D70-\u2D7F\u2D97-\u2D9F\u2DA7\u2DAF\u2DB7\u2DBF\u2DC7\u2DCF\u2DD7\u2DDF-\u2E2E\u2E30-\u3004\u3007-\u3030\u3036-\u303A\u303D-\u3040\u3097-\u309C\u30A0\u30FB\u3100-\u3104\u3130\u318F-\u319F\u31C0-\u31EF\u3200-\u33FF\u4DC0-\u4DFF\uA48D-\uA4CF\uA4FE\uA4FF\uA60D-\uA60F\uA620-\uA629\uA62C-\uA63F\uA66F-\uA67E\uA69E\uA69F\uA6E6-\uA716\uA720\uA721\uA789\uA78A\uA7CB-\uA7CF\uA7D2\uA7D4\uA7DA-\uA7F1\uA802\uA806\uA80B\uA823-\uA83F\uA874-\uA881\uA8B4-\uA8F1\uA8F8-\uA8FA\uA8FC\uA8FF-\uA909\uA926-\uA92F\uA947-\uA95F\uA97D-\uA983\uA9B3-\uA9CE\uA9D0-\uA9DF\uA9E5\uA9F0-\uA9F9\uA9FF\uAA29-\uAA3F\uAA43\uAA4C-\uAA5F\uAA77-\uAA79\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAC3-\uAADA\uAADE\uAADF\uAAEB-\uAAF1\uAAF5-\uAB00\uAB07\uAB08\uAB0F\uAB10\uAB17-\uAB1F\uAB27\uAB2F\uAB5B\uAB6A-\uAB6F\uABE3-\uABFF\uD7A4-\uD7AF\uD7C7-\uD7CA\uD7FC-\uD7FF\uE000-\uF8FF\uFA6E\uFA6F\uFADA-\uFAFF\uFB07-\uFB12\uFB18-\uFB1C\uFB1E\uFB29\uFB37\uFB3D\uFB3F\uFB42\uFB45\uFBB2-\uFBD2\uFD3E-\uFD4F\uFD90\uFD91\uFDC8-\uFDEF\uFDFC-\uFE6F\uFE75\uFEFD-\uFF20\uFF3B-\uFF40\uFF5B-\uFF65\uFFBF-\uFFC1\uFFC8\uFFC9\uFFD0\uFFD1\uFFD8\uFFD9\uFFDD-\uFFFF]|\uD800[\uDC0C\uDC27\uDC3B\uDC3E\uDC4E\uDC4F\uDC5E-\uDC7F\uDCFB-\uDE7F\uDE9D-\uDE9F\uDED1-\uDEFF\uDF20-\uDF2C\uDF41\uDF4A-\uDF4F\uDF76-\uDF7F\uDF9E\uDF9F\uDFC4-\uDFC7\uDFD0-\uDFFF]|\uD801[\uDC9E-\uDCAF\uDCD4-\uDCD7\uDCFC-\uDCFF\uDD28-\uDD2F\uDD64-\uDD6F\uDD7B\uDD8B\uDD93\uDD96\uDDA2\uDDB2\uDDBA\uDDBD-\uDDFF\uDF37-\uDF3F\uDF56-\uDF5F\uDF68-\uDF7F\uDF86\uDFB1\uDFBB-\uDFFF]|\uD802[\uDC06\uDC07\uDC09\uDC36\uDC39-\uDC3B\uDC3D\uDC3E\uDC56-\uDC5F\uDC77-\uDC7F\uDC9F-\uDCDF\uDCF3\uDCF6-\uDCFF\uDD16-\uDD1F\uDD3A-\uDD7F\uDDB8-\uDDBD\uDDC0-\uDDFF\uDE01-\uDE0F\uDE14\uDE18\uDE36-\uDE5F\uDE7D-\uDE7F\uDE9D-\uDEBF\uDEC8\uDEE5-\uDEFF\uDF36-\uDF3F\uDF56-\uDF5F\uDF73-\uDF7F\uDF92-\uDFFF]|\uD803[\uDC49-\uDC7F\uDCB3-\uDCBF\uDCF3-\uDCFF\uDD24-\uDE7F\uDEAA-\uDEAF\uDEB2-\uDEFF\uDF1D-\uDF26\uDF28-\uDF2F\uDF46-\uDF6F\uDF82-\uDFAF\uDFC5-\uDFDF\uDFF7-\uDFFF]|\uD804[\uDC00-\uDC02\uDC38-\uDC70\uDC73\uDC74\uDC76-\uDC82\uDCB0-\uDCCF\uDCE9-\uDD02\uDD27-\uDD43\uDD45\uDD46\uDD48-\uDD4F\uDD73-\uDD75\uDD77-\uDD82\uDDB3-\uDDC0\uDDC5-\uDDD9\uDDDB\uDDDD-\uDDFF\uDE12\uDE2C-\uDE3E\uDE41-\uDE7F\uDE87\uDE89\uDE8E\uDE9E\uDEA9-\uDEAF\uDEDF-\uDF04\uDF0D\uDF0E\uDF11\uDF12\uDF29\uDF31\uDF34\uDF3A-\uDF3C\uDF3E-\uDF4F\uDF51-\uDF5C\uDF62-\uDFFF]|\uD805[\uDC35-\uDC46\uDC4B-\uDC5E\uDC62-\uDC7F\uDCB0-\uDCC3\uDCC6\uDCC8-\uDD7F\uDDAF-\uDDD7\uDDDC-\uDDFF\uDE30-\uDE43\uDE45-\uDE7F\uDEAB-\uDEB7\uDEB9-\uDEFF\uDF1B-\uDF3F\uDF47-\uDFFF]|\uD806[\uDC2C-\uDC9F\uDCE0-\uDCFE\uDD07\uDD08\uDD0A\uDD0B\uDD14\uDD17\uDD30-\uDD3E\uDD40\uDD42-\uDD9F\uDDA8\uDDA9\uDDD1-\uDDE0\uDDE2\uDDE4-\uDDFF\uDE01-\uDE0A\uDE33-\uDE39\uDE3B-\uDE4F\uDE51-\uDE5B\uDE8A-\uDE9C\uDE9E-\uDEAF\uDEF9-\uDFFF]|\uD807[\uDC09\uDC2F-\uDC3F\uDC41-\uDC71\uDC90-\uDCFF\uDD07\uDD0A\uDD31-\uDD45\uDD47-\uDD5F\uDD66\uDD69\uDD8A-\uDD97\uDD99-\uDEDF\uDEF3-\uDF01\uDF03\uDF11\uDF34-\uDFAF\uDFB1-\uDFFF]|\uD808[\uDF9A-\uDFFF]|\uD809[\uDC00-\uDC7F\uDD44-\uDFFF]|[\uD80A\uD80E-\uD810\uD812-\uD819\uD824-\uD82A\uD82D\uD82E\uD830-\uD834\uD836\uD83C-\uD83F\uD87B-\uD87D\uD87F\uD889-\uDBFF][\uDC00-\uDFFF]|\uD80B[\uDC00-\uDF8F\uDFF1-\uDFFF]|\uD80D[\uDC30-\uDC40\uDC47-\uDFFF]|\uD811[\uDE47-\uDFFF]|\uD81A[\uDE39-\uDE3F\uDE5F-\uDE6F\uDEBF-\uDECF\uDEEE-\uDEFF\uDF30-\uDF3F\uDF44-\uDF62\uDF78-\uDF7C\uDF90-\uDFFF]|\uD81B[\uDC00-\uDE3F\uDE80-\uDEFF\uDF4B-\uDF4F\uDF51-\uDF92\uDFA0-\uDFDF\uDFE2\uDFE4-\uDFFF]|\uD821[\uDFF8-\uDFFF]|\uD823[\uDCD6-\uDCFF\uDD09-\uDFFF]|\uD82B[\uDC00-\uDFEF\uDFF4\uDFFC\uDFFF]|\uD82C[\uDD23-\uDD31\uDD33-\uDD4F\uDD53\uDD54\uDD56-\uDD63\uDD68-\uDD6F\uDEFC-\uDFFF]|\uD82F[\uDC6B-\uDC6F\uDC7D-\uDC7F\uDC89-\uDC8F\uDC9A-\uDFFF]|\uD835[\uDC55\uDC9D\uDCA0\uDCA1\uDCA3\uDCA4\uDCA7\uDCA8\uDCAD\uDCBA\uDCBC\uDCC4\uDD06\uDD0B\uDD0C\uDD15\uDD1D\uDD3A\uDD3F\uDD45\uDD47-\uDD49\uDD51\uDEA6\uDEA7\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3\uDFCC-\uDFFF]|\uD837[\uDC00-\uDEFF\uDF1F-\uDF24\uDF2B-\uDFFF]|\uD838[\uDC00-\uDC2F\uDC6E-\uDCFF\uDD2D-\uDD36\uDD3E-\uDD4D\uDD4F-\uDE8F\uDEAE-\uDEBF\uDEEC-\uDFFF]|\uD839[\uDC00-\uDCCF\uDCEC-\uDFDF\uDFE7\uDFEC\uDFEF\uDFFF]|\uD83A[\uDCC5-\uDCFF\uDD44-\uDD4A\uDD4C-\uDFFF]|\uD83B[\uDC00-\uDDFF\uDE04\uDE20\uDE23\uDE25\uDE26\uDE28\uDE33\uDE38\uDE3A\uDE3C-\uDE41\uDE43-\uDE46\uDE48\uDE4A\uDE4C\uDE50\uDE53\uDE55\uDE56\uDE58\uDE5A\uDE5C\uDE5E\uDE60\uDE63\uDE65\uDE66\uDE6B\uDE73\uDE78\uDE7D\uDE7F\uDE8A\uDE9C-\uDEA0\uDEA4\uDEAA\uDEBC-\uDFFF]|\uD869[\uDEE0-\uDEFF]|\uD86D[\uDF3A-\uDF3F]|\uD86E[\uDC1E\uDC1F]|\uD873[\uDEA2-\uDEAF]|\uD87A[\uDFE1-\uDFFF]|\uD87E[\uDE1E-\uDFFF]|\uD884[\uDF4B-\uDF4F]|\uD888[\uDFB0-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+/g,
              "_"
            )
          ),
      },
      authorsN: {
        description: "Last name N authors, with EtAl if more",
        callback: (i, e) => {
          var _i_get;
          var t = zr((_i_get = i.get("author")) !== null && _i_get !== void 0 ? _i_get : "", !0);
          return [
            ...t
              .slice(0, e)
              .map((r) =>
                r.lastName.replace(
                  /(?:[\0-@\[-`\{-\xA9\xAB-\xB4\xB6-\xB9\xBB-\xBF\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u036F\u0375\u0378\u0379\u037E\u0380-\u0385\u0387\u038B\u038D\u03A2\u03F6\u0482-\u0489\u0530\u0557\u0558\u055A-\u055F\u0589-\u05CF\u05EB-\u05EE\u05F3-\u061F\u064B-\u066D\u0670\u06D4\u06D6-\u06E4\u06E7-\u06ED\u06F0-\u06F9\u06FD\u06FE\u0700-\u070F\u0711\u0730-\u074C\u07A6-\u07B0\u07B2-\u07C9\u07EB-\u07F3\u07F6-\u07F9\u07FB-\u07FF\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u083F\u0859-\u085F\u086B-\u086F\u0888\u088F-\u089F\u08CA-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962-\u0970\u0981-\u0984\u098D\u098E\u0991\u0992\u09A9\u09B1\u09B3-\u09B5\u09BA-\u09BC\u09BE-\u09CD\u09CF-\u09DB\u09DE\u09E2-\u09EF\u09F2-\u09FB\u09FD-\u0A04\u0A0B-\u0A0E\u0A11\u0A12\u0A29\u0A31\u0A34\u0A37\u0A3A-\u0A58\u0A5D\u0A5F-\u0A71\u0A75-\u0A84\u0A8E\u0A92\u0AA9\u0AB1\u0AB4\u0ABA-\u0ABC\u0ABE-\u0ACF\u0AD1-\u0ADF\u0AE2-\u0AF8\u0AFA-\u0B04\u0B0D\u0B0E\u0B11\u0B12\u0B29\u0B31\u0B34\u0B3A-\u0B3C\u0B3E-\u0B5B\u0B5E\u0B62-\u0B70\u0B72-\u0B82\u0B84\u0B8B-\u0B8D\u0B91\u0B96-\u0B98\u0B9B\u0B9D\u0BA0-\u0BA2\u0BA5-\u0BA7\u0BAB-\u0BAD\u0BBA-\u0BCF\u0BD1-\u0C04\u0C0D\u0C11\u0C29\u0C3A-\u0C3C\u0C3E-\u0C57\u0C5B\u0C5C\u0C5E\u0C5F\u0C62-\u0C7F\u0C81-\u0C84\u0C8D\u0C91\u0CA9\u0CB4\u0CBA-\u0CBC\u0CBE-\u0CDC\u0CDF\u0CE2-\u0CF0\u0CF3-\u0D03\u0D0D\u0D11\u0D3B\u0D3C\u0D3E-\u0D4D\u0D4F-\u0D53\u0D57-\u0D5E\u0D62-\u0D79\u0D80-\u0D84\u0D97-\u0D99\u0DB2\u0DBC\u0DBE\u0DBF\u0DC7-\u0E00\u0E31\u0E34-\u0E3F\u0E47-\u0E80\u0E83\u0E85\u0E8B\u0EA4\u0EA6\u0EB1\u0EB4-\u0EBC\u0EBE\u0EBF\u0EC5\u0EC7-\u0EDB\u0EE0-\u0EFF\u0F01-\u0F3F\u0F48\u0F6D-\u0F87\u0F8D-\u0FFF\u102B-\u103E\u1040-\u104F\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F-\u109F\u10C6\u10C8-\u10CC\u10CE\u10CF\u10FB\u1249\u124E\u124F\u1257\u1259\u125E\u125F\u1289\u128E\u128F\u12B1\u12B6\u12B7\u12BF\u12C1\u12C6\u12C7\u12D7\u1311\u1316\u1317\u135B-\u137F\u1390-\u139F\u13F6\u13F7\u13FE-\u1400\u166D\u166E\u1680\u169B-\u169F\u16EB-\u16F0\u16F9-\u16FF\u1712-\u171E\u1732-\u173F\u1752-\u175F\u176D\u1771-\u177F\u17B4-\u17D6\u17D8-\u17DB\u17DD-\u181F\u1879-\u187F\u1885\u1886\u18A9\u18AB-\u18AF\u18F6-\u18FF\u191F-\u194F\u196E\u196F\u1975-\u197F\u19AC-\u19AF\u19CA-\u19FF\u1A17-\u1A1F\u1A55-\u1AA6\u1AA8-\u1B04\u1B34-\u1B44\u1B4D-\u1B82\u1BA1-\u1BAD\u1BB0-\u1BB9\u1BE6-\u1BFF\u1C24-\u1C4C\u1C50-\u1C59\u1C7E\u1C7F\u1C89-\u1C8F\u1CBB\u1CBC\u1CC0-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1CFB-\u1CFF\u1DC0-\u1DFF\u1F16\u1F17\u1F1E\u1F1F\u1F46\u1F47\u1F4E\u1F4F\u1F58\u1F5A\u1F5C\u1F5E\u1F7E\u1F7F\u1FB5\u1FBD\u1FBF-\u1FC1\u1FC5\u1FCD-\u1FCF\u1FD4\u1FD5\u1FDC-\u1FDF\u1FED-\u1FF1\u1FF5\u1FFD-\u2070\u2072-\u207E\u2080-\u208F\u209D-\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F-\u2182\u2185-\u2BFF\u2CE5-\u2CEA\u2CEF-\u2CF1\u2CF4-\u2CFF\u2D26\u2D28-\u2D2C\u2D2E\u2D2F\u2D68-\u2D6E\u2D70-\u2D7F\u2D97-\u2D9F\u2DA7\u2DAF\u2DB7\u2DBF\u2DC7\u2DCF\u2DD7\u2DDF-\u2E2E\u2E30-\u3004\u3007-\u3030\u3036-\u303A\u303D-\u3040\u3097-\u309C\u30A0\u30FB\u3100-\u3104\u3130\u318F-\u319F\u31C0-\u31EF\u3200-\u33FF\u4DC0-\u4DFF\uA48D-\uA4CF\uA4FE\uA4FF\uA60D-\uA60F\uA620-\uA629\uA62C-\uA63F\uA66F-\uA67E\uA69E\uA69F\uA6E6-\uA716\uA720\uA721\uA789\uA78A\uA7CB-\uA7CF\uA7D2\uA7D4\uA7DA-\uA7F1\uA802\uA806\uA80B\uA823-\uA83F\uA874-\uA881\uA8B4-\uA8F1\uA8F8-\uA8FA\uA8FC\uA8FF-\uA909\uA926-\uA92F\uA947-\uA95F\uA97D-\uA983\uA9B3-\uA9CE\uA9D0-\uA9DF\uA9E5\uA9F0-\uA9F9\uA9FF\uAA29-\uAA3F\uAA43\uAA4C-\uAA5F\uAA77-\uAA79\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAC3-\uAADA\uAADE\uAADF\uAAEB-\uAAF1\uAAF5-\uAB00\uAB07\uAB08\uAB0F\uAB10\uAB17-\uAB1F\uAB27\uAB2F\uAB5B\uAB6A-\uAB6F\uABE3-\uABFF\uD7A4-\uD7AF\uD7C7-\uD7CA\uD7FC-\uD7FF\uE000-\uF8FF\uFA6E\uFA6F\uFADA-\uFAFF\uFB07-\uFB12\uFB18-\uFB1C\uFB1E\uFB29\uFB37\uFB3D\uFB3F\uFB42\uFB45\uFBB2-\uFBD2\uFD3E-\uFD4F\uFD90\uFD91\uFDC8-\uFDEF\uFDFC-\uFE6F\uFE75\uFEFD-\uFF20\uFF3B-\uFF40\uFF5B-\uFF65\uFFBF-\uFFC1\uFFC8\uFFC9\uFFD0\uFFD1\uFFD8\uFFD9\uFFDD-\uFFFF]|\uD800[\uDC0C\uDC27\uDC3B\uDC3E\uDC4E\uDC4F\uDC5E-\uDC7F\uDCFB-\uDE7F\uDE9D-\uDE9F\uDED1-\uDEFF\uDF20-\uDF2C\uDF41\uDF4A-\uDF4F\uDF76-\uDF7F\uDF9E\uDF9F\uDFC4-\uDFC7\uDFD0-\uDFFF]|\uD801[\uDC9E-\uDCAF\uDCD4-\uDCD7\uDCFC-\uDCFF\uDD28-\uDD2F\uDD64-\uDD6F\uDD7B\uDD8B\uDD93\uDD96\uDDA2\uDDB2\uDDBA\uDDBD-\uDDFF\uDF37-\uDF3F\uDF56-\uDF5F\uDF68-\uDF7F\uDF86\uDFB1\uDFBB-\uDFFF]|\uD802[\uDC06\uDC07\uDC09\uDC36\uDC39-\uDC3B\uDC3D\uDC3E\uDC56-\uDC5F\uDC77-\uDC7F\uDC9F-\uDCDF\uDCF3\uDCF6-\uDCFF\uDD16-\uDD1F\uDD3A-\uDD7F\uDDB8-\uDDBD\uDDC0-\uDDFF\uDE01-\uDE0F\uDE14\uDE18\uDE36-\uDE5F\uDE7D-\uDE7F\uDE9D-\uDEBF\uDEC8\uDEE5-\uDEFF\uDF36-\uDF3F\uDF56-\uDF5F\uDF73-\uDF7F\uDF92-\uDFFF]|\uD803[\uDC49-\uDC7F\uDCB3-\uDCBF\uDCF3-\uDCFF\uDD24-\uDE7F\uDEAA-\uDEAF\uDEB2-\uDEFF\uDF1D-\uDF26\uDF28-\uDF2F\uDF46-\uDF6F\uDF82-\uDFAF\uDFC5-\uDFDF\uDFF7-\uDFFF]|\uD804[\uDC00-\uDC02\uDC38-\uDC70\uDC73\uDC74\uDC76-\uDC82\uDCB0-\uDCCF\uDCE9-\uDD02\uDD27-\uDD43\uDD45\uDD46\uDD48-\uDD4F\uDD73-\uDD75\uDD77-\uDD82\uDDB3-\uDDC0\uDDC5-\uDDD9\uDDDB\uDDDD-\uDDFF\uDE12\uDE2C-\uDE3E\uDE41-\uDE7F\uDE87\uDE89\uDE8E\uDE9E\uDEA9-\uDEAF\uDEDF-\uDF04\uDF0D\uDF0E\uDF11\uDF12\uDF29\uDF31\uDF34\uDF3A-\uDF3C\uDF3E-\uDF4F\uDF51-\uDF5C\uDF62-\uDFFF]|\uD805[\uDC35-\uDC46\uDC4B-\uDC5E\uDC62-\uDC7F\uDCB0-\uDCC3\uDCC6\uDCC8-\uDD7F\uDDAF-\uDDD7\uDDDC-\uDDFF\uDE30-\uDE43\uDE45-\uDE7F\uDEAB-\uDEB7\uDEB9-\uDEFF\uDF1B-\uDF3F\uDF47-\uDFFF]|\uD806[\uDC2C-\uDC9F\uDCE0-\uDCFE\uDD07\uDD08\uDD0A\uDD0B\uDD14\uDD17\uDD30-\uDD3E\uDD40\uDD42-\uDD9F\uDDA8\uDDA9\uDDD1-\uDDE0\uDDE2\uDDE4-\uDDFF\uDE01-\uDE0A\uDE33-\uDE39\uDE3B-\uDE4F\uDE51-\uDE5B\uDE8A-\uDE9C\uDE9E-\uDEAF\uDEF9-\uDFFF]|\uD807[\uDC09\uDC2F-\uDC3F\uDC41-\uDC71\uDC90-\uDCFF\uDD07\uDD0A\uDD31-\uDD45\uDD47-\uDD5F\uDD66\uDD69\uDD8A-\uDD97\uDD99-\uDEDF\uDEF3-\uDF01\uDF03\uDF11\uDF34-\uDFAF\uDFB1-\uDFFF]|\uD808[\uDF9A-\uDFFF]|\uD809[\uDC00-\uDC7F\uDD44-\uDFFF]|[\uD80A\uD80E-\uD810\uD812-\uD819\uD824-\uD82A\uD82D\uD82E\uD830-\uD834\uD836\uD83C-\uD83F\uD87B-\uD87D\uD87F\uD889-\uDBFF][\uDC00-\uDFFF]|\uD80B[\uDC00-\uDF8F\uDFF1-\uDFFF]|\uD80D[\uDC30-\uDC40\uDC47-\uDFFF]|\uD811[\uDE47-\uDFFF]|\uD81A[\uDE39-\uDE3F\uDE5F-\uDE6F\uDEBF-\uDECF\uDEEE-\uDEFF\uDF30-\uDF3F\uDF44-\uDF62\uDF78-\uDF7C\uDF90-\uDFFF]|\uD81B[\uDC00-\uDE3F\uDE80-\uDEFF\uDF4B-\uDF4F\uDF51-\uDF92\uDFA0-\uDFDF\uDFE2\uDFE4-\uDFFF]|\uD821[\uDFF8-\uDFFF]|\uD823[\uDCD6-\uDCFF\uDD09-\uDFFF]|\uD82B[\uDC00-\uDFEF\uDFF4\uDFFC\uDFFF]|\uD82C[\uDD23-\uDD31\uDD33-\uDD4F\uDD53\uDD54\uDD56-\uDD63\uDD68-\uDD6F\uDEFC-\uDFFF]|\uD82F[\uDC6B-\uDC6F\uDC7D-\uDC7F\uDC89-\uDC8F\uDC9A-\uDFFF]|\uD835[\uDC55\uDC9D\uDCA0\uDCA1\uDCA3\uDCA4\uDCA7\uDCA8\uDCAD\uDCBA\uDCBC\uDCC4\uDD06\uDD0B\uDD0C\uDD15\uDD1D\uDD3A\uDD3F\uDD45\uDD47-\uDD49\uDD51\uDEA6\uDEA7\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3\uDFCC-\uDFFF]|\uD837[\uDC00-\uDEFF\uDF1F-\uDF24\uDF2B-\uDFFF]|\uD838[\uDC00-\uDC2F\uDC6E-\uDCFF\uDD2D-\uDD36\uDD3E-\uDD4D\uDD4F-\uDE8F\uDEAE-\uDEBF\uDEEC-\uDFFF]|\uD839[\uDC00-\uDCCF\uDCEC-\uDFDF\uDFE7\uDFEC\uDFEF\uDFFF]|\uD83A[\uDCC5-\uDCFF\uDD44-\uDD4A\uDD4C-\uDFFF]|\uD83B[\uDC00-\uDDFF\uDE04\uDE20\uDE23\uDE25\uDE26\uDE28\uDE33\uDE38\uDE3A\uDE3C-\uDE41\uDE43-\uDE46\uDE48\uDE4A\uDE4C\uDE50\uDE53\uDE55\uDE56\uDE58\uDE5A\uDE5C\uDE5E\uDE60\uDE63\uDE65\uDE66\uDE6B\uDE73\uDE78\uDE7D\uDE7F\uDE8A\uDE9C-\uDEA0\uDEA4\uDEAA\uDEBC-\uDFFF]|\uD869[\uDEE0-\uDEFF]|\uD86D[\uDF3A-\uDF3F]|\uD86E[\uDC1E\uDC1F]|\uD873[\uDEA2-\uDEAF]|\uD87A[\uDFE1-\uDFFF]|\uD87E[\uDE1E-\uDFFF]|\uD884[\uDF4B-\uDF4F]|\uD888[\uDFB0-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+/g,
                  "_"
                )
              ),
            ...(t.length > e ? ["Et", "Al"] : []),
          ];
        },
      },
      veryshorttitle: { description: "First non-function word of the title", callback: (i) => g0(Ds(i)).slice(0, 1) },
      shorttitle: { description: "First three non-function words of the title", callback: (i) => g0(Ds(i)).slice(0, 3) },
      title: { description: "Full title, capitalized", callback: (i) => b0(Fs(Ds(i))) },
      fulltitle: { description: "Full title, verbatim", callback: (i) => Fs(Ds(i)) },
      year: {
        description: "Year",
        callback: (i) => {
          var _i_get_replace, _this;
          var e = (_this = i.get("year")) === null || _this === void 0 ? void 0 : (_i_get_replace = _this.replace) === null || _i_get_replace === void 0 ? void 0 : _i_get_replace.call(_this, /[^0-9]/g, "");
          return e ? [e] : [];
        },
      },
      duplicateLetter: { description: "If the multiple entries end up with the same key, then insert a letter a-z. By default this will be inserted at the end.", callback: () => ["[duplicateLetter]"] },
      duplicateNumber: { description: "If the multiple entries end up with the same key, then insert a number.", callback: () => ["[duplicateNumber]"] },
    },
    hv = {
      required: {
        description: "If data is missing, revert to existing key",
        callback: (i) => {
          if (i.length === 0) throw new bs();
          return i;
        },
      },
      lower: { description: "Convert to lowercase", callback: (i) => i.map((e) => e.toLocaleLowerCase()) },
      upper: { description: "Convert to uppercase", callback: (i) => i.map((e) => e.toLocaleUpperCase()) },
      capitalize: { description: "Capitalize first letter of each word", callback: b0 },
    },
    bs =
      ((_class17 = class _class extends Error {}),
      (() => {
        a(_class17, "MissingRequiredData");
      })(),
      _class17);
  function D0(i, e, t) {
    var r = t;
    !t.includes("[duplicateLetter]") && !t.includes("[duplicateNumber]") && (r = t + "[duplicateLetter]");
    var n = new Map();
    var _iteratorNormalCompletion = true,
      _didIteratorError = false,
      _iteratorError = undefined;
    try {
      for (var _iterator = i.children[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
        var o = _step.value;
        if (Vr(o)) {
          var u = e.get(o.block);
          if (!u) continue;
          var l = cv(u, r);
          if (!l) continue;
          var _n_get;
          var h = (_n_get = n.get(l)) !== null && _n_get !== void 0 ? _n_get : [];
          n.set(l, [...h, o.block]);
        }
      }
    } catch (err) {
      _didIteratorError = true;
      _iteratorError = err;
    } finally {
      try {
        if (!_iteratorNormalCompletion && _iterator.return != null) {
          _iterator.return();
        }
      } finally {
        if (_didIteratorError) {
          throw _iteratorError;
        }
      }
    }
    var s = new Map();
    var _iteratorNormalCompletion1 = true,
      _didIteratorError1 = false,
      _iteratorError1 = undefined,
      _iteratorNormalCompletion2 = true,
      _didIteratorError2 = false,
      _iteratorError2 = undefined;
    try {
      for (var _iterator1 = n[Symbol.iterator](), _step1; !(_iteratorNormalCompletion2 = (_step1 = _iterator1.next()).done); _iteratorNormalCompletion2 = true) {
        var _step_value = _sliced_to_array(_step1.value, 2),
          o1 = _step_value[0],
          u1 = _step_value[1];
        try {
          for (var _iterator2 = u1.entries()[Symbol.iterator](), _step2; !(_iteratorNormalCompletion1 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion1 = true) {
            var _step_value1 = _sliced_to_array(_step2.value, 2),
              l1 = _step_value1[0],
              h1 = _step_value1[1];
            var c = u1.length > 1 ? String.fromCharCode(97 + l1) : "",
              f = u1.length > 1 ? String(l1 + 1) : "";
            h1.key = o1.replace(/\[duplicateLetter\]/g, c).replace(/\[duplicateNumber\]/g, f);
          }
        } catch (err) {
          _didIteratorError1 = true;
          _iteratorError1 = err;
        } finally {
          try {
            if (!_iteratorNormalCompletion1 && _iterator2.return != null) {
              _iterator2.return();
            }
          } finally {
            if (_didIteratorError1) {
              throw _iteratorError1;
            }
          }
        }
      }
    } catch (err) {
      _didIteratorError2 = true;
      _iteratorError2 = err;
    } finally {
      try {
        if (!_iteratorNormalCompletion2 && _iterator1.return != null) {
          _iterator1.return();
        }
      } finally {
        if (_didIteratorError2) {
          throw _iteratorError2;
        }
      }
    }
    return s;
  }
  a(D0, "generateKeys");
  function cv(i, e) {
    try {
      var _$t = e.replace(/\[[^:\]]+(?::[^:\]]+)*\]/g, (r) => {
        var _r_slice_split = _to_array(r.slice(1, -1).split(":")),
          n = _r_slice_split[0],
          s = _r_slice_split.slice(1);
        if (!n) throw new Error("Token parse error");
        var o,
          u = n.replace(/[0-9]+/g, (c) => ((o = Number(c)), "N")),
          l = av[u],
          h;
        if (l) h = l.callback(i, o);
        else if (u === u.toLocaleUpperCase()) {
          var c = i.get(u.toLocaleLowerCase());
          h = c ? Fs(c) : [];
        } else throw new Error("Invalid citation key token ".concat(u));
        var _iteratorNormalCompletion = true,
          _didIteratorError = false,
          _iteratorError = undefined;
        try {
          for (var _iterator = s[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
            var c1 = _step.value;
            var f = hv[c1];
            if (f) h = f.callback(h);
            else throw new Error("Invalid modifier ".concat(c1));
          }
        } catch (err) {
          _didIteratorError = true;
          _iteratorError = err;
        } finally {
          try {
            if (!_iteratorNormalCompletion && _iterator.return != null) {
              _iterator.return();
            }
          } finally {
            if (_didIteratorError) {
              throw _iteratorError;
            }
          }
        }
        return h.join("");
      });
      return _$t === "" ? void 0 : _$t;
    } catch (t) {
      if (t instanceof bs) return;
      throw t;
    }
  }
  a(cv, "generateKey");
  var fv = new Set([
    "a",
    "about",
    "above",
    "across",
    "against",
    "along",
    "among",
    "an",
    "and",
    "around",
    "at",
    "before",
    "behind",
    "below",
    "beneath",
    "beside",
    "between",
    "beyond",
    "but",
    "by",
    "down",
    "during",
    "except",
    "for",
    "for",
    "from",
    "in",
    "inside",
    "into",
    "like",
    "near",
    "nor",
    "of",
    "off",
    "on",
    "onto",
    "or",
    "since",
    "so",
    "the",
    "through",
    "to",
    "toward",
    "under",
    "until",
    "up",
    "upon",
    "with",
    "within",
    "without",
    "yet",
  ]);
  function g0(i) {
    return Fs(i).filter((e) => !fv.has(e.toLocaleLowerCase()));
  }
  a(g0, "nonFunctionWords");
  function Fs(i) {
    return i
      .split(
        /(?:[\0-\/:-@\[-`\{-\xA9\xAB-\xB4\xB6-\xB9\xBB-\xBF\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u036F\u0375\u0378\u0379\u037E\u0380-\u0385\u0387\u038B\u038D\u03A2\u03F6\u0482-\u0489\u0530\u0557\u0558\u055A-\u055F\u0589-\u05CF\u05EB-\u05EE\u05F3-\u061F\u064B-\u066D\u0670\u06D4\u06D6-\u06E4\u06E7-\u06ED\u06F0-\u06F9\u06FD\u06FE\u0700-\u070F\u0711\u0730-\u074C\u07A6-\u07B0\u07B2-\u07C9\u07EB-\u07F3\u07F6-\u07F9\u07FB-\u07FF\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u083F\u0859-\u085F\u086B-\u086F\u0888\u088F-\u089F\u08CA-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962-\u0970\u0981-\u0984\u098D\u098E\u0991\u0992\u09A9\u09B1\u09B3-\u09B5\u09BA-\u09BC\u09BE-\u09CD\u09CF-\u09DB\u09DE\u09E2-\u09EF\u09F2-\u09FB\u09FD-\u0A04\u0A0B-\u0A0E\u0A11\u0A12\u0A29\u0A31\u0A34\u0A37\u0A3A-\u0A58\u0A5D\u0A5F-\u0A71\u0A75-\u0A84\u0A8E\u0A92\u0AA9\u0AB1\u0AB4\u0ABA-\u0ABC\u0ABE-\u0ACF\u0AD1-\u0ADF\u0AE2-\u0AF8\u0AFA-\u0B04\u0B0D\u0B0E\u0B11\u0B12\u0B29\u0B31\u0B34\u0B3A-\u0B3C\u0B3E-\u0B5B\u0B5E\u0B62-\u0B70\u0B72-\u0B82\u0B84\u0B8B-\u0B8D\u0B91\u0B96-\u0B98\u0B9B\u0B9D\u0BA0-\u0BA2\u0BA5-\u0BA7\u0BAB-\u0BAD\u0BBA-\u0BCF\u0BD1-\u0C04\u0C0D\u0C11\u0C29\u0C3A-\u0C3C\u0C3E-\u0C57\u0C5B\u0C5C\u0C5E\u0C5F\u0C62-\u0C7F\u0C81-\u0C84\u0C8D\u0C91\u0CA9\u0CB4\u0CBA-\u0CBC\u0CBE-\u0CDC\u0CDF\u0CE2-\u0CF0\u0CF3-\u0D03\u0D0D\u0D11\u0D3B\u0D3C\u0D3E-\u0D4D\u0D4F-\u0D53\u0D57-\u0D5E\u0D62-\u0D79\u0D80-\u0D84\u0D97-\u0D99\u0DB2\u0DBC\u0DBE\u0DBF\u0DC7-\u0E00\u0E31\u0E34-\u0E3F\u0E47-\u0E80\u0E83\u0E85\u0E8B\u0EA4\u0EA6\u0EB1\u0EB4-\u0EBC\u0EBE\u0EBF\u0EC5\u0EC7-\u0EDB\u0EE0-\u0EFF\u0F01-\u0F3F\u0F48\u0F6D-\u0F87\u0F8D-\u0FFF\u102B-\u103E\u1040-\u104F\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F-\u109F\u10C6\u10C8-\u10CC\u10CE\u10CF\u10FB\u1249\u124E\u124F\u1257\u1259\u125E\u125F\u1289\u128E\u128F\u12B1\u12B6\u12B7\u12BF\u12C1\u12C6\u12C7\u12D7\u1311\u1316\u1317\u135B-\u137F\u1390-\u139F\u13F6\u13F7\u13FE-\u1400\u166D\u166E\u1680\u169B-\u169F\u16EB-\u16F0\u16F9-\u16FF\u1712-\u171E\u1732-\u173F\u1752-\u175F\u176D\u1771-\u177F\u17B4-\u17D6\u17D8-\u17DB\u17DD-\u181F\u1879-\u187F\u1885\u1886\u18A9\u18AB-\u18AF\u18F6-\u18FF\u191F-\u194F\u196E\u196F\u1975-\u197F\u19AC-\u19AF\u19CA-\u19FF\u1A17-\u1A1F\u1A55-\u1AA6\u1AA8-\u1B04\u1B34-\u1B44\u1B4D-\u1B82\u1BA1-\u1BAD\u1BB0-\u1BB9\u1BE6-\u1BFF\u1C24-\u1C4C\u1C50-\u1C59\u1C7E\u1C7F\u1C89-\u1C8F\u1CBB\u1CBC\u1CC0-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1CFB-\u1CFF\u1DC0-\u1DFF\u1F16\u1F17\u1F1E\u1F1F\u1F46\u1F47\u1F4E\u1F4F\u1F58\u1F5A\u1F5C\u1F5E\u1F7E\u1F7F\u1FB5\u1FBD\u1FBF-\u1FC1\u1FC5\u1FCD-\u1FCF\u1FD4\u1FD5\u1FDC-\u1FDF\u1FED-\u1FF1\u1FF5\u1FFD-\u2070\u2072-\u207E\u2080-\u208F\u209D-\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F-\u2182\u2185-\u2BFF\u2CE5-\u2CEA\u2CEF-\u2CF1\u2CF4-\u2CFF\u2D26\u2D28-\u2D2C\u2D2E\u2D2F\u2D68-\u2D6E\u2D70-\u2D7F\u2D97-\u2D9F\u2DA7\u2DAF\u2DB7\u2DBF\u2DC7\u2DCF\u2DD7\u2DDF-\u2E2E\u2E30-\u3004\u3007-\u3030\u3036-\u303A\u303D-\u3040\u3097-\u309C\u30A0\u30FB\u3100-\u3104\u3130\u318F-\u319F\u31C0-\u31EF\u3200-\u33FF\u4DC0-\u4DFF\uA48D-\uA4CF\uA4FE\uA4FF\uA60D-\uA60F\uA620-\uA629\uA62C-\uA63F\uA66F-\uA67E\uA69E\uA69F\uA6E6-\uA716\uA720\uA721\uA789\uA78A\uA7CB-\uA7CF\uA7D2\uA7D4\uA7DA-\uA7F1\uA802\uA806\uA80B\uA823-\uA83F\uA874-\uA881\uA8B4-\uA8F1\uA8F8-\uA8FA\uA8FC\uA8FF-\uA909\uA926-\uA92F\uA947-\uA95F\uA97D-\uA983\uA9B3-\uA9CE\uA9D0-\uA9DF\uA9E5\uA9F0-\uA9F9\uA9FF\uAA29-\uAA3F\uAA43\uAA4C-\uAA5F\uAA77-\uAA79\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAC3-\uAADA\uAADE\uAADF\uAAEB-\uAAF1\uAAF5-\uAB00\uAB07\uAB08\uAB0F\uAB10\uAB17-\uAB1F\uAB27\uAB2F\uAB5B\uAB6A-\uAB6F\uABE3-\uABFF\uD7A4-\uD7AF\uD7C7-\uD7CA\uD7FC-\uD7FF\uE000-\uF8FF\uFA6E\uFA6F\uFADA-\uFAFF\uFB07-\uFB12\uFB18-\uFB1C\uFB1E\uFB29\uFB37\uFB3D\uFB3F\uFB42\uFB45\uFBB2-\uFBD2\uFD3E-\uFD4F\uFD90\uFD91\uFDC8-\uFDEF\uFDFC-\uFE6F\uFE75\uFEFD-\uFF20\uFF3B-\uFF40\uFF5B-\uFF65\uFFBF-\uFFC1\uFFC8\uFFC9\uFFD0\uFFD1\uFFD8\uFFD9\uFFDD-\uFFFF]|\uD800[\uDC0C\uDC27\uDC3B\uDC3E\uDC4E\uDC4F\uDC5E-\uDC7F\uDCFB-\uDE7F\uDE9D-\uDE9F\uDED1-\uDEFF\uDF20-\uDF2C\uDF41\uDF4A-\uDF4F\uDF76-\uDF7F\uDF9E\uDF9F\uDFC4-\uDFC7\uDFD0-\uDFFF]|\uD801[\uDC9E-\uDCAF\uDCD4-\uDCD7\uDCFC-\uDCFF\uDD28-\uDD2F\uDD64-\uDD6F\uDD7B\uDD8B\uDD93\uDD96\uDDA2\uDDB2\uDDBA\uDDBD-\uDDFF\uDF37-\uDF3F\uDF56-\uDF5F\uDF68-\uDF7F\uDF86\uDFB1\uDFBB-\uDFFF]|\uD802[\uDC06\uDC07\uDC09\uDC36\uDC39-\uDC3B\uDC3D\uDC3E\uDC56-\uDC5F\uDC77-\uDC7F\uDC9F-\uDCDF\uDCF3\uDCF6-\uDCFF\uDD16-\uDD1F\uDD3A-\uDD7F\uDDB8-\uDDBD\uDDC0-\uDDFF\uDE01-\uDE0F\uDE14\uDE18\uDE36-\uDE5F\uDE7D-\uDE7F\uDE9D-\uDEBF\uDEC8\uDEE5-\uDEFF\uDF36-\uDF3F\uDF56-\uDF5F\uDF73-\uDF7F\uDF92-\uDFFF]|\uD803[\uDC49-\uDC7F\uDCB3-\uDCBF\uDCF3-\uDCFF\uDD24-\uDE7F\uDEAA-\uDEAF\uDEB2-\uDEFF\uDF1D-\uDF26\uDF28-\uDF2F\uDF46-\uDF6F\uDF82-\uDFAF\uDFC5-\uDFDF\uDFF7-\uDFFF]|\uD804[\uDC00-\uDC02\uDC38-\uDC70\uDC73\uDC74\uDC76-\uDC82\uDCB0-\uDCCF\uDCE9-\uDD02\uDD27-\uDD43\uDD45\uDD46\uDD48-\uDD4F\uDD73-\uDD75\uDD77-\uDD82\uDDB3-\uDDC0\uDDC5-\uDDD9\uDDDB\uDDDD-\uDDFF\uDE12\uDE2C-\uDE3E\uDE41-\uDE7F\uDE87\uDE89\uDE8E\uDE9E\uDEA9-\uDEAF\uDEDF-\uDF04\uDF0D\uDF0E\uDF11\uDF12\uDF29\uDF31\uDF34\uDF3A-\uDF3C\uDF3E-\uDF4F\uDF51-\uDF5C\uDF62-\uDFFF]|\uD805[\uDC35-\uDC46\uDC4B-\uDC5E\uDC62-\uDC7F\uDCB0-\uDCC3\uDCC6\uDCC8-\uDD7F\uDDAF-\uDDD7\uDDDC-\uDDFF\uDE30-\uDE43\uDE45-\uDE7F\uDEAB-\uDEB7\uDEB9-\uDEFF\uDF1B-\uDF3F\uDF47-\uDFFF]|\uD806[\uDC2C-\uDC9F\uDCE0-\uDCFE\uDD07\uDD08\uDD0A\uDD0B\uDD14\uDD17\uDD30-\uDD3E\uDD40\uDD42-\uDD9F\uDDA8\uDDA9\uDDD1-\uDDE0\uDDE2\uDDE4-\uDDFF\uDE01-\uDE0A\uDE33-\uDE39\uDE3B-\uDE4F\uDE51-\uDE5B\uDE8A-\uDE9C\uDE9E-\uDEAF\uDEF9-\uDFFF]|\uD807[\uDC09\uDC2F-\uDC3F\uDC41-\uDC71\uDC90-\uDCFF\uDD07\uDD0A\uDD31-\uDD45\uDD47-\uDD5F\uDD66\uDD69\uDD8A-\uDD97\uDD99-\uDEDF\uDEF3-\uDF01\uDF03\uDF11\uDF34-\uDFAF\uDFB1-\uDFFF]|\uD808[\uDF9A-\uDFFF]|\uD809[\uDC00-\uDC7F\uDD44-\uDFFF]|[\uD80A\uD80E-\uD810\uD812-\uD819\uD824-\uD82A\uD82D\uD82E\uD830-\uD834\uD836\uD83C-\uD83F\uD87B-\uD87D\uD87F\uD889-\uDBFF][\uDC00-\uDFFF]|\uD80B[\uDC00-\uDF8F\uDFF1-\uDFFF]|\uD80D[\uDC30-\uDC40\uDC47-\uDFFF]|\uD811[\uDE47-\uDFFF]|\uD81A[\uDE39-\uDE3F\uDE5F-\uDE6F\uDEBF-\uDECF\uDEEE-\uDEFF\uDF30-\uDF3F\uDF44-\uDF62\uDF78-\uDF7C\uDF90-\uDFFF]|\uD81B[\uDC00-\uDE3F\uDE80-\uDEFF\uDF4B-\uDF4F\uDF51-\uDF92\uDFA0-\uDFDF\uDFE2\uDFE4-\uDFFF]|\uD821[\uDFF8-\uDFFF]|\uD823[\uDCD6-\uDCFF\uDD09-\uDFFF]|\uD82B[\uDC00-\uDFEF\uDFF4\uDFFC\uDFFF]|\uD82C[\uDD23-\uDD31\uDD33-\uDD4F\uDD53\uDD54\uDD56-\uDD63\uDD68-\uDD6F\uDEFC-\uDFFF]|\uD82F[\uDC6B-\uDC6F\uDC7D-\uDC7F\uDC89-\uDC8F\uDC9A-\uDFFF]|\uD835[\uDC55\uDC9D\uDCA0\uDCA1\uDCA3\uDCA4\uDCA7\uDCA8\uDCAD\uDCBA\uDCBC\uDCC4\uDD06\uDD0B\uDD0C\uDD15\uDD1D\uDD3A\uDD3F\uDD45\uDD47-\uDD49\uDD51\uDEA6\uDEA7\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3\uDFCC-\uDFFF]|\uD837[\uDC00-\uDEFF\uDF1F-\uDF24\uDF2B-\uDFFF]|\uD838[\uDC00-\uDC2F\uDC6E-\uDCFF\uDD2D-\uDD36\uDD3E-\uDD4D\uDD4F-\uDE8F\uDEAE-\uDEBF\uDEEC-\uDFFF]|\uD839[\uDC00-\uDCCF\uDCEC-\uDFDF\uDFE7\uDFEC\uDFEF\uDFFF]|\uD83A[\uDCC5-\uDCFF\uDD44-\uDD4A\uDD4C-\uDFFF]|\uD83B[\uDC00-\uDDFF\uDE04\uDE20\uDE23\uDE25\uDE26\uDE28\uDE33\uDE38\uDE3A\uDE3C-\uDE41\uDE43-\uDE46\uDE48\uDE4A\uDE4C\uDE50\uDE53\uDE55\uDE56\uDE58\uDE5A\uDE5C\uDE5E\uDE60\uDE63\uDE65\uDE66\uDE6B\uDE73\uDE78\uDE7D\uDE7F\uDE8A\uDE9C-\uDEA0\uDEA4\uDEAA\uDEBC-\uDFFF]|\uD869[\uDEE0-\uDEFF]|\uD86D[\uDF3A-\uDF3F]|\uD86E[\uDC1E\uDC1F]|\uD873[\uDEA2-\uDEAF]|\uD87A[\uDFE1-\uDFFF]|\uD87E[\uDE1E-\uDFFF]|\uD884[\uDF4B-\uDF4F]|\uD888[\uDFB0-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+/
      )
      .filter((e) => e.length > 0);
  }
  a(Fs, "words");
  function b0(i) {
    return i.map((e) => e.slice(0, 1).toLocaleUpperCase() + e.slice(1).toLocaleLowerCase());
  }
  a(b0, "capitalize");
  function Ds(i) {
    var _i_get, _ref;
    return (_ref = (_i_get = i.get("title")) !== null && _i_get !== void 0 ? _i_get : i.get("booktitle")) !== null && _ref !== void 0 ? _ref : "";
  }
  a(Ds, "title");
  var F0 = ["doi", "citation", "abstract"];
  var ys = ["title", "shorttitle", "author", "year", "month", "day", "journal", "booktitle", "location", "on", "publisher", "address", "series", "volume", "number", "pages", "doi", "isbn", "issn", "url", "urldate", "copyright", "category", "note", "metadata"],
    El = ["key"],
    y0 = "[auth:required:lower][year:required][veryshorttitle:lower][duplicateNumber]",
    Hr = [
      { key: "help", cli: { "--help": !0, "-h": !0 }, title: "Help", description: ["Show help"], type: "boolean" },
      { key: "v2", cli: { "--v2": !0 }, title: "Enable planned v2 CLI changes", description: ["Input files will no longer be modified by default. Instead, you will need to specify `--modify`/`-m` option to overwrite the file, or `--output`/`-o` to output to a different file."], type: "string", defaultValue: void 0 },
      { key: "outputPath", cli: { "--output": (i) => i[0], "-o": (i) => i[0] }, title: "Output path", description: ["Write output to specified path. When omitted (and -m/--modify is not used), the result will be printed to stdout."], type: "string", defaultValue: void 0 },
      { key: "modify", cli: { "--modify": !0, "-m": !0, "--no-modify": !1 }, title: "Modify input files", description: ["Overwrite the original input files with the tidied result. This is enabled by default but will be disabled by default in v2. For v1, use --no-modify to output to stdout instead of overwriting the input files."], type: "boolean", defaultValue: !0 },
      { key: "omit", cli: { "--omit": (i) => (i.length === 0 && (console.error("Expected a omit list"), process.exit(1)), i) }, toCLI: (i) => (Array.isArray(i) && i.length > 0 ? "--omit=".concat(i.join(",")) : void 0), title: "Remove fields", description: ["Remove specified fields from bibliography entries."], examples: ["--omit=id,name"], type: "string[]", defaultValue: [] },
      { key: "curly", cli: { "--curly": !0, "--no-curly": !1 }, toCLI: (i) => (i ? "--curly" : void 0), title: "Enclose values in braces", description: ['Enclose all property values in braces. Quoted values will be converted to braces. For example, "Journal of Tea" will become {Journal of Tea}.'], type: "boolean", defaultValue: !1 },
      { key: "numeric", cli: { "--numeric": !0, "--no-numeric": !1 }, toCLI: (i) => (i ? "--numeric" : void 0), title: "Use numeric values where possible", description: ["Strip quotes and braces from numeric/month values. For example, {1998} will become 1998."], type: "boolean", defaultValue: !1 },
      { key: "months", cli: { "--months": !0 }, toCLI: (i) => (i ? "--months" : void 0), title: "Abbreviate months", description: ["Convert all months to three letter abbreviations (jan, feb, etc)."], type: "boolean", defaultValue: !1 },
      {
        key: "space",
        cli: { "--space": (i) => (i.length > 0 ? Number(i[0]) : !0) },
        toCLI: (i, e) => {
          if (!e.tab) {
            if (typeof i == "number" && i !== 2) return "--space=".concat(i);
            if (i && i !== 2) return "--space";
          }
        },
        title: "Indent with spaces",
        description: ["Indent all fields with the specified number of spaces. Ignored if tab is set."],
        examples: ["--space=2 (default)", "--space=4"],
        type: "boolean | number",
        convertBoolean: { true: 2, false: void 0 },
        defaultValue: 2,
      },
      { key: "tab", cli: { "--tab": !0, "--no-tab": !1 }, toCLI: (i) => (i ? "--tab" : void 0), title: "Indent with tabs", description: ["Indent all fields with a tab."], type: "boolean", defaultValue: !1 },
      {
        key: "align",
        cli: { "--align": (i) => Number(i[0]), "--no-align": !1 },
        toCLI: (i) => {
          if (i === !1 || i === 1 || i === 0) return "--no-align";
          if (typeof i == "number" && i !== 14) return "--align=".concat(i);
        },
        title: "Align values",
        description: ["Insert whitespace between fields and values so that values are visually aligned."],
        examples: ["--align=14 (default)"],
        type: "boolean | number",
        convertBoolean: { true: 14, false: 1 },
        defaultValue: 14,
      },
      { key: "blankLines", cli: { "--blank-lines": !0, "--no-blank-lines": !1 }, toCLI: (i) => (i ? "--blank-lines" : void 0), title: "Insert blank lines", description: ["Insert an empty line between each entry."], type: "boolean" },
      {
        key: "sort",
        cli: { "--sort": (i) => (i.length > 0 ? i : !0), "--no-sort": !1 },
        toCLI: (i) => {
          if (Array.isArray(i) && i.length > 0) return "--sort=".concat(i.join(","));
          if (i === !0) return "--sort";
        },
        title: "Sort bibliography entries",
        description: [
          "Sort entries by the specified field names (citation key is used if no fields are specified). For descending order, prefix the field with a dash (-).",
          "Multiple fields may be specified to sort everything by first field, then by the second field whenever the first field for entries are equal, etc.",
          "The following additional fields are also permitted: key (entry citation key), type (sorts by the type of entry, e.g. article), and special (ensures that @string, @preamble, @set, and @xdata entries are first). ",
        ],
        examples: ["--sort (sort by citation key)", "--sort=-year,name (sort year descending then name ascending)", "--sort=name,year"],
        type: "boolean | string[]",
        convertBoolean: { true: El, false: void 0 },
      },
      {
        key: "duplicates",
        cli: {
          "--duplicates": (i) => {
            if (i.length === 0) return !0;
            var _iteratorNormalCompletion = true,
              _didIteratorError = false,
              _iteratorError = undefined;
            try {
              for (var _iterator = i[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
                var e = _step.value;
                e !== "doi" && e !== "key" && e !== "abstract" && e !== "citation" && (console.error('Invalid key for merge option: "'.concat(e, '"')), process.exit(1));
              }
            } catch (err) {
              _didIteratorError = true;
              _iteratorError = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion && _iterator.return != null) {
                  _iterator.return();
                }
              } finally {
                if (_didIteratorError) {
                  throw _iteratorError;
                }
              }
            }
            return i;
          },
        },
        toCLI: (i) => {
          if (Array.isArray(i) && i.length > 0) return "--duplicates=".concat(i.join(","));
          if (i === !0) return "--duplicates";
        },
        title: "Check for duplicates",
        description: ["Warn if duplicates are found, which are entries where DOI, abstract, or author and title are the same."],
        examples: ["--duplicates doi (same DOIs)", "--duplicates key (same IDs)", "--duplicates abstract (similar abstracts)", "--duplicates citation (similar author and titles)", "--duplicates doi, key (identical DOI or keys)", "--duplicates (same DOI, key, abstract, or citation)"],
        type: "boolean | ('doi' | 'key' | 'abstract' | 'citation')[]",
        convertBoolean: { true: F0, false: void 0 },
        defaultValue: (i) => (i.merge ? F0 : void 0),
      },
      {
        key: "merge",
        cli: { "--merge": (i) => (i.length === 0 ? !0 : (i[0] !== "first" && i[0] !== "last" && i[0] !== "combine" && i[0] !== "overwrite" && (console.error('Invalid merge strategy: "'.concat(i[0], '"')), process.exit(1)), i[0])), "--no-merge": !1 },
        toCLI: (i) => {
          if (typeof i == "string") return "--merge=".concat(i);
          if (i) return "--merge";
        },
        title: "Merge duplicate entries",
        description: [
          "Merge duplicates entries. Use the duplicates option to determine how duplicates are identified. There are different ways to merge:",
          "- first: only keep the original entry",
          "- last: only keep the last found duplicate",
          "- combine: keep original entry and merge in fields of duplicates if they do not already exist",
          "- overwrite: keep original entry and merge in fields of duplicates, overwriting existing fields if they exist",
        ],
        type: "boolean | 'first' | 'last' | 'combine' | 'overwrite'",
        convertBoolean: { true: "combine", false: void 0 },
      },
      { key: "stripEnclosingBraces", cli: { "--strip-enclosing-braces": !0 }, toCLI: (i) => (i ? "--strip-enclosing-braces" : void 0), title: "Strip double-braced values", description: ["Where an entire value is enclosed in double braces, remove the extra braces. For example, {{Journal of Tea}} will become {Journal of Tea}."], type: "boolean", defaultValue: !1 },
      { key: "dropAllCaps", cli: { "--drop-all-caps": !0 }, toCLI: (i) => (i ? "--drop-all-caps" : void 0), title: "Drop all caps", description: ["Where values are all caps, make them title case. For example, {JOURNAL OF TEA} will become {Journal of Tea}. Roman numerals will be left unchanged."], type: "boolean", defaultValue: !1 },
      { key: "escape", cli: { "--escape": !0, "--no-escape": !1 }, toCLI: (i) => (i === !1 ? "--no-escape" : void 0), title: "Escape special characters", description: ["Escape special characters, such as umlaut. This ensures correct typesetting with latex. Enabled by default."], type: "boolean", defaultValue: !0 },
      {
        key: "sortFields",
        cli: { "--sort-fields": (i) => (i.length > 0 ? i : !0) },
        toCLI: (i) => {
          if (Array.isArray(i) && i.length > 0) return JSON.stringify(i) === JSON.stringify(ys) ? "--sort-fields" : "--sort-fields=".concat(i.join(","));
          if (i === !0) return "--sort-fields";
        },
        title: "Sort fields",
        description: ["Sort the fields within entries.", "If no fields are specified fields will be sorted by: title, shorttitle, author, year, month, day, journal, booktitle, location, on, publisher, address, series, volume, number, pages, doi, isbn, issn, url, urldate, copyright, category, note, metadata"],
        examples: ["--sort-fields=name,author"],
        type: "boolean | string[]",
        convertBoolean: { true: ys, false: void 0 },
        defaultValue: void 0,
      },
      { key: "sortProperties", cli: { "--sort-properties": (i) => (i.length > 0 ? i : !0) }, title: "Sort properties", description: ["Alias of sort fields (legacy)"], type: "boolean | string[]", deprecated: !0 },
      { key: "stripComments", cli: { "--strip-comments": !0, "--no-strip-comments": !1 }, toCLI: (i) => (i ? "--strip-comments" : void 0), title: "Remove comments", description: ["Remove all comments from the bibtex source."], type: "boolean", defaultValue: !1 },
      { key: "trailingCommas", cli: { "--trailing-commas": !0, "--no-trailing-commas": !0 }, toCLI: (i) => (i ? "--trailing-commas" : void 0), title: "Trailing commas", description: ["End the last key value pair in each entry with a comma."], type: "boolean", defaultValue: !1 },
      { key: "encodeUrls", cli: { "--encode-urls": !0, "--no-encode-urls": !0 }, toCLI: (i) => (i ? "--encode-urls" : void 0), title: "Encode URLs", description: ["Replace invalid URL characters with percent encoded values."], type: "boolean", defaultValue: !1 },
      { key: "tidyComments", cli: { "--tidy-comments": !0, "--no-tidy-comments": !1 }, toCLI: (i) => (i === !1 ? "--no-tidy-comments" : void 0), title: "Tidy comments", description: ["Remove whitespace surrounding comments."], type: "boolean", defaultValue: !0 },
      { key: "removeEmptyFields", cli: { "--remove-empty-fields": !0, "--no-remove-empty-fields": !1 }, toCLI: (i) => (i ? "--remove-empty-fields" : void 0), title: "Remove empty fields", description: ["Remove any fields that have empty values."], type: "boolean", defaultValue: !1 },
      { key: "removeDuplicateFields", cli: { "--remove-dupe-fields": !0, "--no-remove-dupe-fields": !1 }, toCLI: (i) => (i === !1 ? "--no-remove-dupe-fields" : void 0), title: "Remove duplicate fields", description: ["Only allow one of each field in each entry. Enabled by default."], type: "boolean", defaultValue: !0 },
      {
        key: "generateKeys",
        cli: { "--generate-keys": (i) => (i.length > 0 ? i : !0) },
        toCLI: (i) => {
          if (i === !0 || i === y0) return "--generate-keys";
          if (typeof i == "string") return '--generate-keys="'.concat(i.replace(/"/g, '\\"'), '"');
        },
        title: "Generate citation keys [Experimental]",
        description: ["For all entries replace the key with a new key of the form <author><year><title>. A JabRef citation pattern can be provided. This is an experimental option that may change without warning."],
        type: "boolean | string",
        convertBoolean: { true: y0, false: void 0 },
        defaultValue: void 0,
      },
      { key: "maxAuthors", cli: { "--max-authors": (i) => Number(i[0]) }, toCLI: (i) => (i ? "--max-authors=".concat(i) : void 0), title: "Maximum authors", description: ['Truncate authors if above a given number into "and others".'], type: "number" },
      { key: "lowercase", cli: { "--no-lowercase": !1 }, toCLI: (i) => (i === !1 ? "--no-lowercase" : void 0), title: "Lowercase fields", description: ["Lowercase field names and entry type. Enabled by default."], type: "boolean", defaultValue: !0 },
      {
        key: "enclosingBraces",
        cli: { "--enclosing-braces": (i) => (i.length > 0 ? i : !0) },
        toCLI: (i) => {
          if (Array.isArray(i) && i.length > 0) return "--enclosing-braces=".concat(i.join(","));
          if (i === !0) return "--enclosing-braces";
        },
        title: "Enclose values in double braces",
        description: ["Enclose the given fields in double braces, such that case is preserved during BibTeX compilation."],
        examples: ["--enclosing-braces=title,journal (output title and journal fields will be of the form {{This is a title}})", "--enclosing-braces (equivalent to ---enclosing-braces=title)"],
        type: "boolean | string[]",
        convertBoolean: { true: ["title"], false: void 0 },
      },
      {
        key: "removeBraces",
        cli: { "--remove-braces": (i) => (i.length > 0 ? i : !0) },
        toCLI: (i) => {
          if (Array.isArray(i) && i.length > 0) return "--remove-braces=".concat(i.join(","));
          if (i === !0) return "--remove-braces";
        },
        title: "Remove braces",
        description: ["Remove any curly braces within the value, unless they are part of a command."],
        examples: ["--remove-braces=title,journal", "--remove-braces (equivalent to ---remove-braces=title)"],
        type: "boolean | string[]",
        convertBoolean: { true: ["title"], false: void 0 },
      },
      { key: "wrap", cli: { "--wrap": (i) => (i.length > 0 ? Number(i[0]) : !0), "--no-wrap": !1 }, toCLI: (i) => (i ? "--wrap=".concat(i) : void 0), title: "Wrap values", description: ["Wrap long values at the given column"], examples: ["--wrap (80 by default)", "--wrap=82"], type: "boolean | number", convertBoolean: { true: 80, false: void 0 } },
      { key: "version", cli: { "--version": !0, "-v": !0 }, title: "Version", description: ["Show bibtex-tidy version."], type: "boolean" },
      { key: "quiet", cli: { "--quiet": !0 }, title: "Quiet", description: ["Suppress logs on stdout."], type: "boolean" },
      { key: "backup", cli: { "--backup": !0, "--no-backup": !1 }, title: "Backup", description: ["Make a backup <filename>.original. Enabled by default (unless --modify is explicitly provided or outputting to a different file/stdio). Deprecated but provided for backward compatibility."], type: "boolean", defaultValue: !0, deprecated: !0 },
    ],
    C0 = Object.fromEntries(Hr.map((i) => [i.key, i]));
  function Wr(i) {
    return Object.fromEntries(
      Hr.map((e) => {
        var t = e.key,
          r = i[t];
        return e.convertBoolean && typeof r == "boolean" ? [t, r ? e.convertBoolean.true : e.convertBoolean.false] : typeof r > "u" && e.defaultValue !== void 0 ? (typeof e.defaultValue == "function" ? [t, e.defaultValue(i)] : [t, e.defaultValue]) : [t, r];
      })
    );
  }
  a(Wr, "normalizeOptions");
  function A0(i, e, t) {
    var r = new Map(),
      n = [];
    var _iteratorNormalCompletion = true,
      _didIteratorError = false,
      _iteratorError = undefined;
    try {
      for (var _iterator = i.children[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
        var s = _step.value;
        var _s_block;
        if (s.type === "text" || (((_s_block = s.block) === null || _s_block === void 0 ? void 0 : _s_block.type) !== "entry" && !t.includes("special"))) {
          n.push(s);
          continue;
        }
        var o = new Map();
        var _iteratorNormalCompletion1 = true,
          _didIteratorError1 = false,
          _iteratorError1 = undefined;
        try {
          for (var _iterator1 = t[Symbol.iterator](), _step1; !(_iteratorNormalCompletion1 = (_step1 = _iterator1.next()).done); _iteratorNormalCompletion1 = true) {
            var u = _step1.value;
            u.startsWith("-") && (u = u.slice(1));
            var l = void 0;
            switch (u) {
              case "key":
                var _s_block1;
                if (((_s_block1 = s.block) === null || _s_block1 === void 0 ? void 0 : _s_block1.type) !== "entry") continue;
                var _s_block_key;
                l = (_s_block_key = s.block.key) !== null && _s_block_key !== void 0 ? _s_block_key : "";
                break;
              case "type":
                l = s.command;
                break;
              case "month": {
                var _s_block2, _e_get_get, _this;
                if (((_s_block2 = s.block) === null || _s_block2 === void 0 ? void 0 : _s_block2.type) !== "entry") continue;
                var h = (_this = e.get(s.block)) === null || _this === void 0 ? void 0 : (_e_get_get = _this.get) === null || _e_get_get === void 0 ? void 0 : _e_get_get.call(_this, u),
                  c = h ? Cl.indexOf(h) : -1;
                l = c > -1 ? c : "";
                break;
              }
              case "special":
                l = pv(s) ? 0 : 1;
                break;
              default:
                var _s_block3, _e_get_get1, _this1;
                if (((_s_block3 = s.block) === null || _s_block3 === void 0 ? void 0 : _s_block3.type) !== "entry") continue;
                var _e_get_get2;
                l = (_e_get_get2 = (_this1 = e.get(s.block)) === null || _this1 === void 0 ? void 0 : (_e_get_get1 = _this1.get) === null || _e_get_get1 === void 0 ? void 0 : _e_get_get1.call(_this1, u)) !== null && _e_get_get2 !== void 0 ? _e_get_get2 : "";
            }
            o.set(u, typeof l == "string" ? l.toLowerCase() : l);
          }
        } catch (err) {
          _didIteratorError1 = true;
          _iteratorError1 = err;
        } finally {
          try {
            if (!_iteratorNormalCompletion1 && _iterator1.return != null) {
              _iterator1.return();
            }
          } finally {
            if (_didIteratorError1) {
              throw _iteratorError1;
            }
          }
        }
        for (r.set(s, o); n.length > 0; ) r.set(n.pop(), o);
      }
    } catch (err) {
      _didIteratorError = true;
      _iteratorError = err;
    } finally {
      try {
        if (!_iteratorNormalCompletion && _iterator.return != null) {
          _iterator.return();
        }
      } finally {
        if (_didIteratorError) {
          throw _iteratorError;
        }
      }
    }
    var _iteratorNormalCompletion2 = true,
      _didIteratorError2 = false,
      _iteratorError2 = undefined;
    try {
      var _loop = function () {
        var s = _step2.value;
        var o = s.startsWith("-"),
          u = o ? s.slice(1) : s;
        i.children.sort((l, h) => {
          var _r_get_get, _this, _r_get_get1, _this1;
          var _r_get_get2, _r_get_get3;
          var c = (_r_get_get2 = (_this = r.get(l)) === null || _this === void 0 ? void 0 : (_r_get_get = _this.get) === null || _r_get_get === void 0 ? void 0 : _r_get_get.call(_this, u)) !== null && _r_get_get2 !== void 0 ? _r_get_get2 : "￰",
            f = (_r_get_get3 = (_this1 = r.get(h)) === null || _this1 === void 0 ? void 0 : (_r_get_get1 = _this1.get) === null || _r_get_get1 === void 0 ? void 0 : _r_get_get1.call(_this1, u)) !== null && _r_get_get3 !== void 0 ? _r_get_get3 : "￰";
          return typeof c == "number" && (c = String(c).padStart(50, "0")), typeof f == "number" && (f = String(f).padStart(50, "0")), (o ? f : c).localeCompare(o ? c : f);
        });
      };
      for (var _iterator2 = [...t].reverse()[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) _loop();
    } catch (err) {
      _didIteratorError2 = true;
      _iteratorError2 = err;
    } finally {
      try {
        if (!_iteratorNormalCompletion2 && _iterator2.return != null) {
          _iterator2.return();
        }
      } finally {
        if (_didIteratorError2) {
          throw _iteratorError2;
        }
      }
    }
  }
  a(A0, "sortEntries");
  var dv = new Set(["string", "preamble", "set", "xdata"]);
  function pv(i) {
    return dv.has(i.command.toLowerCase());
  }
  a(pv, "isBibLaTeXSpecialEntry");
  function E0(i, e) {
    var _iteratorNormalCompletion = true,
      _didIteratorError = false,
      _iteratorError = undefined;
    try {
      for (var _iterator = gi(i)[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
        var t = _step.value;
        t.fields.sort((r, n) => {
          var s = e.indexOf(r.name.toLocaleLowerCase()),
            o = e.indexOf(n.name.toLocaleLowerCase());
          return s === -1 && o === -1 ? 0 : s === -1 ? 1 : o === -1 ? -1 : o < s ? 1 : o > s ? -1 : 0;
        });
      }
    } catch (err) {
      _didIteratorError = true;
      _iteratorError = err;
    } finally {
      try {
        if (!_iteratorNormalCompletion && _iterator.return != null) {
          _iterator.return();
        }
      } finally {
        if (_didIteratorError) {
          throw _iteratorError;
        }
      }
    }
  }
  a(E0, "sortEntryFields");
  function v0(i) {
    var e = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};
    var t = Wr(e);
    i = n0(i);
    var r = e0(i),
      n = gi(r)
        .filter((h) => !h.key)
        .map((h) => ({ code: "MISSING_KEY", message: "".concat(h.parent.command, " entry does not have a citation key.") })),
      s = mv(r, t),
      o = c0(r, s, t.duplicates, t.merge);
    n.push(...o.warnings), (r.children = r.children.filter((h) => !Vr(h) || !o.entries.has(h.block))), t.sort && A0(r, s, t.sort), t.sortFields && E0(r, t.sortFields);
    var u = t.generateKeys ? D0(r, s, t.generateKeys) : void 0;
    return { bibtex: m0(r, t, u), warnings: n, count: gi(r).length };
  }
  a(v0, "tidy");
  function gi(i) {
    return i.children.filter(Vr).map((e) => e.block);
  }
  a(gi, "getEntries");
  function mv(i, e) {
    var _Al;
    return new Map(gi(i).map((t) => [t, new Map(t.fields.map((r) => [r.name.toLocaleLowerCase(), (_Al = Al(r, e)) !== null && _Al !== void 0 ? _Al : ""]))]));
  }
  a(mv, "generateValueLookup");
  var de =
      ((_i1 = class i {
        lineAt(e) {
          if (e < 0 || e > this.length) throw new RangeError("Invalid position ".concat(e, " in document of length ").concat(this.length));
          return this.lineInner(e, !1, 1, 0);
        }
        line(e) {
          if (e < 1 || e > this.lines) throw new RangeError("Invalid line number ".concat(e, " in ").concat(this.lines, "-line document"));
          return this.lineInner(e, !0, 1, 0);
        }
        replace(e, t, r) {
          var n = [];
          return this.decompose(0, e, n, 2), r.length && r.decompose(0, r.length, n, 3), this.decompose(t, this.length, n, 1), Ji.from(n, this.length - (t - e) + r.length);
        }
        append(e) {
          return this.replace(this.length, this.length, e);
        }
        slice(e) {
          var t = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : this.length;
          var r = [];
          return this.decompose(e, t, r, 0), Ji.from(r, t - e);
        }
        eq(e) {
          if (e == this) return !0;
          if (e.length != this.length || e.lines != this.lines) return !1;
          var t = this.scanIdentical(e, 1),
            r = this.length - this.scanIdentical(e, -1),
            n = new Fi(this),
            s = new Fi(e);
          for (var o = t, u = t; ; ) {
            if ((n.next(o), s.next(o), (o = 0), n.lineBreak != s.lineBreak || n.done != s.done || n.value != s.value)) return !1;
            if (((u += n.value.length), n.done || u >= r)) return !0;
          }
        }
        iter() {
          var e = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 1;
          return new Fi(this, e);
        }
        iterRange(e) {
          var t = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : this.length;
          return new vs(this, e, t);
        }
        iterLines(e, t) {
          var r;
          if (e == null) r = this.iter();
          else {
            t == null && (t = this.lines + 1);
            var n = this.line(e).from;
            r = this.iterRange(n, Math.max(n, t == this.lines + 1 ? this.length : t <= 1 ? 0 : this.line(t - 1).to));
          }
          return new ks(r);
        }
        toString() {
          return this.sliceString(0);
        }
        toJSON() {
          var e = [];
          return this.flatten(e), e;
        }
        static of(e) {
          if (e.length == 0) throw new RangeError("A document must have at least one line");
          return e.length == 1 && !e[0] ? i.empty : e.length <= 32 ? new Je(e) : Ji.from(Je.split(e, []));
        }
        constructor() {}
      }),
      (() => {
        a(_i1, "Text");
      })(),
      _i1),
    Je =
      ((_i2 = class i extends de {
        get lines() {
          return this.text.length;
        }
        get children() {
          return null;
        }
        lineInner(e, t, r, n) {
          for (var s = 0; ; s++) {
            var o = this.text[s],
              u = n + o.length;
            if ((t ? r : u) >= e) return new kl(n, u, r, o);
            (n = u + 1), r++;
          }
        }
        decompose(e, t, r, n) {
          var s = e <= 0 && t >= this.length ? this : new i(k0(this.text, e, t), Math.min(t, this.length) - Math.max(0, e));
          if (n & 1) {
            var o = r.pop(),
              u = Es(s.text, o.text.slice(), 0, s.length);
            if (u.length <= 32) r.push(new i(u, o.length + s.length));
            else {
              var l = u.length >> 1;
              r.push(new i(u.slice(0, l)), new i(u.slice(l)));
            }
          } else r.push(s);
        }
        replace(e, t, r) {
          if (!(r instanceof i)) return super.replace(e, t, r);
          var n = Es(this.text, Es(r.text, k0(this.text, 0, e)), t),
            s = this.length + r.length - (t - e);
          return n.length <= 32 ? new i(n, s) : Ji.from(i.split(n, []), s);
        }
        sliceString(e) {
          var t = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : this.length,
            r = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : "\n";
          var n = "";
          for (var s = 0, o = 0; s <= t && o < this.text.length; o++) {
            var u = this.text[o],
              l = s + u.length;
            s > e && o && (n += r), e < l && t > s && (n += u.slice(Math.max(0, e - s), t - s)), (s = l + 1);
          }
          return n;
        }
        flatten(e) {
          var _iteratorNormalCompletion = true,
            _didIteratorError = false,
            _iteratorError = undefined;
          try {
            for (var _iterator = this.text[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
              var t = _step.value;
              e.push(t);
            }
          } catch (err) {
            _didIteratorError = true;
            _iteratorError = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion && _iterator.return != null) {
                _iterator.return();
              }
            } finally {
              if (_didIteratorError) {
                throw _iteratorError;
              }
            }
          }
        }
        scanIdentical() {
          return 0;
        }
        static split(e, t) {
          var r = [],
            n = -1;
          var _iteratorNormalCompletion = true,
            _didIteratorError = false,
            _iteratorError = undefined;
          try {
            for (var _iterator = e[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
              var s = _step.value;
              r.push(s), (n += s.length + 1), r.length == 32 && (t.push(new i(r, n)), (r = []), (n = -1));
            }
          } catch (err) {
            _didIteratorError = true;
            _iteratorError = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion && _iterator.return != null) {
                _iterator.return();
              }
            } finally {
              if (_didIteratorError) {
                throw _iteratorError;
              }
            }
          }
          return n > -1 && t.push(new i(r, n)), t;
        }
        constructor(e, ref) {
          var t = ref === void 0 ? gv(e) : ref;
          super(), (this.text = e), (this.length = t);
        }
      }),
      (() => {
        a(_i2, "TextLeaf");
      })(),
      _i2),
    Ji =
      ((_i3 = class i extends de {
        lineInner(e, t, r, n) {
          for (var s = 0; ; s++) {
            var o = this.children[s],
              u = n + o.length,
              l = r + o.lines - 1;
            if ((t ? l : u) >= e) return o.lineInner(e, t, r, n);
            (n = u + 1), (r = l + 1);
          }
        }
        decompose(e, t, r, n) {
          for (var s = 0, o = 0; o <= t && s < this.children.length; s++) {
            var u = this.children[s],
              l = o + u.length;
            if (e <= l && t >= o) {
              var h = n & ((o <= e ? 1 : 0) | (l >= t ? 2 : 0));
              o >= e && l <= t && !h ? r.push(u) : u.decompose(e - o, t - o, r, h);
            }
            o = l + 1;
          }
        }
        replace(e, t, r) {
          if (r.lines < this.lines)
            for (var n = 0, s = 0; n < this.children.length; n++) {
              var o = this.children[n],
                u = s + o.length;
              if (e >= s && t <= u) {
                var l = o.replace(e - s, t - s, r),
                  h = this.lines - o.lines + l.lines;
                if (l.lines < h >> (5 - 1) && l.lines > h >> (5 + 1)) {
                  var c = this.children.slice();
                  return (c[n] = l), new i(c, this.length - (t - e) + r.length);
                }
                return super.replace(s, u, l);
              }
              s = u + 1;
            }
          return super.replace(e, t, r);
        }
        sliceString(e) {
          var t = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : this.length,
            r = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : "\n";
          var n = "";
          for (var s = 0, o = 0; s < this.children.length && o <= t; s++) {
            var u = this.children[s],
              l = o + u.length;
            o > e && s && (n += r), e < l && t > o && (n += u.sliceString(e - o, t - o, r)), (o = l + 1);
          }
          return n;
        }
        flatten(e) {
          var _iteratorNormalCompletion = true,
            _didIteratorError = false,
            _iteratorError = undefined;
          try {
            for (var _iterator = this.children[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
              var t = _step.value;
              t.flatten(e);
            }
          } catch (err) {
            _didIteratorError = true;
            _iteratorError = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion && _iterator.return != null) {
                _iterator.return();
              }
            } finally {
              if (_didIteratorError) {
                throw _iteratorError;
              }
            }
          }
        }
        scanIdentical(e, t) {
          if (!(e instanceof i)) return 0;
          var r = 0,
            _ref = _sliced_to_array(t > 0 ? [0, 0, this.children.length, e.children.length] : [this.children.length - 1, e.children.length - 1, -1, -1], 4),
            n = _ref[0],
            s = _ref[1],
            o = _ref[2],
            u = _ref[3];
          for (; ; n += t, s += t) {
            if (n == o || s == u) return r;
            var l = this.children[n],
              h = e.children[s];
            if (l != h) return r + l.scanIdentical(h, t);
            r += l.length + 1;
          }
        }
        static from(e) {
          var t = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : e.reduce((r, n) => r + n.length + 1, -1);
          var r = 0;
          var _iteratorNormalCompletion = true,
            _didIteratorError = false,
            _iteratorError = undefined;
          try {
            for (var _iterator = e[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
              var p = _step.value;
              r += p.lines;
            }
          } catch (err) {
            _didIteratorError = true;
            _iteratorError = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion && _iterator.return != null) {
                _iterator.return();
              }
            } finally {
              if (_didIteratorError) {
                throw _iteratorError;
              }
            }
          }
          if (r < 32) {
            var p1 = [];
            var _iteratorNormalCompletion1 = true,
              _didIteratorError1 = false,
              _iteratorError1 = undefined;
            try {
              for (var _iterator1 = e[Symbol.iterator](), _step1; !(_iteratorNormalCompletion1 = (_step1 = _iterator1.next()).done); _iteratorNormalCompletion1 = true) {
                var m = _step1.value;
                m.flatten(p1);
              }
            } catch (err) {
              _didIteratorError1 = true;
              _iteratorError1 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion1 && _iterator1.return != null) {
                  _iterator1.return();
                }
              } finally {
                if (_didIteratorError1) {
                  throw _iteratorError1;
                }
              }
            }
            return new Je(p1, t);
          }
          var n = Math.max(32, r >> 5),
            s = n << 1,
            o = n >> 1,
            u = [],
            l = 0,
            h = -1,
            c = [];
          function f(p) {
            var m;
            var _iteratorNormalCompletion = true,
              _didIteratorError = false,
              _iteratorError = undefined;
            if (p.lines > s && p instanceof i)
              try {
                for (var _iterator = p.children[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
                  var b = _step.value;
                  f(b);
                }
              } catch (err) {
                _didIteratorError = true;
                _iteratorError = err;
              } finally {
                try {
                  if (!_iteratorNormalCompletion && _iterator.return != null) {
                    _iterator.return();
                  }
                } finally {
                  if (_didIteratorError) {
                    throw _iteratorError;
                  }
                }
              }
            else p.lines > o && (l > o || !l) ? (d(), u.push(p)) : p instanceof Je && l && (m = c[c.length - 1]) instanceof Je && p.lines + m.lines <= 32 ? ((l += p.lines), (h += p.length + 1), (c[c.length - 1] = new Je(m.text.concat(p.text), m.length + 1 + p.length))) : (l + p.lines > n && d(), (l += p.lines), (h += p.length + 1), c.push(p));
          }
          a(f, "add");
          function d() {
            l != 0 && (u.push(c.length == 1 ? c[0] : i.from(c, h)), (h = -1), (l = c.length = 0));
          }
          a(d, "flush");
          var _iteratorNormalCompletion2 = true,
            _didIteratorError2 = false,
            _iteratorError2 = undefined;
          try {
            for (var _iterator2 = e[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {
              var p2 = _step2.value;
              f(p2);
            }
          } catch (err) {
            _didIteratorError2 = true;
            _iteratorError2 = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion2 && _iterator2.return != null) {
                _iterator2.return();
              }
            } finally {
              if (_didIteratorError2) {
                throw _iteratorError2;
              }
            }
          }
          return d(), u.length == 1 ? u[0] : new i(u, t);
        }
        constructor(e, t) {
          super(), (this.children = e), (this.length = t), (this.lines = 0);
          var _iteratorNormalCompletion = true,
            _didIteratorError = false,
            _iteratorError = undefined;
          try {
            for (var _iterator = e[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
              var r = _step.value;
              this.lines += r.lines;
            }
          } catch (err) {
            _didIteratorError = true;
            _iteratorError = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion && _iterator.return != null) {
                _iterator.return();
              }
            } finally {
              if (_didIteratorError) {
                throw _iteratorError;
              }
            }
          }
        }
      }),
      (() => {
        a(_i3, "TextNode");
      })(),
      _i3);
  de.empty = new Je([""], 0);
  function gv(i) {
    var e = -1;
    var _iteratorNormalCompletion = true,
      _didIteratorError = false,
      _iteratorError = undefined;
    try {
      for (var _iterator = i[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
        var t = _step.value;
        e += t.length + 1;
      }
    } catch (err) {
      _didIteratorError = true;
      _iteratorError = err;
    } finally {
      try {
        if (!_iteratorNormalCompletion && _iterator.return != null) {
          _iterator.return();
        }
      } finally {
        if (_didIteratorError) {
          throw _iteratorError;
        }
      }
    }
    return e;
  }
  a(gv, "textLength");
  function Es(i, e) {
    var t = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : 0,
      r = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : 1e9;
    for (var n = 0, s = 0, o = !0; s < i.length && n <= r; s++) {
      var u = i[s],
        l = n + u.length;
      l >= t && (l > r && (u = u.slice(0, r - n)), n < t && (u = u.slice(t - n)), o ? ((e[e.length - 1] += u), (o = !1)) : e.push(u)), (n = l + 1);
    }
    return e;
  }
  a(Es, "appendText");
  function k0(i, e, t) {
    return Es(i, [""], e, t);
  }
  a(k0, "sliceText");
  var Fi =
      ((_class18 = class _class {
        nextInner(e, t) {
          for (this.done = this.lineBreak = !1; ; ) {
            var r = this.nodes.length - 1,
              n = this.nodes[r],
              s = this.offsets[r],
              o = s >> 1,
              u = n instanceof Je ? n.text.length : n.children.length;
            if (o == (t > 0 ? u : 0)) {
              if (r == 0) return (this.done = !0), (this.value = ""), this;
              t > 0 && this.offsets[r - 1]++, this.nodes.pop(), this.offsets.pop();
            } else if ((s & 1) == (t > 0 ? 0 : 1)) {
              if (((this.offsets[r] += t), e == 0)) return (this.lineBreak = !0), (this.value = "\n"), this;
              e--;
            } else if (n instanceof Je) {
              var l = n.text[o + (t < 0 ? -1 : 0)];
              if (((this.offsets[r] += t), l.length > Math.max(0, e))) return (this.value = e == 0 ? l : t > 0 ? l.slice(e) : l.slice(0, l.length - e)), this;
              e -= l.length;
            } else {
              var l1 = n.children[o + (t < 0 ? -1 : 0)];
              e > l1.length ? ((e -= l1.length), (this.offsets[r] += t)) : (t < 0 && this.offsets[r]--, this.nodes.push(l1), this.offsets.push(t > 0 ? 1 : (l1 instanceof Je ? l1.text.length : l1.children.length) << 1));
            }
          }
        }
        next() {
          var e = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 0;
          return e < 0 && (this.nextInner(-e, -this.dir), (e = this.value.length)), this.nextInner(e, this.dir);
        }
        constructor(e, ref) {
          var t = ref === void 0 ? 1 : ref;
          (this.dir = t), (this.done = !1), (this.lineBreak = !1), (this.value = ""), (this.nodes = [e]), (this.offsets = [t > 0 ? 1 : (e instanceof Je ? e.text.length : e.children.length) << 1]);
        }
      }),
      (() => {
        a(_class18, "RawTextCursor");
      })(),
      _class18),
    vs =
      ((_class19 = class _class {
        nextInner(e, t) {
          if (t < 0 ? this.pos <= this.from : this.pos >= this.to) return (this.value = ""), (this.done = !0), this;
          e += Math.max(0, t < 0 ? this.pos - this.to : this.from - this.pos);
          var r = t < 0 ? this.pos - this.from : this.to - this.pos;
          e > r && (e = r), (r -= e);
          var _this_cursor_next = this.cursor.next(e),
            n = _this_cursor_next.value;
          return (this.pos += (n.length + e) * t), (this.value = n.length <= r ? n : t < 0 ? n.slice(n.length - r) : n.slice(0, r)), (this.done = !this.value), this;
        }
        next() {
          var e = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 0;
          return e < 0 ? (e = Math.max(e, this.from - this.pos)) : e > 0 && (e = Math.min(e, this.to - this.pos)), this.nextInner(e, this.cursor.dir);
        }
        get lineBreak() {
          return this.cursor.lineBreak && this.value != "";
        }
        constructor(e, t, r) {
          (this.value = ""), (this.done = !1), (this.cursor = new Fi(e, t > r ? -1 : 1)), (this.pos = t > r ? e.length : 0), (this.from = Math.min(t, r)), (this.to = Math.max(t, r));
        }
      }),
      (() => {
        a(_class19, "PartialTextCursor");
      })(),
      _class19),
    ks =
      ((_class20 = class _class {
        next() {
          var e = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 0;
          var _this_inner_next = this.inner.next(e),
            t = _this_inner_next.done,
            r = _this_inner_next.lineBreak,
            n = _this_inner_next.value;
          return t ? ((this.done = !0), (this.value = "")) : r ? (this.afterBreak ? (this.value = "") : ((this.afterBreak = !0), this.next())) : ((this.value = n), (this.afterBreak = !1)), this;
        }
        get lineBreak() {
          return !1;
        }
        constructor(e) {
          (this.inner = e), (this.afterBreak = !0), (this.value = ""), (this.done = !1);
        }
      }),
      (() => {
        a(_class20, "LineCursor");
      })(),
      _class20);
  typeof Symbol < "u" &&
    ((de.prototype[Symbol.iterator] = function () {
      return this.iter();
    }),
    (Fi.prototype[Symbol.iterator] =
      vs.prototype[Symbol.iterator] =
      ks.prototype[Symbol.iterator] =
        function () {
          return this;
        }));
  var kl =
      ((_class21 = class _class {
        get length() {
          return this.to - this.from;
        }
        constructor(e, t, r, n) {
          (this.from = e), (this.to = t), (this.number = r), (this.text = n);
        }
      }),
      (() => {
        a(_class21, "Line");
      })(),
      _class21),
    Zi =
      "lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o"
        .split(",")
        .map((i) => (i ? parseInt(i, 36) : 1));
  for (var i = 1; i < Zi.length; i++) Zi[i] += Zi[i - 1];
  function Dv(i) {
    for (var e = 1; e < Zi.length; e += 2) if (Zi[e] > i) return Zi[e - 1] <= i;
    return !1;
  }
  a(Dv, "isExtendingChar");
  function w0(i) {
    return i >= 127462 && i <= 127487;
  }
  a(w0, "isRegionalIndicator");
  var x0 = 8205;
  function yt(i, e) {
    var t = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : !0,
      r = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : !0;
    return (t ? R0 : bv)(i, e, r);
  }
  a(yt, "findClusterBreak");
  function R0(i, e, t) {
    if (e == i.length) return e;
    e && M0(i.charCodeAt(e)) && $0(i.charCodeAt(e - 1)) && e--;
    var r = Ur(i, e);
    for (e += ws(r); e < i.length; ) {
      var n = Ur(i, e);
      if (r == x0 || n == x0 || (t && Dv(n))) (e += ws(n)), (r = n);
      else if (w0(n)) {
        var s = 0,
          o = e - 2;
        for (; o >= 0 && w0(Ur(i, o)); ) s++, (o -= 2);
        if (s % 2 == 0) break;
        e += 2;
      } else break;
    }
    return e;
  }
  a(R0, "nextClusterBreak");
  function bv(i, e, t) {
    for (; e > 0; ) {
      var r = R0(i, e - 2, t);
      if (r < e) return r;
      e--;
    }
    return 0;
  }
  a(bv, "prevClusterBreak");
  function M0(i) {
    return i >= 56320 && i < 57344;
  }
  a(M0, "surrogateLow");
  function $0(i) {
    return i >= 55296 && i < 56320;
  }
  a($0, "surrogateHigh");
  function Ur(i, e) {
    var t = i.charCodeAt(e);
    if (!$0(t) || e + 1 == i.length) return t;
    var r = i.charCodeAt(e + 1);
    return M0(r) ? ((t - 55296) << 10) + (r - 56320) + 65536 : t;
  }
  a(Ur, "codePointAt");
  function ws(i) {
    return i < 65536 ? 1 : 2;
  }
  a(ws, "codePointSize");
  var wl = /\r\n?|\n/,
    je = (function (i) {
      return (i[(i.Simple = 0)] = "Simple"), (i[(i.TrackDel = 1)] = "TrackDel"), (i[(i.TrackBefore = 2)] = "TrackBefore"), (i[(i.TrackAfter = 3)] = "TrackAfter"), i;
    })(je || (je = {})),
    zt =
      ((_i4 = class i {
        get length() {
          var e = 0;
          for (var t = 0; t < this.sections.length; t += 2) e += this.sections[t];
          return e;
        }
        get newLength() {
          var e = 0;
          for (var t = 0; t < this.sections.length; t += 2) {
            var r = this.sections[t + 1];
            e += r < 0 ? this.sections[t] : r;
          }
          return e;
        }
        get empty() {
          return this.sections.length == 0 || (this.sections.length == 2 && this.sections[1] < 0);
        }
        iterGaps(e) {
          for (var t = 0, r = 0, n = 0; t < this.sections.length; ) {
            var s = this.sections[t++],
              o = this.sections[t++];
            o < 0 ? (e(r, n, s), (n += s)) : (n += o), (r += s);
          }
        }
        iterChangedRanges(e) {
          var t = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : !1;
          xl(this, e, t);
        }
        get invertedDesc() {
          var e = [];
          for (var t = 0; t < this.sections.length; ) {
            var r = this.sections[t++],
              n = this.sections[t++];
            n < 0 ? e.push(r, n) : e.push(n, r);
          }
          return new i(e);
        }
        composeDesc(e) {
          return this.empty ? e : e.empty ? this : P0(this, e);
        }
        mapDesc(e) {
          var t = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : !1;
          return e.empty ? this : Sl(this, e, t);
        }
        mapPos(e) {
          var t = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : -1,
            r = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : je.Simple;
          var n = 0,
            s = 0;
          for (var o = 0; o < this.sections.length; ) {
            var u = this.sections[o++],
              l = this.sections[o++],
              h = n + u;
            if (l < 0) {
              if (h > e) return s + (e - n);
              s += u;
            } else {
              if (r != je.Simple && h >= e && ((r == je.TrackDel && n < e && h > e) || (r == je.TrackBefore && n < e) || (r == je.TrackAfter && h > e))) return null;
              if (h > e || (h == e && t < 0 && !u)) return e == n || t < 0 ? s : s + l;
              s += l;
            }
            n = h;
          }
          if (e > n) throw new RangeError("Position ".concat(e, " is out of range for changeset of length ").concat(n));
          return s;
        }
        touchesRange(e) {
          var t = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : e;
          for (var r = 0, n = 0; r < this.sections.length && n <= t; ) {
            var s = this.sections[r++],
              o = this.sections[r++],
              u = n + s;
            if (o >= 0 && n <= t && u >= e) return n < e && u > t ? "cover" : !0;
            n = u;
          }
          return !1;
        }
        toString() {
          var e = "";
          for (var t = 0; t < this.sections.length; ) {
            var r = this.sections[t++],
              n = this.sections[t++];
            e += (e ? " " : "") + r + (n >= 0 ? ":" + n : "");
          }
          return e;
        }
        toJSON() {
          return this.sections;
        }
        static fromJSON(e) {
          if (!Array.isArray(e) || e.length % 2 || e.some((t) => typeof t != "number")) throw new RangeError("Invalid JSON representation of ChangeDesc");
          return new i(e);
        }
        static create(e) {
          return new i(e);
        }
        constructor(e) {
          this.sections = e;
        }
      }),
      (() => {
        a(_i4, "ChangeDesc");
      })(),
      _i4),
    Ue =
      ((_i5 = class i extends zt {
        apply(e) {
          if (this.length != e.length) throw new RangeError("Applying change set to a document with the wrong length");
          return xl(this, (t, r, n, s, o) => (e = e.replace(n, n + (r - t), o)), !1), e;
        }
        mapDesc(e) {
          var t = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : !1;
          return Sl(this, e, t, !0);
        }
        invert(e) {
          var t = this.sections.slice(),
            r = [];
          for (var n = 0, s = 0; n < t.length; n += 2) {
            var o = t[n],
              u = t[n + 1];
            if (u >= 0) {
              (t[n] = u), (t[n + 1] = o);
              var l = n >> 1;
              for (; r.length < l; ) r.push(de.empty);
              r.push(o ? e.slice(s, s + o) : de.empty);
            }
            s += o;
          }
          return new i(t, r);
        }
        compose(e) {
          return this.empty ? e : e.empty ? this : P0(this, e, !0);
        }
        map(e) {
          var t = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : !1;
          return e.empty ? this : Sl(this, e, t, !0);
        }
        iterChanges(e) {
          var t = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : !1;
          xl(this, e, t);
        }
        get desc() {
          return zt.create(this.sections);
        }
        filter(e) {
          var t = [],
            r = [],
            n = [],
            s = new yi(this);
          e: for (var o = 0, u = 0; ; ) {
            var l = o == e.length ? 1e9 : e[o++];
            for (; u < l || (u == l && s.len == 0); ) {
              if (s.done) break e;
              var c = Math.min(s.len, l - u);
              qe(n, c, -1);
              var f = s.ins == -1 ? -1 : s.off == 0 ? s.ins : 0;
              qe(t, c, f), f > 0 && Jt(r, t, s.text), s.forward(c), (u += c);
            }
            var h = e[o++];
            for (; u < h; ) {
              if (s.done) break e;
              var c1 = Math.min(s.len, h - u);
              qe(t, c1, -1), qe(n, c1, s.ins == -1 ? -1 : s.off == 0 ? s.ins : 0), s.forward(c1), (u += c1);
            }
          }
          return { changes: new i(t, r), filtered: zt.create(n) };
        }
        toJSON() {
          var e = [];
          for (var t = 0; t < this.sections.length; t += 2) {
            var r = this.sections[t],
              n = this.sections[t + 1];
            n < 0 ? e.push(r) : n == 0 ? e.push([r]) : e.push([r].concat(this.inserted[t >> 1].toJSON()));
          }
          return e;
        }
        static of(e, t, r) {
          var n = [],
            s = [],
            o = 0,
            u = null;
          function l() {
            var c = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : !1;
            if (!c && !n.length) return;
            o < t && qe(n, t - o, -1);
            var f = new i(n, s);
            (u = u ? u.compose(f.map(u)) : f), (n = []), (s = []), (o = 0);
          }
          a(l, "flush");
          function h(c) {
            var _iteratorNormalCompletion = true,
              _didIteratorError = false,
              _iteratorError = undefined;
            if (Array.isArray(c))
              try {
                for (var _iterator = c[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
                  var f = _step.value;
                  h(f);
                }
              } catch (err) {
                _didIteratorError = true;
                _iteratorError = err;
              } finally {
                try {
                  if (!_iteratorNormalCompletion && _iterator.return != null) {
                    _iterator.return();
                  }
                } finally {
                  if (_didIteratorError) {
                    throw _iteratorError;
                  }
                }
              }
            else if (c instanceof i) {
              if (c.length != t) throw new RangeError("Mismatched change set length (got ".concat(c.length, ", expected ").concat(t, ")"));
              l(), (u = u ? u.compose(c.map(u)) : c);
            } else {
              var f1 = c.from,
                tmp = c.to,
                d = tmp === void 0 ? f1 : tmp,
                p = c.insert;
              if (f1 > d || f1 < 0 || d > t) throw new RangeError("Invalid change range ".concat(f1, " to ").concat(d, " (in doc of length ").concat(t, ")"));
              var m = p ? (typeof p == "string" ? de.of(p.split(r || wl)) : p) : de.empty,
                b = m.length;
              if (f1 == d && b == 0) return;
              f1 < o && l(), f1 > o && qe(n, f1 - o, -1), qe(n, d - f1, b), Jt(s, n, m), (o = d);
            }
          }
          return a(h, "process"), h(e), l(!u), u;
        }
        static empty(e) {
          return new i(e ? [e, -1] : [], []);
        }
        static fromJSON(e) {
          if (!Array.isArray(e)) throw new RangeError("Invalid JSON representation of ChangeSet");
          var t = [],
            r = [];
          for (var n = 0; n < e.length; n++) {
            var s = e[n];
            if (typeof s == "number") t.push(s, -1);
            else {
              if (!Array.isArray(s) || typeof s[0] != "number" || s.some((o, u) => u && typeof o != "string")) throw new RangeError("Invalid JSON representation of ChangeSet");
              if (s.length == 1) t.push(s[0], 0);
              else {
                for (; r.length < n; ) r.push(de.empty);
                (r[n] = de.of(s.slice(1))), t.push(s[0], r[n].length);
              }
            }
          }
          return new i(t, r);
        }
        static createSet(e, t) {
          return new i(e, t);
        }
        constructor(e, t) {
          super(e), (this.inserted = t);
        }
      }),
      (() => {
        a(_i5, "ChangeSet");
      })(),
      _i5);
  function qe(i, e, t) {
    var r = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : !1;
    if (e == 0 && t <= 0) return;
    var n = i.length - 2;
    n >= 0 && t <= 0 && t == i[n + 1] ? (i[n] += e) : e == 0 && i[n] == 0 ? (i[n + 1] += t) : r ? ((i[n] += e), (i[n + 1] += t)) : i.push(e, t);
  }
  a(qe, "addSection");
  function Jt(i, e, t) {
    if (t.length == 0) return;
    var r = (e.length - 2) >> 1;
    if (r < i.length) i[i.length - 1] = i[i.length - 1].append(t);
    else {
      for (; i.length < r; ) i.push(de.empty);
      i.push(t);
    }
  }
  a(Jt, "addInsert");
  function xl(i, e, t) {
    var r = i.inserted;
    for (var n = 0, s = 0, o = 0; o < i.sections.length; ) {
      var u = i.sections[o++],
        l = i.sections[o++];
      if (l < 0) (n += u), (s += u);
      else {
        var h = n,
          c = s,
          f = de.empty;
        for (; (h += u), (c += l), l && r && (f = f.append(r[(o - 2) >> 1])), !(t || o == i.sections.length || i.sections[o + 1] < 0); ) (u = i.sections[o++]), (l = i.sections[o++]);
        e(n, h, s, c, f), (n = h), (s = c);
      }
    }
  }
  a(xl, "iterChanges");
  function Sl(i, e, t) {
    var r = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : !1;
    var n = [],
      s = r ? [] : null,
      o = new yi(i),
      u = new yi(e);
    for (var l = -1; ; )
      if (o.ins == -1 && u.ins == -1) {
        var h = Math.min(o.len, u.len);
        qe(n, h, -1), o.forward(h), u.forward(h);
      } else if (u.ins >= 0 && (o.ins < 0 || l == o.i || (o.off == 0 && (u.len < o.len || (u.len == o.len && !t))))) {
        var h1 = u.len;
        for (qe(n, u.ins, -1); h1; ) {
          var c = Math.min(o.len, h1);
          o.ins >= 0 && l < o.i && o.len <= c && (qe(n, 0, o.ins), s && Jt(s, n, o.text), (l = o.i)), o.forward(c), (h1 -= c);
        }
        u.next();
      } else if (o.ins >= 0) {
        var h2 = 0,
          c1 = o.len;
        for (; c1; )
          if (u.ins == -1) {
            var f = Math.min(c1, u.len);
            (h2 += f), (c1 -= f), u.forward(f);
          } else if (u.ins == 0 && u.len < c1) (c1 -= u.len), u.next();
          else break;
        qe(n, h2, l < o.i ? o.ins : 0), s && l < o.i && Jt(s, n, o.text), (l = o.i), o.forward(o.len - c1);
      } else {
        if (o.done && u.done) return s ? Ue.createSet(n, s) : zt.create(n);
        throw new Error("Mismatched change set lengths");
      }
  }
  a(Sl, "mapSet");
  function P0(i, e) {
    var t = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : !1;
    var r = [],
      n = t ? [] : null,
      s = new yi(i),
      o = new yi(e);
    for (var u = !1; ; ) {
      if (s.done && o.done) return n ? Ue.createSet(r, n) : zt.create(r);
      if (s.ins == 0) qe(r, s.len, 0, u), s.next();
      else if (o.len == 0 && !o.done) qe(r, 0, o.ins, u), n && Jt(n, r, o.text), o.next();
      else {
        if (s.done || o.done) throw new Error("Mismatched change set lengths");
        {
          var l = Math.min(s.len2, o.len),
            h = r.length;
          if (s.ins == -1) {
            var c = o.ins == -1 ? -1 : o.off ? 0 : o.ins;
            qe(r, l, c, u), n && c && Jt(n, r, o.text);
          } else o.ins == -1 ? (qe(r, s.off ? 0 : s.len, l, u), n && Jt(n, r, s.textBit(l))) : (qe(r, s.off ? 0 : s.len, o.off ? 0 : o.ins, u), n && !o.off && Jt(n, r, o.text));
          (u = (s.ins > l || (o.ins >= 0 && o.len > l)) && (u || r.length > h)), s.forward2(l), o.forward(l);
        }
      }
    }
  }
  a(P0, "composeSets");
  var yi =
      ((_class22 = class _class {
        next() {
          var _this_set = this.set,
            e = _this_set.sections;
          this.i < e.length ? ((this.len = e[this.i++]), (this.ins = e[this.i++])) : ((this.len = 0), (this.ins = -2)), (this.off = 0);
        }
        get done() {
          return this.ins == -2;
        }
        get len2() {
          return this.ins < 0 ? this.len : this.ins;
        }
        get text() {
          var _this_set = this.set,
            e = _this_set.inserted,
            t = (this.i - 2) >> 1;
          return t >= e.length ? de.empty : e[t];
        }
        textBit(e) {
          var _this_set = this.set,
            t = _this_set.inserted,
            r = (this.i - 2) >> 1;
          return r >= t.length && !e ? de.empty : t[r].slice(this.off, e == null ? void 0 : this.off + e);
        }
        forward(e) {
          e == this.len ? this.next() : ((this.len -= e), (this.off += e));
        }
        forward2(e) {
          this.ins == -1 ? this.forward(e) : e == this.ins ? this.next() : ((this.ins -= e), (this.off += e));
        }
        constructor(e) {
          (this.set = e), (this.i = 0), this.next();
        }
      }),
      (() => {
        a(_class22, "SectionIter");
      })(),
      _class22),
    Qi =
      ((_i6 = class i {
        get anchor() {
          return this.flags & 16 ? this.to : this.from;
        }
        get head() {
          return this.flags & 16 ? this.from : this.to;
        }
        get empty() {
          return this.from == this.to;
        }
        get assoc() {
          return this.flags & 4 ? -1 : this.flags & 8 ? 1 : 0;
        }
        get bidiLevel() {
          var e = this.flags & 3;
          return e == 3 ? null : e;
        }
        get goalColumn() {
          var e = this.flags >> 5;
          return e == 33554431 ? void 0 : e;
        }
        map(e) {
          var t = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : -1;
          var r, n;
          return this.empty ? (r = n = e.mapPos(this.from, t)) : ((r = e.mapPos(this.from, 1)), (n = e.mapPos(this.to, -1))), r == this.from && n == this.to ? this : new i(r, n, this.flags);
        }
        extend(e) {
          var t = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : e;
          if (e <= this.anchor && t >= this.anchor) return Q.range(e, t);
          var r = Math.abs(e - this.anchor) > Math.abs(t - this.anchor) ? e : t;
          return Q.range(this.anchor, r);
        }
        eq(e) {
          return this.anchor == e.anchor && this.head == e.head;
        }
        toJSON() {
          return { anchor: this.anchor, head: this.head };
        }
        static fromJSON(e) {
          if (!e || typeof e.anchor != "number" || typeof e.head != "number") throw new RangeError("Invalid JSON representation for SelectionRange");
          return Q.range(e.anchor, e.head);
        }
        static create(e, t, r) {
          return new i(e, t, r);
        }
        constructor(e, t, r) {
          (this.from = e), (this.to = t), (this.flags = r);
        }
      }),
      (() => {
        a(_i6, "SelectionRange");
      })(),
      _i6),
    Q =
      ((_i7 = class i {
        map(e) {
          var t = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : -1;
          return e.empty
            ? this
            : i.create(
                this.ranges.map((r) => r.map(e, t)),
                this.mainIndex
              );
        }
        eq(e) {
          if (this.ranges.length != e.ranges.length || this.mainIndex != e.mainIndex) return !1;
          for (var t = 0; t < this.ranges.length; t++) if (!this.ranges[t].eq(e.ranges[t])) return !1;
          return !0;
        }
        get main() {
          return this.ranges[this.mainIndex];
        }
        asSingle() {
          return this.ranges.length == 1 ? this : new i([this.main], 0);
        }
        addRange(e) {
          var t = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : !0;
          return i.create([e].concat(this.ranges), t ? 0 : this.mainIndex + 1);
        }
        replaceRange(e) {
          var t = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : this.mainIndex;
          var r = this.ranges.slice();
          return (r[t] = e), i.create(r, this.mainIndex);
        }
        toJSON() {
          return { ranges: this.ranges.map((e) => e.toJSON()), main: this.mainIndex };
        }
        static fromJSON(e) {
          if (!e || !Array.isArray(e.ranges) || typeof e.main != "number" || e.main >= e.ranges.length) throw new RangeError("Invalid JSON representation for EditorSelection");
          return new i(
            e.ranges.map((t) => Qi.fromJSON(t)),
            e.main
          );
        }
        static single(e) {
          var t = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : e;
          return new i([i.range(e, t)], 0);
        }
        static create(e) {
          var t = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0;
          if (e.length == 0) throw new RangeError("A selection needs at least one range");
          for (var r = 0, n = 0; n < e.length; n++) {
            var s = e[n];
            if (s.empty ? s.from <= r : s.from < r) return i.normalized(e.slice(), t);
            r = s.to;
          }
          return new i(e, t);
        }
        static cursor(e) {
          var t = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0,
            r = arguments.length > 2 ? arguments[2] : void 0,
            n = arguments.length > 3 ? arguments[3] : void 0;
          return Qi.create(e, e, (t == 0 ? 0 : t < 0 ? 4 : 8) | (r == null ? 3 : Math.min(2, r)) | ((n !== null && n !== void 0 ? n : 33554431) << 5));
        }
        static range(e, t, r, n) {
          var s = ((r !== null && r !== void 0 ? r : 33554431) << 5) | (n == null ? 3 : Math.min(2, n));
          return t < e ? Qi.create(t, e, 24 | s) : Qi.create(e, t, (t > e ? 4 : 0) | s);
        }
        static normalized(e) {
          var t = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0;
          var r = e[t];
          e.sort((n, s) => n.from - s.from), (t = e.indexOf(r));
          for (var n = 1; n < e.length; n++) {
            var s = e[n],
              o = e[n - 1];
            if (s.empty ? s.from <= o.to : s.from < o.to) {
              var u = o.from,
                l = Math.max(s.to, o.to);
              n <= t && t--, e.splice(--n, 2, s.anchor > s.head ? i.range(l, u) : i.range(u, l));
            }
          }
          return new i(e, t);
        }
        constructor(e, t) {
          (this.ranges = e), (this.mainIndex = t);
        }
      }),
      (() => {
        a(_i7, "EditorSelection");
      })(),
      _i7);
  function L0(i, e) {
    var _iteratorNormalCompletion = true,
      _didIteratorError = false,
      _iteratorError = undefined;
    try {
      for (var _iterator = i.ranges[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
        var t = _step.value;
        if (t.to > e) throw new RangeError("Selection points outside of document");
      }
    } catch (err) {
      _didIteratorError = true;
      _iteratorError = err;
    } finally {
      try {
        if (!_iteratorNormalCompletion && _iterator.return != null) {
          _iterator.return();
        }
      } finally {
        if (_didIteratorError) {
          throw _iteratorError;
        }
      }
    }
  }
  a(L0, "checkSelection");
  var Ll = 0,
    G =
      ((_i8 = class i {
        static define() {
          var e = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};
          return new i(e.combine || ((t) => t), e.compareInput || ((t, r) => t === r), e.compare || (e.combine ? (t, r) => t === r : ql), !!e.static, e.enables);
        }
        of(e) {
          return new er([], this, 0, e);
        }
        compute(e, t) {
          if (this.isStatic) throw new Error("Can't compute a static facet");
          return new er(e, this, 1, t);
        }
        computeN(e, t) {
          if (this.isStatic) throw new Error("Can't compute a static facet");
          return new er(e, this, 2, t);
        }
        from(e, t) {
          return t || (t = a((r) => r, "get")), this.compute([e], (r) => t(r.field(e)));
        }
        constructor(e, t, r, n, s) {
          (this.combine = e), (this.compareInput = t), (this.compare = r), (this.isStatic = n), (this.id = Ll++), (this.default = e([])), (this.extensions = typeof s == "function" ? s(this) : s);
        }
      }),
      (() => {
        a(_i8, "Facet");
      })(),
      _i8);
  function ql(i, e) {
    return i == e || (i.length == e.length && i.every((t, r) => t === e[r]));
  }
  a(ql, "sameArray");
  var er =
    ((_class23 = class _class {
      dynamicSlot(e) {
        var t;
        var r = this.value,
          n = this.facet.compareInput,
          s = this.id,
          o = e[s] >> 1,
          u = this.type == 2,
          l = !1,
          h = !1,
          c = [];
        var _iteratorNormalCompletion = true,
          _didIteratorError = false,
          _iteratorError = undefined;
        try {
          for (var _iterator = this.dependencies[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
            var f = _step.value;
            f == "doc" ? (l = !0) : f == "selection" ? (h = !0) : ((t = e[f.id]) !== null && t !== void 0 ? t : 1) & 1 || c.push(e[f.id]);
          }
        } catch (err) {
          _didIteratorError = true;
          _iteratorError = err;
        } finally {
          try {
            if (!_iteratorNormalCompletion && _iterator.return != null) {
              _iterator.return();
            }
          } finally {
            if (_didIteratorError) {
              throw _iteratorError;
            }
          }
        }
        return {
          create(f) {
            return (f.values[o] = r(f)), 1;
          },
          update(f, d) {
            if ((l && d.docChanged) || (h && (d.docChanged || d.selection)) || Bl(f, c)) {
              var p = r(f);
              if (u ? !S0(p, f.values[o], n) : !n(p, f.values[o])) return (f.values[o] = p), 1;
            }
            return 0;
          },
          reconfigure: (f, d) => {
            var p,
              m = d.config.address[s];
            if (m != null) {
              var b = Bs(d, m);
              if (this.dependencies.every((g) => (g instanceof G ? d.facet(g) === f.facet(g) : g instanceof Ie ? d.field(g, !1) == f.field(g, !1) : !0)) || (u ? S0((p = r(f)), b, n) : n((p = r(f)), b))) return (f.values[o] = b), 0;
            } else p = r(f);
            return (f.values[o] = p), 1;
          },
        };
      }
      constructor(e, t, r, n) {
        (this.dependencies = e), (this.facet = t), (this.type = r), (this.value = n), (this.id = Ll++);
      }
    }),
    (() => {
      a(_class23, "FacetProvider");
    })(),
    _class23);
  function S0(i, e, t) {
    if (i.length != e.length) return !1;
    for (var r = 0; r < i.length; r++) if (!t(i[r], e[r])) return !1;
    return !0;
  }
  a(S0, "compareArray");
  function Bl(i, e) {
    var t = !1;
    var _iteratorNormalCompletion = true,
      _didIteratorError = false,
      _iteratorError = undefined;
    try {
      for (var _iterator = e[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
        var r = _step.value;
        Gr(i, r) & 1 && (t = !0);
      }
    } catch (err) {
      _didIteratorError = true;
      _iteratorError = err;
    } finally {
      try {
        if (!_iteratorNormalCompletion && _iterator.return != null) {
          _iterator.return();
        }
      } finally {
        if (_didIteratorError) {
          throw _iteratorError;
        }
      }
    }
    return t;
  }
  a(Bl, "ensureAll");
  function Fv(i, e, t) {
    var r = t.map((l) => i[l.id]),
      n = t.map((l) => l.type),
      s = r.filter((l) => !(l & 1)),
      o = i[e.id] >> 1;
    function u(l) {
      var h = [];
      for (var c = 0; c < r.length; c++) {
        var f = Bs(l, r[c]);
        var _iteratorNormalCompletion = true,
          _didIteratorError = false,
          _iteratorError = undefined;
        if (n[c] == 2)
          try {
            for (var _iterator = f[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
              var d = _step.value;
              h.push(d);
            }
          } catch (err) {
            _didIteratorError = true;
            _iteratorError = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion && _iterator.return != null) {
                _iterator.return();
              }
            } finally {
              if (_didIteratorError) {
                throw _iteratorError;
              }
            }
          }
        else h.push(f);
      }
      return e.combine(h);
    }
    return (
      a(u, "get"),
      {
        create(l) {
          var _iteratorNormalCompletion = true,
            _didIteratorError = false,
            _iteratorError = undefined;
          try {
            for (var _iterator = r[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
              var h = _step.value;
              Gr(l, h);
            }
          } catch (err) {
            _didIteratorError = true;
            _iteratorError = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion && _iterator.return != null) {
                _iterator.return();
              }
            } finally {
              if (_didIteratorError) {
                throw _iteratorError;
              }
            }
          }
          return (l.values[o] = u(l)), 1;
        },
        update(l, h) {
          if (!Bl(l, s)) return 0;
          var c = u(l);
          return e.compare(c, l.values[o]) ? 0 : ((l.values[o] = c), 1);
        },
        reconfigure(l, h) {
          var c = Bl(l, r),
            f = h.config.facets[e.id],
            d = h.facet(e);
          if (f && !c && ql(t, f)) return (l.values[o] = d), 0;
          var p = u(l);
          return e.compare(p, d) ? ((l.values[o] = d), 0) : ((l.values[o] = p), 1);
        },
      }
    );
  }
  a(Fv, "dynamicFacetSlot");
  var B0 = G.define({ static: !0 }),
    Ie =
      ((_i9 = class i {
        static define(e) {
          var t = new i(Ll++, e.create, e.update, e.compare || ((r, n) => r === n), e);
          return e.provide && (t.provides = e.provide(t)), t;
        }
        create(e) {
          var _t;
          var t = e.facet(B0).find((r) => r.field == this);
          return (((_t = t) === null || _t === void 0 ? void 0 : _t.create) || this.createF)(e);
        }
        slot(e) {
          var t = e[this.id] >> 1;
          return {
            create: (r) => ((r.values[t] = this.create(r)), 1),
            update: (r, n) => {
              var s = r.values[t],
                o = this.updateF(s, n);
              return this.compareF(s, o) ? 0 : ((r.values[t] = o), 1);
            },
            reconfigure: (r, n) => (n.config.address[this.id] != null ? ((r.values[t] = n.field(this)), 0) : ((r.values[t] = this.create(r)), 1)),
          };
        }
        init(e) {
          return [this, B0.of({ field: this, create: e })];
        }
        get extension() {
          return this;
        }
        constructor(e, t, r, n, s) {
          (this.id = e), (this.createF = t), (this.updateF = r), (this.compareF = n), (this.spec = s), (this.provides = void 0);
        }
      }),
      (() => {
        a(_i9, "StateField");
      })(),
      _i9),
    Di = { lowest: 4, low: 3, default: 2, high: 1, highest: 0 };
  function jr(i) {
    return (e) => new xs(e, i);
  }
  a(jr, "prec");
  var rr = { highest: jr(Di.highest), high: jr(Di.high), default: jr(Di.default), low: jr(Di.low), lowest: jr(Di.lowest) },
    xs =
      ((_class24 = class _class {
        constructor(e, t) {
          (this.inner = e), (this.prec = t);
        }
      }),
      (() => {
        a(_class24, "PrecExtension");
      })(),
      _class24),
    ir =
      ((_i10 = class i {
        of(e) {
          return new Yr(this, e);
        }
        reconfigure(e) {
          return i.reconfigure.of({ compartment: this, extension: e });
        }
        get(e) {
          return e.config.compartments.get(this);
        }
      }),
      (() => {
        a(_i10, "Compartment");
      })(),
      _i10),
    Yr =
      ((_class25 = class _class {
        constructor(e, t) {
          (this.compartment = e), (this.inner = t);
        }
      }),
      (() => {
        a(_class25, "CompartmentInstance");
      })(),
      _class25),
    Ss =
      ((_i11 = class i {
        staticFacet(e) {
          var t = this.address[e.id];
          return t == null ? e.default : this.staticValues[t >> 1];
        }
        static resolve(e, t, r) {
          var _loop = function (d1) {
            var p = s[d1],
              m = p[0].facet,
              b = (c && c[d1]) || [];
            if (p.every((g) => g.type == 0))
              if (((u[m.id] = (l.length << 1) | 1), ql(b, p))) l.push(r.facet(m));
              else {
                var g = m.combine(p.map((D) => D.value));
                l.push(r && m.compare(g, r.facet(m)) ? r.facet(m) : g);
              }
            else {
              var _iteratorNormalCompletion = true,
                _didIteratorError = false,
                _iteratorError = undefined;
              try {
                var _loop = function () {
                  var g = _step.value;
                  g.type == 0 ? ((u[g.id] = (l.length << 1) | 1), l.push(g.value)) : ((u[g.id] = h.length << 1), h.push((D) => g.dynamicSlot(D)));
                };
                for (var _iterator = p[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) _loop();
              } catch (err) {
                _didIteratorError = true;
                _iteratorError = err;
              } finally {
                try {
                  if (!_iteratorNormalCompletion && _iterator.return != null) {
                    _iterator.return();
                  }
                } finally {
                  if (_didIteratorError) {
                    throw _iteratorError;
                  }
                }
              }
              (u[m.id] = h.length << 1), h.push((g) => Fv(g, m, p));
            }
          };
          var _r;
          var n = [],
            s = Object.create(null),
            o = new Map();
          var _iteratorNormalCompletion = true,
            _didIteratorError = false,
            _iteratorError = undefined;
          try {
            for (var _iterator = yv(e, t, o)[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
              var d = _step.value;
              d instanceof Ie ? n.push(d) : (s[d.facet.id] || (s[d.facet.id] = [])).push(d);
            }
          } catch (err) {
            _didIteratorError = true;
            _iteratorError = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion && _iterator.return != null) {
                _iterator.return();
              }
            } finally {
              if (_didIteratorError) {
                throw _iteratorError;
              }
            }
          }
          var u = Object.create(null),
            l = [],
            h = [];
          var _iteratorNormalCompletion1 = true,
            _didIteratorError1 = false,
            _iteratorError1 = undefined;
          try {
            var _loop1 = function () {
              var d = _step1.value;
              (u[d.id] = h.length << 1), h.push((p) => d.slot(p));
            };
            for (var _iterator1 = n[Symbol.iterator](), _step1; !(_iteratorNormalCompletion1 = (_step1 = _iterator1.next()).done); _iteratorNormalCompletion1 = true) _loop1();
          } catch (err) {
            _didIteratorError1 = true;
            _iteratorError1 = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion1 && _iterator1.return != null) {
                _iterator1.return();
              }
            } finally {
              if (_didIteratorError1) {
                throw _iteratorError1;
              }
            }
          }
          var c = (_r = r) === null || _r === void 0 ? void 0 : _r.config.facets;
          for (var d1 in s) _loop(d1);
          var f = h.map((d) => d(u));
          return new i(e, o, f, u, l, s);
        }
        constructor(e, t, r, n, s, o) {
          for (this.base = e, this.compartments = t, this.dynamicSlots = r, this.address = n, this.staticValues = s, this.facets = o, this.statusTemplate = []; this.statusTemplate.length < r.length; ) this.statusTemplate.push(0);
        }
      }),
      (() => {
        a(_i11, "Configuration");
      })(),
      _i11);
  function yv(i, e, t) {
    var r = [[], [], [], [], []],
      n = new Map();
    function s(o, u) {
      var l = n.get(o);
      if (l != null) {
        if (l <= u) return;
        var h = r[l].indexOf(o);
        h > -1 && r[l].splice(h, 1), o instanceof Yr && t.delete(o.compartment);
      }
      var _iteratorNormalCompletion = true,
        _didIteratorError = false,
        _iteratorError = undefined;
      if ((n.set(o, u), Array.isArray(o)))
        try {
          for (var _iterator = o[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
            var h1 = _step.value;
            s(h1, u);
          }
        } catch (err) {
          _didIteratorError = true;
          _iteratorError = err;
        } finally {
          try {
            if (!_iteratorNormalCompletion && _iterator.return != null) {
              _iterator.return();
            }
          } finally {
            if (_didIteratorError) {
              throw _iteratorError;
            }
          }
        }
      else if (o instanceof Yr) {
        if (t.has(o.compartment)) throw new RangeError("Duplicate use of compartment in extensions");
        var h2 = e.get(o.compartment) || o.inner;
        t.set(o.compartment, h2), s(h2, u);
      } else if (o instanceof xs) s(o.inner, o.prec);
      else if (o instanceof Ie) r[u].push(o), o.provides && s(o.provides, u);
      else if (o instanceof er) r[u].push(o), o.facet.extensions && s(o.facet.extensions, Di.default);
      else {
        var h3 = o.extension;
        if (!h3) throw new Error("Unrecognized extension value in extension set (".concat(o, "). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks."));
        s(h3, u);
      }
    }
    return a(s, "inner"), s(i, Di.default), r.reduce((o, u) => o.concat(u));
  }
  a(yv, "flatten");
  function Gr(i, e) {
    if (e & 1) return 2;
    var t = e >> 1,
      r = i.status[t];
    if (r == 4) throw new Error("Cyclic dependency between fields and/or facets");
    if (r & 2) return r;
    i.status[t] = 4;
    var n = i.computeSlot(i, i.config.dynamicSlots[t]);
    return (i.status[t] = 2 | n);
  }
  a(Gr, "ensureAddr");
  function Bs(i, e) {
    return e & 1 ? i.config.staticValues[e >> 1] : i.values[e >> 1];
  }
  a(Bs, "getAddr");
  var q0 = G.define(),
    I0 = G.define({ combine: (i) => i.some((e) => e), static: !0 }),
    N0 = G.define({ combine: (i) => (i.length ? i[0] : void 0), static: !0 }),
    V0 = G.define(),
    z0 = G.define(),
    H0 = G.define(),
    W0 = G.define({ combine: (i) => (i.length ? i[0] : !1) }),
    ot =
      ((_class26 = class _class {
        static define() {
          return new _l();
        }
        constructor(e, t) {
          (this.type = e), (this.value = t);
        }
      }),
      (() => {
        a(_class26, "Annotation");
      })(),
      _class26),
    _l =
      ((_class27 = class _class {
        of(e) {
          return new ot(this, e);
        }
      }),
      (() => {
        a(_class27, "AnnotationType");
      })(),
      _class27),
    Ol =
      ((_class28 = class _class {
        of(e) {
          return new pe(this, e);
        }
        constructor(e) {
          this.map = e;
        }
      }),
      (() => {
        a(_class28, "StateEffectType");
      })(),
      _class28),
    pe =
      ((_i12 = class i {
        map(e) {
          var t = this.type.map(this.value, e);
          return t === void 0 ? void 0 : t == this.value ? this : new i(this.type, t);
        }
        is(e) {
          return this.type == e;
        }
        static define() {
          var e = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};
          return new Ol(e.map || ((t) => t));
        }
        static mapEffects(e, t) {
          if (!e.length) return e;
          var r = [];
          var _iteratorNormalCompletion = true,
            _didIteratorError = false,
            _iteratorError = undefined;
          try {
            for (var _iterator = e[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
              var n = _step.value;
              var s = n.map(t);
              s && r.push(s);
            }
          } catch (err) {
            _didIteratorError = true;
            _iteratorError = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion && _iterator.return != null) {
                _iterator.return();
              }
            } finally {
              if (_didIteratorError) {
                throw _iteratorError;
              }
            }
          }
          return r;
        }
        constructor(e, t) {
          (this.type = e), (this.value = t);
        }
      }),
      (() => {
        a(_i12, "StateEffect");
      })(),
      _i12);
  pe.reconfigure = pe.define();
  pe.appendConfig = pe.define();
  var Pe =
    ((_i13 = class i {
      static create(e, t, r, n, s, o) {
        return new i(e, t, r, n, s, o);
      }
      get newDoc() {
        return this._doc || (this._doc = this.changes.apply(this.startState.doc));
      }
      get newSelection() {
        return this.selection || this.startState.selection.map(this.changes);
      }
      get state() {
        return this._state || this.startState.applyTransaction(this), this._state;
      }
      annotation(e) {
        var _iteratorNormalCompletion = true,
          _didIteratorError = false,
          _iteratorError = undefined;
        try {
          for (var _iterator = this.annotations[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
            var t = _step.value;
            if (t.type == e) return t.value;
          }
        } catch (err) {
          _didIteratorError = true;
          _iteratorError = err;
        } finally {
          try {
            if (!_iteratorNormalCompletion && _iterator.return != null) {
              _iterator.return();
            }
          } finally {
            if (_didIteratorError) {
              throw _iteratorError;
            }
          }
        }
      }
      get docChanged() {
        return !this.changes.empty;
      }
      get reconfigured() {
        return this.startState.config != this.state.config;
      }
      isUserEvent(e) {
        var t = this.annotation(i.userEvent);
        return !!(t && (t == e || (t.length > e.length && t.slice(0, e.length) == e && t[e.length] == ".")));
      }
      constructor(e, t, r, n, s, o) {
        (this.startState = e), (this.changes = t), (this.selection = r), (this.effects = n), (this.annotations = s), (this.scrollIntoView = o), (this._doc = null), (this._state = null), r && L0(r, t.newLength), s.some((u) => u.type == i.time) || (this.annotations = s.concat(i.time.of(Date.now())));
      }
    }),
    (() => {
      a(_i13, "Transaction");
    })(),
    _i13);
  Pe.time = ot.define();
  Pe.userEvent = ot.define();
  Pe.addToHistory = ot.define();
  Pe.remote = ot.define();
  function Cv(i, e) {
    var t = [];
    for (var r = 0, n = 0; ; ) {
      var s = void 0,
        o = void 0;
      if (r < i.length && (n == e.length || e[n] >= i[r])) (s = i[r++]), (o = i[r++]);
      else if (n < e.length) (s = e[n++]), (o = e[n++]);
      else return t;
      !t.length || t[t.length - 1] < s ? t.push(s, o) : t[t.length - 1] < o && (t[t.length - 1] = o);
    }
  }
  a(Cv, "joinRanges");
  function j0(i, e, t) {
    var r;
    var n, s, o;
    return (
      t ? ((n = e.changes), (s = Ue.empty(e.changes.length)), (o = i.changes.compose(e.changes))) : ((n = e.changes.map(i.changes)), (s = i.changes.mapDesc(e.changes, !0)), (o = i.changes.compose(n))),
      { changes: o, selection: e.selection ? e.selection.map(s) : (r = i.selection) === null || r === void 0 ? void 0 : r.map(n), effects: pe.mapEffects(i.effects, n).concat(pe.mapEffects(e.effects, s)), annotations: i.annotations.length ? i.annotations.concat(e.annotations) : e.annotations, scrollIntoView: i.scrollIntoView || e.scrollIntoView }
    );
  }
  a(j0, "mergeTransaction");
  function Tl(i, e, t) {
    var r = e.selection,
      n = tr(e.annotations);
    return e.userEvent && (n = n.concat(Pe.userEvent.of(e.userEvent))), { changes: e.changes instanceof Ue ? e.changes : Ue.of(e.changes || [], t, i.facet(N0)), selection: r && (r instanceof Q ? r : Q.single(r.anchor, r.head)), effects: tr(e.effects), annotations: n, scrollIntoView: !!e.scrollIntoView };
  }
  a(Tl, "resolveTransactionInner");
  function U0(i, e, t) {
    var r = Tl(i, e.length ? e[0] : {}, i.doc.length);
    e.length && e[0].filter === !1 && (t = !1);
    for (var s = 1; s < e.length; s++) {
      e[s].filter === !1 && (t = !1);
      var o = !!e[s].sequential;
      r = j0(r, Tl(i, e[s], o ? r.changes.newLength : i.doc.length), o);
    }
    var n = Pe.create(i, r.changes, r.selection, r.effects, r.annotations, r.scrollIntoView);
    return Ev(t ? Av(n) : n);
  }
  a(U0, "resolveTransaction");
  function Av(i) {
    var e = i.startState,
      t = !0;
    var _iteratorNormalCompletion = true,
      _didIteratorError = false,
      _iteratorError = undefined;
    try {
      for (var _iterator = e.facet(V0)[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
        var n = _step.value;
        var s = n(i);
        if (s === !1) {
          t = !1;
          break;
        }
        Array.isArray(s) && (t = t === !0 ? s : Cv(t, s));
      }
    } catch (err) {
      _didIteratorError = true;
      _iteratorError = err;
    } finally {
      try {
        if (!_iteratorNormalCompletion && _iterator.return != null) {
          _iterator.return();
        }
      } finally {
        if (_didIteratorError) {
          throw _iteratorError;
        }
      }
    }
    if (t !== !0) {
      var n1, s1;
      if (t === !1) (s1 = i.changes.invertedDesc), (n1 = Ue.empty(e.doc.length));
      else {
        var o = i.changes.filter(t);
        (n1 = o.changes), (s1 = o.filtered.mapDesc(o.changes).invertedDesc);
      }
      i = Pe.create(e, n1, i.selection && i.selection.map(s1), pe.mapEffects(i.effects, s1), i.annotations, i.scrollIntoView);
    }
    var r = e.facet(z0);
    for (var n2 = r.length - 1; n2 >= 0; n2--) {
      var s2 = r[n2](i);
      s2 instanceof Pe ? (i = s2) : Array.isArray(s2) && s2.length == 1 && s2[0] instanceof Pe ? (i = s2[0]) : (i = U0(e, tr(s2), !1));
    }
    return i;
  }
  a(Av, "filterTransaction");
  function Ev(i) {
    var e = i.startState,
      t = e.facet(H0),
      r = i;
    for (var n = t.length - 1; n >= 0; n--) {
      var s = t[n](i);
      s && Object.keys(s).length && (r = j0(r, Tl(e, s, i.changes.newLength), !0));
    }
    return r == i ? i : Pe.create(e, i.changes, i.selection, r.effects, r.annotations, r.scrollIntoView);
  }
  a(Ev, "extendTransaction");
  var vv = [];
  function tr(i) {
    return i == null ? vv : Array.isArray(i) ? i : [i];
  }
  a(tr, "asArray");
  var Ft = (function (i) {
      return (i[(i.Word = 0)] = "Word"), (i[(i.Space = 1)] = "Space"), (i[(i.Other = 2)] = "Other"), i;
    })(Ft || (Ft = {})),
    kv = /[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,
    Rl;
  try {
    Rl = new RegExp("[\\p{Alphabetic}\\p{Number}_]", "u");
  } catch (e) {}
  function wv(i) {
    if (Rl) return Rl.test(i);
    for (var e = 0; e < i.length; e++) {
      var t = i[e];
      if (/\w/.test(t) || (t > "\x80" && (t.toUpperCase() != t.toLowerCase() || kv.test(t)))) return !0;
    }
    return !1;
  }
  a(wv, "hasWordChar");
  function xv(i) {
    return (e) => {
      if (!/\S/.test(e)) return Ft.Space;
      if (wv(e)) return Ft.Word;
      for (var t = 0; t < i.length; t++) if (e.indexOf(i[t]) > -1) return Ft.Word;
      return Ft.Other;
    };
  }
  a(xv, "makeCategorizer");
  var Ae =
    ((_i14 = class i {
      field(e) {
        var t = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : !0;
        var r = this.config.address[e.id];
        if (r == null) {
          if (t) throw new RangeError("Field is not present in this state");
          return;
        }
        return Gr(this, r), Bs(this, r);
      }
      update() {
        for (var _len = arguments.length, e = new Array(_len), _key = 0; _key < _len; _key++) {
          e[_key] = arguments[_key];
        }
        return U0(this, e, !0);
      }
      applyTransaction(e) {
        var t = this.config,
          r = t.base,
          n = t.compartments;
        var _iteratorNormalCompletion = true,
          _didIteratorError = false,
          _iteratorError = undefined;
        try {
          for (var _iterator = e.effects[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
            var o = _step.value;
            o.is(ir.reconfigure) ? (t && ((n = new Map()), t.compartments.forEach((u, l) => n.set(l, u)), (t = null)), n.set(o.value.compartment, o.value.extension)) : o.is(pe.reconfigure) ? ((t = null), (r = o.value)) : o.is(pe.appendConfig) && ((t = null), (r = tr(r).concat(o.value)));
          }
        } catch (err) {
          _didIteratorError = true;
          _iteratorError = err;
        } finally {
          try {
            if (!_iteratorNormalCompletion && _iterator.return != null) {
              _iterator.return();
            }
          } finally {
            if (_didIteratorError) {
              throw _iteratorError;
            }
          }
        }
        var s;
        t
          ? (s = e.startState.values.slice())
          : ((t = Ss.resolve(r, n, this)),
            (s = new i(
              t,
              this.doc,
              this.selection,
              t.dynamicSlots.map(() => null),
              (u, l) => l.reconfigure(u, this),
              null
            ).values)),
          new i(t, e.newDoc, e.newSelection, s, (o, u) => u.update(o, e), e);
      }
      replaceSelection(e) {
        return typeof e == "string" && (e = this.toText(e)), this.changeByRange((t) => ({ changes: { from: t.from, to: t.to, insert: e }, range: Q.cursor(t.from + e.length) }));
      }
      changeByRange(e) {
        var t = this.selection,
          r = e(t.ranges[0]),
          n = this.changes(r.changes),
          s = [r.range],
          o = tr(r.effects);
        for (var u = 1; u < t.ranges.length; u++) {
          var l = e(t.ranges[u]),
            h = this.changes(l.changes),
            c = h.map(n);
          for (var d = 0; d < u; d++) s[d] = s[d].map(c);
          var f = n.mapDesc(h, !0);
          s.push(l.range.map(f)), (n = n.compose(c)), (o = pe.mapEffects(o, c).concat(pe.mapEffects(tr(l.effects), f)));
        }
        return { changes: n, selection: Q.create(s, t.mainIndex), effects: o };
      }
      changes() {
        var e = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : [];
        return e instanceof Ue ? e : Ue.of(e, this.doc.length, this.facet(i.lineSeparator));
      }
      toText(e) {
        return de.of(e.split(this.facet(i.lineSeparator) || wl));
      }
      sliceDoc() {
        var e = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 0,
          t = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : this.doc.length;
        return this.doc.sliceString(e, t, this.lineBreak);
      }
      facet(e) {
        var t = this.config.address[e.id];
        return t == null ? e.default : (Gr(this, t), Bs(this, t));
      }
      toJSON(e) {
        var t = { doc: this.sliceDoc(), selection: this.selection.toJSON() };
        if (e)
          for (var r in e) {
            var n = e[r];
            n instanceof Ie && this.config.address[n.id] != null && (t[r] = n.spec.toJSON(this.field(e[r]), this));
          }
        return t;
      }
      static fromJSON(e) {
        var t = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {},
          r = arguments.length > 2 ? arguments[2] : void 0;
        if (!e || typeof e.doc != "string") throw new RangeError("Invalid JSON representation for EditorState");
        var n = [];
        if (r) {
          var _loop = function (s) {
            if (Object.prototype.hasOwnProperty.call(e, s)) {
              var o = r[s],
                u = e[s];
              n.push(o.init((l) => o.spec.fromJSON(u, l)));
            }
          };
          for (var s in r) _loop(s);
        }
        return i.create({ doc: e.doc, selection: Q.fromJSON(e.selection), extensions: t.extensions ? n.concat([t.extensions]) : n });
      }
      static create() {
        var e = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};
        var t = Ss.resolve(e.extensions || [], new Map()),
          r = e.doc instanceof de ? e.doc : de.of((e.doc || "").split(t.staticFacet(i.lineSeparator) || wl)),
          n = e.selection ? (e.selection instanceof Q ? e.selection : Q.single(e.selection.anchor, e.selection.head)) : Q.single(0);
        return (
          L0(n, r.length),
          t.staticFacet(I0) || (n = n.asSingle()),
          new i(
            t,
            r,
            n,
            t.dynamicSlots.map(() => null),
            (s, o) => o.create(s),
            null
          )
        );
      }
      get tabSize() {
        return this.facet(i.tabSize);
      }
      get lineBreak() {
        return this.facet(i.lineSeparator) || "\n";
      }
      get readOnly() {
        return this.facet(W0);
      }
      phrase(e) {
        for (var _len = arguments.length, t = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
          t[_key - 1] = arguments[_key];
        }
        var _iteratorNormalCompletion = true,
          _didIteratorError = false,
          _iteratorError = undefined;
        try {
          for (var _iterator = this.facet(i.phrases)[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
            var r = _step.value;
            if (Object.prototype.hasOwnProperty.call(r, e)) {
              e = r[e];
              break;
            }
          }
        } catch (err) {
          _didIteratorError = true;
          _iteratorError = err;
        } finally {
          try {
            if (!_iteratorNormalCompletion && _iterator.return != null) {
              _iterator.return();
            }
          } finally {
            if (_didIteratorError) {
              throw _iteratorError;
            }
          }
        }
        return (
          t.length &&
            (e = e.replace(/\$(\$|\d*)/g, (r, n) => {
              if (n == "$") return "$";
              var s = +(n || 1);
              return !s || s > t.length ? r : t[s - 1];
            })),
          e
        );
      }
      languageDataAt(e, t) {
        var r = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : -1;
        var n = [];
        var _iteratorNormalCompletion = true,
          _didIteratorError = false,
          _iteratorError = undefined,
          _iteratorNormalCompletion1 = true,
          _didIteratorError1 = false,
          _iteratorError1 = undefined;
        try {
          for (var _iterator = this.facet(q0)[Symbol.iterator](), _step; !(_iteratorNormalCompletion1 = (_step = _iterator.next()).done); _iteratorNormalCompletion1 = true) {
            var s = _step.value;
            try {
              for (var _iterator1 = s(this, t, r)[Symbol.iterator](), _step1; !(_iteratorNormalCompletion = (_step1 = _iterator1.next()).done); _iteratorNormalCompletion = true) {
                var o = _step1.value;
                Object.prototype.hasOwnProperty.call(o, e) && n.push(o[e]);
              }
            } catch (err) {
              _didIteratorError = true;
              _iteratorError = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion && _iterator1.return != null) {
                  _iterator1.return();
                }
              } finally {
                if (_didIteratorError) {
                  throw _iteratorError;
                }
              }
            }
          }
        } catch (err) {
          _didIteratorError1 = true;
          _iteratorError1 = err;
        } finally {
          try {
            if (!_iteratorNormalCompletion1 && _iterator.return != null) {
              _iterator.return();
            }
          } finally {
            if (_didIteratorError1) {
              throw _iteratorError1;
            }
          }
        }
        return n;
      }
      charCategorizer(e) {
        return xv(this.languageDataAt("wordChars", e).join(""));
      }
      wordAt(e) {
        var _this_doc_lineAt = this.doc.lineAt(e),
          t = _this_doc_lineAt.text,
          r = _this_doc_lineAt.from,
          n = _this_doc_lineAt.length,
          s = this.charCategorizer(e),
          o = e - r,
          u = e - r;
        for (; o > 0; ) {
          var l = yt(t, o, !1);
          if (s(t.slice(l, o)) != Ft.Word) break;
          o = l;
        }
        for (; u < n; ) {
          var l1 = yt(t, u);
          if (s(t.slice(u, l1)) != Ft.Word) break;
          u = l1;
        }
        return o == u ? null : Q.range(o + r, u + r);
      }
      constructor(e, t, r, n, s, o) {
        (this.config = e), (this.doc = t), (this.selection = r), (this.values = n), (this.status = e.statusTemplate.slice()), (this.computeSlot = s), o && (o._state = this);
        for (var u = 0; u < this.config.dynamicSlots.length; u++) Gr(this, u << 1);
        this.computeSlot = null;
      }
    }),
    (() => {
      a(_i14, "EditorState");
    })(),
    _i14);
  Ae.allowMultipleSelections = I0;
  Ae.tabSize = G.define({ combine: (i) => (i.length ? i[0] : 4) });
  Ae.lineSeparator = N0;
  Ae.readOnly = W0;
  Ae.phrases = G.define({
    compare(i, e) {
      var t = Object.keys(i),
        r = Object.keys(e);
      return t.length == r.length && t.every((n) => i[n] == e[n]);
    },
  });
  Ae.languageData = q0;
  Ae.changeFilter = V0;
  Ae.transactionFilter = z0;
  Ae.transactionExtender = H0;
  ir.reconfigure = pe.define();
  function Wt(i, e) {
    var t = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {};
    var r = {};
    var _iteratorNormalCompletion = true,
      _didIteratorError = false,
      _iteratorError = undefined,
      _iteratorNormalCompletion1 = true,
      _didIteratorError1 = false,
      _iteratorError1 = undefined;
    try {
      for (var _iterator = i[Symbol.iterator](), _step; !(_iteratorNormalCompletion1 = (_step = _iterator.next()).done); _iteratorNormalCompletion1 = true) {
        var n = _step.value;
        try {
          for (var _iterator1 = Object.keys(n)[Symbol.iterator](), _step1; !(_iteratorNormalCompletion = (_step1 = _iterator1.next()).done); _iteratorNormalCompletion = true) {
            var s = _step1.value;
            var o = n[s],
              u = r[s];
            if (u === void 0) r[s] = o;
            else if (!(u === o || o === void 0))
              if (Object.hasOwnProperty.call(t, s)) r[s] = t[s](u, o);
              else throw new Error("Config merge conflict for field " + s);
          }
        } catch (err) {
          _didIteratorError = true;
          _iteratorError = err;
        } finally {
          try {
            if (!_iteratorNormalCompletion && _iterator1.return != null) {
              _iterator1.return();
            }
          } finally {
            if (_didIteratorError) {
              throw _iteratorError;
            }
          }
        }
      }
    } catch (err) {
      _didIteratorError1 = true;
      _iteratorError1 = err;
    } finally {
      try {
        if (!_iteratorNormalCompletion1 && _iterator.return != null) {
          _iterator.return();
        }
      } finally {
        if (_didIteratorError1) {
          throw _iteratorError1;
        }
      }
    }
    for (var n1 in e) r[n1] === void 0 && (r[n1] = e[n1]);
    return r;
  }
  a(Wt, "combineConfig");
  var Ht =
    ((_class29 = class _class {
      eq(e) {
        return this == e;
      }
      range(e) {
        var t = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : e;
        return Kr.create(e, t, this);
      }
    }),
    (() => {
      a(_class29, "RangeValue");
    })(),
    _class29);
  Ht.prototype.startSide = Ht.prototype.endSide = 0;
  Ht.prototype.point = !1;
  Ht.prototype.mapMode = je.TrackDel;
  var Kr =
    ((_i15 = class i {
      static create(e, t, r) {
        return new i(e, t, r);
      }
      constructor(e, t, r) {
        (this.from = e), (this.to = t), (this.value = r);
      }
    }),
    (() => {
      a(_i15, "Range");
    })(),
    _i15);
  function Ml(i, e) {
    return i.from - e.from || i.value.startSide - e.value.startSide;
  }
  a(Ml, "cmpRange");
  var $l =
      ((_i16 = class i {
        get length() {
          return this.to[this.to.length - 1];
        }
        findIndex(e, t, r) {
          var n = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : 0;
          var s = r ? this.to : this.from;
          for (var o = n, u = s.length; ; ) {
            if (o == u) return o;
            var l = (o + u) >> 1,
              h = s[l] - e || (r ? this.value[l].endSide : this.value[l].startSide) - t;
            if (l == o) return h >= 0 ? o : u;
            h >= 0 ? (u = l) : (o = l + 1);
          }
        }
        between(e, t, r, n) {
          for (var s = this.findIndex(t, -1e9, !0), o = this.findIndex(r, 1e9, !1, s); s < o; s++) if (n(this.from[s] + e, this.to[s] + e, this.value[s]) === !1) return !1;
        }
        map(e, t) {
          var r = [],
            n = [],
            s = [],
            o = -1,
            u = -1;
          for (var l = 0; l < this.value.length; l++) {
            var h = this.value[l],
              c = this.from[l] + e,
              f = this.to[l] + e,
              d = void 0,
              p = void 0;
            if (c == f) {
              var m = t.mapPos(c, h.startSide, h.mapMode);
              if (m == null || ((d = p = m), h.startSide != h.endSide && ((p = t.mapPos(c, h.endSide)), p < d))) continue;
            } else if (((d = t.mapPos(c, h.startSide)), (p = t.mapPos(f, h.endSide)), d > p || (d == p && h.startSide > 0 && h.endSide <= 0))) continue;
            (p - d || h.endSide - h.startSide) < 0 || (o < 0 && (o = d), h.point && (u = Math.max(u, p - d)), r.push(h), n.push(d - o), s.push(p - o));
          }
          return { mapped: r.length ? new i(n, s, r, u) : null, pos: o };
        }
        constructor(e, t, r, n) {
          (this.from = e), (this.to = t), (this.value = r), (this.maxPoint = n);
        }
      }),
      (() => {
        a(_i16, "Chunk");
      })(),
      _i16),
    Ee =
      ((_i17 = class i {
        static create(e, t, r, n) {
          return new i(e, t, r, n);
        }
        get length() {
          var e = this.chunk.length - 1;
          return e < 0 ? 0 : Math.max(this.chunkEnd(e), this.nextLayer.length);
        }
        get size() {
          if (this.isEmpty) return 0;
          var e = this.nextLayer.size;
          var _iteratorNormalCompletion = true,
            _didIteratorError = false,
            _iteratorError = undefined;
          try {
            for (var _iterator = this.chunk[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
              var t = _step.value;
              e += t.value.length;
            }
          } catch (err) {
            _didIteratorError = true;
            _iteratorError = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion && _iterator.return != null) {
                _iterator.return();
              }
            } finally {
              if (_didIteratorError) {
                throw _iteratorError;
              }
            }
          }
          return e;
        }
        chunkEnd(e) {
          return this.chunkPos[e] + this.chunk[e].length;
        }
        update(e) {
          var tmp = e.add,
            t = tmp === void 0 ? [] : tmp,
            tmp1 = e.sort,
            r = tmp1 === void 0 ? !1 : tmp1,
            tmp2 = e.filterFrom,
            n = tmp2 === void 0 ? 0 : tmp2,
            tmp3 = e.filterTo,
            s = tmp3 === void 0 ? this.length : tmp3,
            o = e.filter;
          if (t.length == 0 && !o) return this;
          if ((r && (t = t.slice().sort(Ml)), this.isEmpty)) return t.length ? i.of(t) : this;
          var u = new _s(this, null, -1).goto(0),
            l = 0,
            h = [],
            c = new Ci();
          for (; u.value || l < t.length; )
            if (l < t.length && (u.from - t[l].from || u.startSide - t[l].value.startSide) >= 0) {
              var f = t[l++];
              c.addInner(f.from, f.to, f.value) || h.push(f);
            } else
              u.rangeIndex == 1 && u.chunkIndex < this.chunk.length && (l == t.length || this.chunkEnd(u.chunkIndex) < t[l].from) && (!o || n > this.chunkEnd(u.chunkIndex) || s < this.chunkPos[u.chunkIndex]) && c.addChunk(this.chunkPos[u.chunkIndex], this.chunk[u.chunkIndex])
                ? u.nextChunk()
                : ((!o || n > u.to || s < u.from || o(u.from, u.to, u.value)) && (c.addInner(u.from, u.to, u.value) || h.push(Kr.create(u.from, u.to, u.value))), u.next());
          return c.finishInner(this.nextLayer.isEmpty && !h.length ? i.empty : this.nextLayer.update({ add: h, filter: o, filterFrom: n, filterTo: s }));
        }
        map(e) {
          if (e.empty || this.isEmpty) return this;
          var t = [],
            r = [],
            n = -1;
          for (var o = 0; o < this.chunk.length; o++) {
            var u = this.chunkPos[o],
              l = this.chunk[o],
              h = e.touchesRange(u, u + l.length);
            if (h === !1) (n = Math.max(n, l.maxPoint)), t.push(l), r.push(e.mapPos(u));
            else if (h === !0) {
              var _l_map = l.map(u, e),
                c = _l_map.mapped,
                f = _l_map.pos;
              c && ((n = Math.max(n, c.maxPoint)), t.push(c), r.push(f));
            }
          }
          var s = this.nextLayer.map(e);
          return t.length == 0 ? s : new i(r, t, s || i.empty, n);
        }
        between(e, t, r) {
          if (!this.isEmpty) {
            for (var n = 0; n < this.chunk.length; n++) {
              var s = this.chunkPos[n],
                o = this.chunk[n];
              if (t >= s && e <= s + o.length && o.between(s, e - s, t - s, r) === !1) return;
            }
            this.nextLayer.between(e, t, r);
          }
        }
        iter() {
          var e = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 0;
          return Xr.from([this]).goto(e);
        }
        get isEmpty() {
          return this.nextLayer == this;
        }
        static iter(e) {
          var t = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0;
          return Xr.from(e).goto(t);
        }
        static compare(e, t, r, n) {
          var s = arguments.length > 4 && arguments[4] !== void 0 ? arguments[4] : -1;
          var o = e.filter((f) => f.maxPoint > 0 || (!f.isEmpty && f.maxPoint >= s)),
            u = t.filter((f) => f.maxPoint > 0 || (!f.isEmpty && f.maxPoint >= s)),
            l = _0(o, u, r),
            h = new bi(o, l, s),
            c = new bi(u, l, s);
          r.iterGaps((f, d, p) => O0(h, f, c, d, p, n)), r.empty && r.length == 0 && O0(h, 0, c, 0, 0, n);
        }
        static eq(e, t) {
          var r = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : 0,
            n = arguments.length > 3 ? arguments[3] : void 0;
          n == null && (n = 1e9 - 1);
          var s = e.filter((c) => !c.isEmpty && t.indexOf(c) < 0),
            o = t.filter((c) => !c.isEmpty && e.indexOf(c) < 0);
          if (s.length != o.length) return !1;
          if (!s.length) return !0;
          var u = _0(s, o),
            l = new bi(s, u, 0).goto(r),
            h = new bi(o, u, 0).goto(r);
          for (;;) {
            if (l.to != h.to || !Pl(l.active, h.active) || (l.point && (!h.point || !l.point.eq(h.point)))) return !1;
            if (l.to > n) return !0;
            l.next(), h.next();
          }
        }
        static spans(e, t, r, n) {
          var s = arguments.length > 4 && arguments[4] !== void 0 ? arguments[4] : -1;
          var o = new bi(e, null, s).goto(t),
            u = t,
            l = o.openStart;
          for (;;) {
            var h = Math.min(o.to, r);
            if (o.point) {
              var c = o.activeForPoint(o.to),
                f = o.pointFrom < t ? c.length + 1 : Math.min(c.length, l);
              n.point(u, h, o.point, c, f, o.pointRank), (l = Math.min(o.openEnd(h), c.length));
            } else h > u && (n.span(u, h, o.active, l), (l = o.openEnd(h)));
            if (o.to > r) return l + (o.point && o.to > r ? 1 : 0);
            (u = o.to), o.next();
          }
        }
        static of(e) {
          var t = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : !1;
          var r = new Ci();
          var _iteratorNormalCompletion = true,
            _didIteratorError = false,
            _iteratorError = undefined;
          try {
            for (var _iterator = (e instanceof Kr ? [e] : t ? Sv(e) : e)[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
              var n = _step.value;
              r.add(n.from, n.to, n.value);
            }
          } catch (err) {
            _didIteratorError = true;
            _iteratorError = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion && _iterator.return != null) {
                _iterator.return();
              }
            } finally {
              if (_didIteratorError) {
                throw _iteratorError;
              }
            }
          }
          return r.finish();
        }
        constructor(e, t, r, n) {
          (this.chunkPos = e), (this.chunk = t), (this.nextLayer = r), (this.maxPoint = n);
        }
      }),
      (() => {
        a(_i17, "RangeSet");
      })(),
      _i17);
  Ee.empty = new Ee([], [], null, -1);
  function Sv(i) {
    if (i.length > 1)
      for (var e = i[0], t = 1; t < i.length; t++) {
        var r = i[t];
        if (Ml(e, r) > 0) return i.slice().sort(Ml);
        e = r;
      }
    return i;
  }
  a(Sv, "lazySort");
  Ee.empty.nextLayer = Ee.empty;
  var Ci =
    ((_i18 = class i {
      finishChunk(e) {
        this.chunks.push(new $l(this.from, this.to, this.value, this.maxPoint)), this.chunkPos.push(this.chunkStart), (this.chunkStart = -1), (this.setMaxPoint = Math.max(this.setMaxPoint, this.maxPoint)), (this.maxPoint = -1), e && ((this.from = []), (this.to = []), (this.value = []));
      }
      add(e, t, r) {
        this.addInner(e, t, r) || (this.nextLayer || (this.nextLayer = new i())).add(e, t, r);
      }
      addInner(e, t, r) {
        var n = e - this.lastTo || r.startSide - this.last.endSide;
        if (n <= 0 && (e - this.lastFrom || r.startSide - this.last.startSide) < 0) throw new Error("Ranges must be added sorted by `from` position and `startSide`");
        return n < 0 ? !1 : (this.from.length == 250 && this.finishChunk(!0), this.chunkStart < 0 && (this.chunkStart = e), this.from.push(e - this.chunkStart), this.to.push(t - this.chunkStart), (this.last = r), (this.lastFrom = e), (this.lastTo = t), this.value.push(r), r.point && (this.maxPoint = Math.max(this.maxPoint, t - e)), !0);
      }
      addChunk(e, t) {
        if ((e - this.lastTo || t.value[0].startSide - this.last.endSide) < 0) return !1;
        this.from.length && this.finishChunk(!0), (this.setMaxPoint = Math.max(this.setMaxPoint, t.maxPoint)), this.chunks.push(t), this.chunkPos.push(e);
        var r = t.value.length - 1;
        return (this.last = t.value[r]), (this.lastFrom = t.from[r] + e), (this.lastTo = t.to[r] + e), !0;
      }
      finish() {
        return this.finishInner(Ee.empty);
      }
      finishInner(e) {
        if ((this.from.length && this.finishChunk(!1), this.chunks.length == 0)) return e;
        var t = Ee.create(this.chunkPos, this.chunks, this.nextLayer ? this.nextLayer.finishInner(e) : e, this.setMaxPoint);
        return (this.from = null), t;
      }
      constructor() {
        (this.chunks = []), (this.chunkPos = []), (this.chunkStart = -1), (this.last = null), (this.lastFrom = -1e9), (this.lastTo = -1e9), (this.from = []), (this.to = []), (this.value = []), (this.maxPoint = -1), (this.setMaxPoint = -1), (this.nextLayer = null);
      }
    }),
    (() => {
      a(_i18, "RangeSetBuilder");
    })(),
    _i18);
  function _0(i, e, t) {
    var r = new Map();
    var _iteratorNormalCompletion = true,
      _didIteratorError = false,
      _iteratorError = undefined;
    try {
      for (var _iterator = i[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
        var s = _step.value;
        for (var o = 0; o < s.chunk.length; o++) s.chunk[o].maxPoint <= 0 && r.set(s.chunk[o], s.chunkPos[o]);
      }
    } catch (err) {
      _didIteratorError = true;
      _iteratorError = err;
    } finally {
      try {
        if (!_iteratorNormalCompletion && _iterator.return != null) {
          _iterator.return();
        }
      } finally {
        if (_didIteratorError) {
          throw _iteratorError;
        }
      }
    }
    var n = new Set();
    var _iteratorNormalCompletion1 = true,
      _didIteratorError1 = false,
      _iteratorError1 = undefined;
    try {
      for (var _iterator1 = e[Symbol.iterator](), _step1; !(_iteratorNormalCompletion1 = (_step1 = _iterator1.next()).done); _iteratorNormalCompletion1 = true) {
        var s1 = _step1.value;
        for (var o1 = 0; o1 < s1.chunk.length; o1++) {
          var _t_touchesRange, _this;
          var u = r.get(s1.chunk[o1]);
          u != null && (t ? t.mapPos(u) : u) == s1.chunkPos[o1] && !((_this = t) === null || _this === void 0 ? void 0 : (_t_touchesRange = _this.touchesRange) === null || _t_touchesRange === void 0 ? void 0 : _t_touchesRange.call(_this, u, u + s1.chunk[o1].length)) && n.add(s1.chunk[o1]);
        }
      }
    } catch (err) {
      _didIteratorError1 = true;
      _iteratorError1 = err;
    } finally {
      try {
        if (!_iteratorNormalCompletion1 && _iterator1.return != null) {
          _iterator1.return();
        }
      } finally {
        if (_didIteratorError1) {
          throw _iteratorError1;
        }
      }
    }
    return n;
  }
  a(_0, "findSharedChunks");
  var _s =
      ((_class30 = class _class {
        get startSide() {
          return this.value ? this.value.startSide : 0;
        }
        get endSide() {
          return this.value ? this.value.endSide : 0;
        }
        goto(e) {
          var t = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : -1e9;
          return (this.chunkIndex = this.rangeIndex = 0), this.gotoInner(e, t, !1), this;
        }
        gotoInner(e, t, r) {
          for (; this.chunkIndex < this.layer.chunk.length; ) {
            var n = this.layer.chunk[this.chunkIndex];
            if (!((this.skip && this.skip.has(n)) || this.layer.chunkEnd(this.chunkIndex) < e || n.maxPoint < this.minPoint)) break;
            this.chunkIndex++, (r = !1);
          }
          if (this.chunkIndex < this.layer.chunk.length) {
            var n1 = this.layer.chunk[this.chunkIndex].findIndex(e - this.layer.chunkPos[this.chunkIndex], t, !0);
            (!r || this.rangeIndex < n1) && this.setRangeIndex(n1);
          }
          this.next();
        }
        forward(e, t) {
          (this.to - e || this.endSide - t) < 0 && this.gotoInner(e, t, !0);
        }
        next() {
          for (;;)
            if (this.chunkIndex == this.layer.chunk.length) {
              (this.from = this.to = 1e9), (this.value = null);
              break;
            } else {
              var e = this.layer.chunkPos[this.chunkIndex],
                t = this.layer.chunk[this.chunkIndex],
                r = e + t.from[this.rangeIndex];
              if (((this.from = r), (this.to = e + t.to[this.rangeIndex]), (this.value = t.value[this.rangeIndex]), this.setRangeIndex(this.rangeIndex + 1), this.minPoint < 0 || (this.value.point && this.to - this.from >= this.minPoint))) break;
            }
        }
        setRangeIndex(e) {
          if (e == this.layer.chunk[this.chunkIndex].value.length) {
            if ((this.chunkIndex++, this.skip)) for (; this.chunkIndex < this.layer.chunk.length && this.skip.has(this.layer.chunk[this.chunkIndex]); ) this.chunkIndex++;
            this.rangeIndex = 0;
          } else this.rangeIndex = e;
        }
        nextChunk() {
          this.chunkIndex++, (this.rangeIndex = 0), this.next();
        }
        compare(e) {
          return this.from - e.from || this.startSide - e.startSide || this.rank - e.rank || this.to - e.to || this.endSide - e.endSide;
        }
        constructor(e, t, r, ref) {
          var n = ref === void 0 ? 0 : ref;
          (this.layer = e), (this.skip = t), (this.minPoint = r), (this.rank = n);
        }
      }),
      (() => {
        a(_class30, "LayerCursor");
      })(),
      _class30),
    Xr =
      ((_i19 = class i {
        static from(e) {
          var t = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : null,
            r = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : -1;
          var n = [];
          for (var s = 0; s < e.length; s++) for (var o = e[s]; !o.isEmpty; o = o.nextLayer) o.maxPoint >= r && n.push(new _s(o, t, r, s));
          return n.length == 1 ? n[0] : new i(n);
        }
        get startSide() {
          return this.value ? this.value.startSide : 0;
        }
        goto(e) {
          var t = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : -1e9;
          var _iteratorNormalCompletion = true,
            _didIteratorError = false,
            _iteratorError = undefined;
          try {
            for (var _iterator = this.heap[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
              var r = _step.value;
              r.goto(e, t);
            }
          } catch (err) {
            _didIteratorError = true;
            _iteratorError = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion && _iterator.return != null) {
                _iterator.return();
              }
            } finally {
              if (_didIteratorError) {
                throw _iteratorError;
              }
            }
          }
          for (var r1 = this.heap.length >> 1; r1 >= 0; r1--) vl(this.heap, r1);
          return this.next(), this;
        }
        forward(e, t) {
          var _iteratorNormalCompletion = true,
            _didIteratorError = false,
            _iteratorError = undefined;
          try {
            for (var _iterator = this.heap[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
              var r = _step.value;
              r.forward(e, t);
            }
          } catch (err) {
            _didIteratorError = true;
            _iteratorError = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion && _iterator.return != null) {
                _iterator.return();
              }
            } finally {
              if (_didIteratorError) {
                throw _iteratorError;
              }
            }
          }
          for (var r1 = this.heap.length >> 1; r1 >= 0; r1--) vl(this.heap, r1);
          (this.to - e || this.value.endSide - t) < 0 && this.next();
        }
        next() {
          if (this.heap.length == 0) (this.from = this.to = 1e9), (this.value = null), (this.rank = -1);
          else {
            var e = this.heap[0];
            (this.from = e.from), (this.to = e.to), (this.value = e.value), (this.rank = e.rank), e.value && e.next(), vl(this.heap, 0);
          }
        }
        constructor(e) {
          this.heap = e;
        }
      }),
      (() => {
        a(_i19, "HeapCursor");
      })(),
      _i19);
  function vl(i, e) {
    for (var t = i[e]; ; ) {
      var r = (e << 1) + 1;
      if (r >= i.length) break;
      var n = i[r];
      if ((r + 1 < i.length && n.compare(i[r + 1]) >= 0 && ((n = i[r + 1]), r++), t.compare(n) < 0)) break;
      (i[r] = t), (i[e] = n), (e = r);
    }
  }
  a(vl, "heapBubble");
  var bi =
    ((_class31 = class _class {
      goto(e) {
        var t = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : -1e9;
        return this.cursor.goto(e, t), (this.active.length = this.activeTo.length = this.activeRank.length = 0), (this.minActive = -1), (this.to = e), (this.endSide = t), (this.openStart = -1), this.next(), this;
      }
      forward(e, t) {
        for (; this.minActive > -1 && (this.activeTo[this.minActive] - e || this.active[this.minActive].endSide - t) < 0; ) this.removeActive(this.minActive);
        this.cursor.forward(e, t);
      }
      removeActive(e) {
        Cs(this.active, e), Cs(this.activeTo, e), Cs(this.activeRank, e), (this.minActive = T0(this.active, this.activeTo));
      }
      addActive(e) {
        var t = 0,
          _this_cursor = this.cursor,
          r = _this_cursor.value,
          n = _this_cursor.to,
          s = _this_cursor.rank;
        for (; t < this.activeRank.length && this.activeRank[t] <= s; ) t++;
        As(this.active, t, r), As(this.activeTo, t, n), As(this.activeRank, t, s), e && As(e, t, this.cursor.from), (this.minActive = T0(this.active, this.activeTo));
      }
      next() {
        var e = this.to,
          t = this.point;
        this.point = null;
        var r = this.openStart < 0 ? [] : null;
        for (;;) {
          var n = this.minActive;
          if (n > -1 && (this.activeTo[n] - this.cursor.from || this.active[n].endSide - this.cursor.startSide) < 0) {
            if (this.activeTo[n] > e) {
              (this.to = this.activeTo[n]), (this.endSide = this.active[n].endSide);
              break;
            }
            this.removeActive(n), r && Cs(r, n);
          } else if (this.cursor.value)
            if (this.cursor.from > e) {
              (this.to = this.cursor.from), (this.endSide = this.cursor.startSide);
              break;
            } else {
              var s = this.cursor.value;
              if (!s.point) this.addActive(r), this.cursor.next();
              else if (t && this.cursor.to == this.to && this.cursor.from < this.cursor.to) this.cursor.next();
              else {
                (this.point = s), (this.pointFrom = this.cursor.from), (this.pointRank = this.cursor.rank), (this.to = this.cursor.to), (this.endSide = s.endSide), this.cursor.next(), this.forward(this.to, this.endSide);
                break;
              }
            }
          else {
            this.to = this.endSide = 1e9;
            break;
          }
        }
        if (r) {
          this.openStart = 0;
          for (var n1 = r.length - 1; n1 >= 0 && r[n1] < e; n1--) this.openStart++;
        }
      }
      activeForPoint(e) {
        if (!this.active.length) return this.active;
        var t = [];
        for (var r = this.active.length - 1; r >= 0 && !(this.activeRank[r] < this.pointRank); r--) (this.activeTo[r] > e || (this.activeTo[r] == e && this.active[r].endSide >= this.point.endSide)) && t.push(this.active[r]);
        return t.reverse();
      }
      openEnd(e) {
        var t = 0;
        for (var r = this.activeTo.length - 1; r >= 0 && this.activeTo[r] > e; r--) t++;
        return t;
      }
      constructor(e, t, r) {
        (this.minPoint = r), (this.active = []), (this.activeTo = []), (this.activeRank = []), (this.minActive = -1), (this.point = null), (this.pointFrom = 0), (this.pointRank = 0), (this.to = -1e9), (this.endSide = 0), (this.openStart = -1), (this.cursor = Xr.from(e, t, r));
      }
    }),
    (() => {
      a(_class31, "SpanCursor");
    })(),
    _class31);
  function O0(i, e, t, r, n, s) {
    i.goto(e), t.goto(r);
    var o = r + n,
      u = r,
      l = r - e;
    for (;;) {
      var h = i.to + l - t.to || i.endSide - t.endSide,
        c = h < 0 ? i.to + l : t.to,
        f = Math.min(c, o);
      if ((i.point || t.point ? (i.point && t.point && (i.point == t.point || i.point.eq(t.point)) && Pl(i.activeForPoint(i.to + l), t.activeForPoint(t.to))) || s.comparePoint(u, f, i.point, t.point) : f > u && !Pl(i.active, t.active) && s.compareRange(u, f, i.active, t.active), c > o)) break;
      (u = c), h <= 0 && i.next(), h >= 0 && t.next();
    }
  }
  a(O0, "compare");
  function Pl(i, e) {
    if (i.length != e.length) return !1;
    for (var t = 0; t < i.length; t++) if (i[t] != e[t] && !i[t].eq(e[t])) return !1;
    return !0;
  }
  a(Pl, "sameValues");
  function Cs(i, e) {
    for (var t = e, r = i.length - 1; t < r; t++) i[t] = i[t + 1];
    i.pop();
  }
  a(Cs, "remove");
  function As(i, e, t) {
    for (var r = i.length - 1; r >= e; r--) i[r + 1] = i[r];
    i[e] = t;
  }
  a(As, "insert");
  function T0(i, e) {
    var t = -1,
      r = 1e9;
    for (var n = 0; n < e.length; n++) (e[n] - r || i[n].endSide - i[t].endSide) < 0 && ((t = n), (r = e[n]));
    return t;
  }
  a(T0, "findMinIndex");
  function Os(i, e) {
    var t = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : i.length;
    var r = 0;
    for (var n = 0; n < t; ) i.charCodeAt(n) == 9 ? ((r += e - (r % e)), n++) : (r++, (n = yt(i, n)));
    return r;
  }
  a(Os, "countColumn");
  function G0(i, e, t, r) {
    for (var n = 0, s = 0; ; ) {
      if (s >= e) return n;
      if (n == i.length) break;
      (s += i.charCodeAt(n) == 9 ? t - (s % t) : 1), (n = yt(i, n));
    }
    return r === !0 ? -1 : i.length;
  }
  a(G0, "findColumn");
  var Il = "ͼ",
    Y0 = typeof Symbol > "u" ? "__" + Il : Symbol.for(Il),
    Nl = typeof Symbol > "u" ? "__styleSet" + Math.floor(Math.random() * 1e8) : Symbol("styleSet"),
    K0 = typeof globalThis < "u" ? globalThis : typeof window < "u" ? window : {},
    ut =
      ((_class32 = class _class {
        getRules() {
          return this.rules.join("\n");
        }
        static newName() {
          var e = K0[Y0] || 1;
          return (K0[Y0] = e + 1), Il + e.toString(36);
        }
        static mount(e, t) {
          (e[Nl] || new Vl(e)).mount(Array.isArray(t) ? t : [t]);
        }
        constructor(e, t) {
          this.rules = [];
          var _ref = t || {},
            r = _ref.finish;
          function n(o) {
            return /^@/.test(o) ? [o] : o.split(/,\s*/);
          }
          a(n, "splitSelector");
          function s(o, u, l, h) {
            var c = [],
              f = /^@(\w+)\b/.exec(o[0]),
              d = f && f[1] == "keyframes";
            if (f && u == null) return l.push(o[0] + ";");
            for (var p in u) {
              var m = u[p];
              if (/&/.test(p))
                s(
                  p
                    .split(/,\s*/)
                    .map((b) => o.map((g) => b.replace(/&/, g)))
                    .reduce((b, g) => b.concat(g)),
                  m,
                  l
                );
              else if (m && typeof m == "object") {
                if (!f) throw new RangeError("The value of a property (" + p + ") should be a primitive value.");
                s(n(p), m, c, d);
              } else m != null && c.push(p.replace(/_.*/, "").replace(/[A-Z]/g, (b) => "-" + b.toLowerCase()) + ": " + m + ";");
            }
            (c.length || d) && l.push((r && !f && !h ? o.map(r) : o).join(", ") + " {" + c.join(" ") + "}");
          }
          a(s, "render");
          for (var o in e) s(n(o), e[o], this.rules);
        }
      }),
      (() => {
        a(_class32, "StyleModule");
      })(),
      _class32),
    Ts = null,
    Vl =
      ((_class33 = class _class {
        mount(e) {
          var t = this.sheet,
            r = 0,
            n = 0;
          for (var s = 0; s < e.length; s++) {
            var o = e[s],
              u = this.modules.indexOf(o);
            if ((u < n && u > -1 && (this.modules.splice(u, 1), n--, (u = -1)), u == -1)) {
              if ((this.modules.splice(n++, 0, o), t)) for (var l = 0; l < o.rules.length; l++) t.insertRule(o.rules[l], r++);
            } else {
              for (; n < u; ) r += this.modules[n++].rules.length;
              (r += o.rules.length), n++;
            }
          }
          if (!t) {
            var s1 = "";
            for (var o1 = 0; o1 < this.modules.length; o1++) s1 += this.modules[o1].getRules() + "\n";
            this.styleTag.textContent = s1;
          }
        }
        constructor(e) {
          if (!e.head && e.adoptedStyleSheets && typeof CSSStyleSheet < "u") {
            if (Ts) return (e.adoptedStyleSheets = [Ts.sheet].concat(e.adoptedStyleSheets)), (e[Nl] = Ts);
            (this.sheet = new CSSStyleSheet()), (e.adoptedStyleSheets = [this.sheet].concat(e.adoptedStyleSheets)), (Ts = this);
          } else {
            this.styleTag = (e.ownerDocument || e).createElement("style");
            var t = e.head || e;
            t.insertBefore(this.styleTag, t.firstChild);
          }
          (this.modules = []), (e[Nl] = this);
        }
      }),
      (() => {
        a(_class33, "StyleSet");
      })(),
      _class33);
  var jt = {
      8: "Backspace",
      9: "Tab",
      10: "Enter",
      12: "NumLock",
      13: "Enter",
      16: "Shift",
      17: "Control",
      18: "Alt",
      20: "CapsLock",
      27: "Escape",
      32: " ",
      33: "PageUp",
      34: "PageDown",
      35: "End",
      36: "Home",
      37: "ArrowLeft",
      38: "ArrowUp",
      39: "ArrowRight",
      40: "ArrowDown",
      44: "PrintScreen",
      45: "Insert",
      46: "Delete",
      59: ";",
      61: "=",
      91: "Meta",
      92: "Meta",
      106: "*",
      107: "+",
      108: ",",
      109: "-",
      110: ".",
      111: "/",
      144: "NumLock",
      145: "ScrollLock",
      160: "Shift",
      161: "Shift",
      162: "Control",
      163: "Control",
      164: "Alt",
      165: "Alt",
      173: "-",
      186: ";",
      187: "=",
      188: ",",
      189: "-",
      190: ".",
      191: "/",
      192: "`",
      219: "[",
      220: "\\",
      221: "]",
      222: "'",
    },
    nr = { 48: ")", 49: "!", 50: "@", 51: "#", 52: "$", 53: "%", 54: "^", 55: "&", 56: "*", 57: "(", 59: ":", 61: "+", 173: "_", 186: ":", 187: "+", 188: "<", 189: "_", 190: ">", 191: "?", 192: "~", 219: "{", 220: "|", 221: "}", 222: '"' },
    X0 = typeof navigator < "u" && /Chrome\/(\d+)/.exec(navigator.userAgent),
    mB = typeof navigator < "u" && /Gecko\/\d+/.test(navigator.userAgent),
    Bv = typeof navigator < "u" && /Mac/.test(navigator.platform),
    _v = typeof navigator < "u" && /MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),
    Ov = Bv || (X0 && +X0[1] < 57);
  for (Oe = 0; Oe < 10; Oe++) jt[48 + Oe] = jt[96 + Oe] = String(Oe);
  var Oe;
  for (Oe = 1; Oe <= 24; Oe++) jt[Oe + 111] = "F" + Oe;
  var Oe;
  for (Oe = 65; Oe <= 90; Oe++) (jt[Oe] = String.fromCharCode(Oe + 32)), (nr[Oe] = String.fromCharCode(Oe));
  var Oe;
  for (Rs in jt) nr.hasOwnProperty(Rs) || (nr[Rs] = jt[Rs]);
  var Rs;
  function Q0(i) {
    var e = (Ov && (i.ctrlKey || i.altKey || i.metaKey)) || (_v && i.shiftKey && i.key && i.key.length == 1) || i.key == "Unidentified",
      t = (!e && i.key) || (i.shiftKey ? nr : jt)[i.keyCode] || i.key || "Unidentified";
    return t == "Esc" && (t = "Escape"), t == "Del" && (t = "Delete"), t == "Left" && (t = "ArrowLeft"), t == "Up" && (t = "ArrowUp"), t == "Right" && (t = "ArrowRight"), t == "Down" && (t = "ArrowDown"), t;
  }
  a(Q0, "keyName");
  function Ys(i) {
    var e;
    return i.nodeType == 11 ? (e = i.getSelection ? i : i.ownerDocument) : (e = i), e.getSelection();
  }
  a(Ys, "getSelection");
  function cr(i, e) {
    return e ? i == e || i.contains(e.nodeType != 1 ? e.parentNode : e) : !1;
  }
  a(cr, "contains");
  function Tv(i) {
    var e = i.activeElement;
    for (; e && e.shadowRoot; ) e = e.shadowRoot.activeElement;
    return e;
  }
  a(Tv, "deepActiveElement");
  function zs(i, e) {
    if (!e.anchorNode) return !1;
    try {
      return cr(i, e.anchorNode);
    } catch (e) {
      return !1;
    }
  }
  a(zs, "hasSelection");
  function sn(i) {
    return i.nodeType == 3 ? fr(i, 0, i.nodeValue.length).getClientRects() : i.nodeType == 1 ? i.getClientRects() : [];
  }
  a(sn, "clientRectsFor");
  function Ks(i, e, t, r) {
    return t ? J0(i, e, t, r, -1) || J0(i, e, t, r, 1) : !1;
  }
  a(Ks, "isEquivalentPosition");
  function Xs(i) {
    for (var e = 0; ; e++) if (((i = i.previousSibling), !i)) return e;
  }
  a(Xs, "domIndex");
  function J0(i, e, t, r, n) {
    for (;;) {
      if (i == t && e == r) return !0;
      if (e == (n < 0 ? 0 : ri(i))) {
        if (i.nodeName == "DIV") return !1;
        var s = i.parentNode;
        if (!s || s.nodeType != 1) return !1;
        (e = Xs(i) + (n < 0 ? 0 : 1)), (i = s);
      } else if (i.nodeType == 1) {
        if (((i = i.childNodes[e + (n < 0 ? -1 : 0)]), i.nodeType == 1 && i.contentEditable == "false")) return !1;
        e = n < 0 ? ri(i) : 0;
      } else return !1;
    }
  }
  a(J0, "scanFor");
  function ri(i) {
    return i.nodeType == 3 ? i.nodeValue.length : i.childNodes.length;
  }
  a(ri, "maxOffset");
  function Ra(i, e) {
    var t = e ? i.left : i.right;
    return { left: t, right: t, top: i.top, bottom: i.bottom };
  }
  a(Ra, "flattenRect");
  function Rv(i) {
    return { left: 0, right: i.innerWidth, top: 0, bottom: i.innerHeight };
  }
  a(Rv, "windowRect");
  function Mv(i, e, t, r, n, s, o, u) {
    var l = i.ownerDocument,
      h = l.defaultView || window;
    for (var c = i; c; )
      if (c.nodeType == 1) {
        var f = void 0,
          d = c == l.body;
        if (d) f = Rv(h);
        else {
          if (c.scrollHeight <= c.clientHeight && c.scrollWidth <= c.clientWidth) {
            c = c.assignedSlot || c.parentNode;
            continue;
          }
          var b = c.getBoundingClientRect();
          f = { left: b.left, right: b.left + c.clientWidth, top: b.top, bottom: b.top + c.clientHeight };
        }
        var p = 0,
          m = 0;
        if (n == "nearest") e.top < f.top ? ((m = -(f.top - e.top + o)), t > 0 && e.bottom > f.bottom + m && (m = e.bottom - f.bottom + m + o)) : e.bottom > f.bottom && ((m = e.bottom - f.bottom + o), t < 0 && e.top - m < f.top && (m = -(f.top + m - e.top + o)));
        else {
          var b1 = e.bottom - e.top,
            g = f.bottom - f.top;
          m = (n == "center" && b1 <= g ? e.top + b1 / 2 - g / 2 : n == "start" || (n == "center" && t < 0) ? e.top - o : e.bottom - g + o) - f.top;
        }
        if (
          (r == "nearest"
            ? e.left < f.left
              ? ((p = -(f.left - e.left + s)), t > 0 && e.right > f.right + p && (p = e.right - f.right + p + s))
              : e.right > f.right && ((p = e.right - f.right + s), t < 0 && e.left < f.left + p && (p = -(f.left + p - e.left + s)))
            : (p = (r == "center" ? e.left + (e.right - e.left) / 2 - (f.right - f.left) / 2 : (r == "start") == u ? e.left - s : e.right - (f.right - f.left) + s) - f.left),
          p || m)
        )
          if (d) h.scrollBy(p, m);
          else {
            var b2 = 0,
              g1 = 0;
            if (m) {
              var D = c.scrollTop;
              (c.scrollTop += m), (g1 = c.scrollTop - D);
            }
            if (p) {
              var D1 = c.scrollLeft;
              (c.scrollLeft += p), (b2 = c.scrollLeft - D1);
            }
            (e = { left: e.left - b2, top: e.top - g1, right: e.right - b2, bottom: e.bottom - g1 }), b2 && Math.abs(b2 - p) < 1 && (r = "nearest"), g1 && Math.abs(g1 - m) < 1 && (n = "nearest");
          }
        if (d) break;
        c = c.assignedSlot || c.parentNode;
      } else if (c.nodeType == 11) c = c.host;
      else break;
  }
  a(Mv, "scrollRectIntoView");
  function $v(i) {
    var e = i.ownerDocument;
    for (var t = i.parentNode; t && t != e.body; )
      if (t.nodeType == 1) {
        if (t.scrollHeight > t.clientHeight || t.scrollWidth > t.clientWidth) return t;
        t = t.assignedSlot || t.parentNode;
      } else if (t.nodeType == 11) t = t.host;
      else break;
    return null;
  }
  a($v, "scrollableParent");
  var Yl =
      ((_class34 = class _class {
        eq(e) {
          return this.anchorNode == e.anchorNode && this.anchorOffset == e.anchorOffset && this.focusNode == e.focusNode && this.focusOffset == e.focusOffset;
        }
        setRange(e) {
          var t = e.anchorNode,
            r = e.focusNode;
          this.set(t, Math.min(e.anchorOffset, t ? ri(t) : 0), r, Math.min(e.focusOffset, r ? ri(r) : 0));
        }
        set(e, t, r, n) {
          (this.anchorNode = e), (this.anchorOffset = t), (this.focusNode = r), (this.focusOffset = n);
        }
        constructor() {
          (this.anchorNode = null), (this.anchorOffset = 0), (this.focusNode = null), (this.focusOffset = 0);
        }
      }),
      (() => {
        a(_class34, "DOMSelectionState");
      })(),
      _class34),
    sr = null;
  function Mg(i) {
    if (i.setActive) return i.setActive();
    if (sr) return i.focus(sr);
    var e = [];
    for (var t = i; t && (e.push(t, t.scrollTop, t.scrollLeft), t != t.ownerDocument); t = t.parentNode);
    if (
      (i.focus(
        sr == null
          ? {
              get preventScroll() {
                return (sr = { preventScroll: !0 }), !0;
              },
            }
          : void 0
      ),
      !sr)
    ) {
      sr = !1;
      for (var t1 = 0; t1 < e.length; ) {
        var r = e[t1++],
          n = e[t1++],
          s = e[t1++];
        r.scrollTop != n && (r.scrollTop = n), r.scrollLeft != s && (r.scrollLeft = s);
      }
    }
  }
  a(Mg, "focusPreventScroll");
  var Z0;
  function fr(i, e) {
    var t = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : e;
    var r = Z0 || (Z0 = document.createRange());
    return r.setEnd(i, t), r.setStart(i, e), r;
  }
  a(fr, "textRange");
  function hr(i, e, t) {
    var r = { key: e, code: e, keyCode: t, which: t, cancelable: !0 },
      n = new KeyboardEvent("keydown", r);
    (n.synthetic = !0), i.dispatchEvent(n);
    var s = new KeyboardEvent("keyup", r);
    return (s.synthetic = !0), i.dispatchEvent(s), n.defaultPrevented || s.defaultPrevented;
  }
  a(hr, "dispatchKey");
  function Pv(i) {
    for (; i; ) {
      if (i && (i.nodeType == 9 || (i.nodeType == 11 && i.host))) return i;
      i = i.assignedSlot || i.parentNode;
    }
    return null;
  }
  a(Pv, "getRoot");
  function $g(i) {
    for (; i.attributes.length; ) i.removeAttributeNode(i.attributes[0]);
  }
  a($g, "clearAttributes");
  function Lv(i, e) {
    var t = e.focusNode,
      r = e.focusOffset;
    if (!t || e.anchorNode != t || e.anchorOffset != r) return !1;
    for (r = Math.min(r, ri(t)); ; )
      if (r) {
        if (t.nodeType != 1) return !1;
        var n = t.childNodes[r - 1];
        n.contentEditable == "false" ? r-- : ((t = n), (r = ri(t)));
      } else {
        if (t == i) return !0;
        (r = Xs(t)), (t = t.parentNode);
      }
  }
  a(Lv, "atElementStart");
  var Ne =
      ((_i20 = class i {
        static before(e, t) {
          return new i(e.parentNode, Xs(e), t);
        }
        static after(e, t) {
          return new i(e.parentNode, Xs(e) + 1, t);
        }
        constructor(e, t, ref) {
          var r = ref === void 0 ? !0 : ref;
          (this.node = e), (this.offset = t), (this.precise = r);
        }
      }),
      (() => {
        a(_i20, "DOMPos");
      })(),
      _i20),
    Ma = [],
    Ce =
      ((_i21 = class i {
        get overrideDOMText() {
          return null;
        }
        get posAtStart() {
          return this.parent ? this.parent.posBefore(this) : 0;
        }
        get posAtEnd() {
          return this.posAtStart + this.length;
        }
        posBefore(e) {
          var t = this.posAtStart;
          var _iteratorNormalCompletion = true,
            _didIteratorError = false,
            _iteratorError = undefined;
          try {
            for (var _iterator = this.children[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
              var r = _step.value;
              if (r == e) return t;
              t += r.length + r.breakAfter;
            }
          } catch (err) {
            _didIteratorError = true;
            _iteratorError = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion && _iterator.return != null) {
                _iterator.return();
              }
            } finally {
              if (_didIteratorError) {
                throw _iteratorError;
              }
            }
          }
          throw new RangeError("Invalid child in posBefore");
        }
        posAfter(e) {
          return this.posBefore(e) + e.length;
        }
        sync(e, t) {
          var _iteratorNormalCompletion = true,
            _didIteratorError = false,
            _iteratorError = undefined;
          if (this.dirty & 2) {
            var r = this.dom,
              n = null,
              s;
            var _iteratorNormalCompletion1 = true,
              _didIteratorError1 = false,
              _iteratorError1 = undefined;
            try {
              for (var _iterator = this.children[Symbol.iterator](), _step; !(_iteratorNormalCompletion1 = (_step = _iterator.next()).done); _iteratorNormalCompletion1 = true) {
                var o = _step.value;
                if (o.dirty) {
                  if (!o.dom && (s = n ? n.nextSibling : r.firstChild)) {
                    var u = i.get(s);
                    (!u || (!u.parent && u.canReuseDOM(o))) && o.reuseDOM(s);
                  }
                  o.sync(e, t), (o.dirty = 0);
                }
                if (((s = n ? n.nextSibling : r.firstChild), t && !t.written && t.node == r && s != o.dom && (t.written = !0), o.dom.parentNode == r)) for (; s && s != o.dom; ) s = eg(s);
                else r.insertBefore(o.dom, s);
                n = o.dom;
              }
            } catch (err) {
              _didIteratorError1 = true;
              _iteratorError1 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion1 && _iterator.return != null) {
                  _iterator.return();
                }
              } finally {
                if (_didIteratorError1) {
                  throw _iteratorError1;
                }
              }
            }
            for (s = n ? n.nextSibling : r.firstChild, s && t && t.node == r && (t.written = !0); s; ) s = eg(s);
          } else if (this.dirty & 1)
            try {
              for (var _iterator1 = this.children[Symbol.iterator](), _step1; !(_iteratorNormalCompletion = (_step1 = _iterator1.next()).done); _iteratorNormalCompletion = true) {
                var r1 = _step1.value;
                r1.dirty && (r1.sync(e, t), (r1.dirty = 0));
              }
            } catch (err) {
              _didIteratorError = true;
              _iteratorError = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion && _iterator1.return != null) {
                  _iterator1.return();
                }
              } finally {
                if (_didIteratorError) {
                  throw _iteratorError;
                }
              }
            }
        }
        reuseDOM(e) {}
        localPosFromDOM(e, t) {
          var r;
          if (e == this.dom) r = this.dom.childNodes[t];
          else {
            var n = ri(e) == 0 ? 0 : t == 0 ? -1 : 1;
            for (;;) {
              var s = e.parentNode;
              if (s == this.dom) break;
              n == 0 && s.firstChild != s.lastChild && (e == s.firstChild ? (n = -1) : (n = 1)), (e = s);
            }
            n < 0 ? (r = e) : (r = e.nextSibling);
          }
          if (r == this.dom.firstChild) return 0;
          for (; r && !i.get(r); ) r = r.nextSibling;
          if (!r) return this.length;
          for (var n1 = 0, s1 = 0; ; n1++) {
            var o = this.children[n1];
            if (o.dom == r) return s1;
            s1 += o.length + o.breakAfter;
          }
        }
        domBoundsAround(e, t) {
          var r = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : 0;
          var n = -1,
            s = -1,
            o = -1,
            u = -1;
          for (var l = 0, h = r, c = r; l < this.children.length; l++) {
            var f = this.children[l],
              d = h + f.length;
            if (h < e && d > t) return f.domBoundsAround(e, t, h);
            if ((d >= e && n == -1 && ((n = l), (s = h)), h > t && f.dom.parentNode == this.dom)) {
              (o = l), (u = c);
              break;
            }
            (c = d), (h = d + f.breakAfter);
          }
          return { from: s, to: u < 0 ? r + this.length : u, startDOM: (n ? this.children[n - 1].dom.nextSibling : null) || this.dom.firstChild, endDOM: o < this.children.length && o >= 0 ? this.children[o].dom : null };
        }
        markDirty() {
          var e = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : !1;
          (this.dirty |= 2), this.markParentsDirty(e);
        }
        markParentsDirty(e) {
          for (var t = this.parent; t; t = t.parent) {
            if ((e && (t.dirty |= 2), t.dirty & 1)) return;
            (t.dirty |= 1), (e = !1);
          }
        }
        setParent(e) {
          this.parent != e && ((this.parent = e), this.dirty && this.markParentsDirty(!0));
        }
        setDOM(e) {
          this.dom && (this.dom.cmView = null), (this.dom = e), (e.cmView = this);
        }
        get rootView() {
          for (var e = this; ; ) {
            var t = e.parent;
            if (!t) return e;
            e = t;
          }
        }
        replaceChildren(e, t) {
          var r = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : Ma;
          this.markDirty();
          for (var n = e; n < t; n++) {
            var s = this.children[n];
            s.parent == this && s.destroy();
          }
          this.children.splice(e, t - e, ...r);
          for (var n1 = 0; n1 < r.length; n1++) r[n1].setParent(this);
        }
        ignoreMutation(e) {
          return !1;
        }
        ignoreEvent(e) {
          return !1;
        }
        childCursor() {
          var e = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : this.length;
          return new Qs(this.children, e, this.children.length);
        }
        childPos(e) {
          var t = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 1;
          return this.childCursor().findPos(e, t);
        }
        toString() {
          var e = this.constructor.name.replace("View", "");
          return e + (this.children.length ? "(" + this.children.join() + ")" : this.length ? "[" + (e == "Text" ? this.text : this.length) + "]" : "") + (this.breakAfter ? "#" : "");
        }
        static get(e) {
          return e.cmView;
        }
        get isEditable() {
          return !0;
        }
        get isWidget() {
          return !1;
        }
        get isHidden() {
          return !1;
        }
        merge(e, t, r, n, s, o) {
          return !1;
        }
        become(e) {
          return !1;
        }
        canReuseDOM(e) {
          return e.constructor == this.constructor;
        }
        getSide() {
          return 0;
        }
        destroy() {
          this.parent = null;
        }
        constructor() {
          (this.parent = null), (this.dom = null), (this.dirty = 2);
        }
      }),
      (() => {
        a(_i21, "ContentView");
      })(),
      _i21);
  Ce.prototype.breakAfter = 0;
  function eg(i) {
    var e = i.nextSibling;
    return i.parentNode.removeChild(i), e;
  }
  a(eg, "rm$1");
  var Qs =
    ((_class35 = class _class {
      findPos(e) {
        var t = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 1;
        for (;;) {
          if (e > this.pos || (e == this.pos && (t > 0 || this.i == 0 || this.children[this.i - 1].breakAfter))) return (this.off = e - this.pos), this;
          var r = this.children[--this.i];
          this.pos -= r.length + r.breakAfter;
        }
      }
      constructor(e, t, r) {
        (this.children = e), (this.pos = t), (this.i = r), (this.off = 0);
      }
    }),
    (() => {
      a(_class35, "ChildCursor");
    })(),
    _class35);
  function Pg(i, e, t, r, n, s, o, u, l) {
    var h = i.children,
      c = h.length ? h[e] : null,
      f = s.length ? s[s.length - 1] : null,
      d = f ? f.breakAfter : o;
    if (!(e == r && c && !o && !d && s.length < 2 && c.merge(t, n, s.length ? f : null, t == 0, u, l))) {
      if (r < h.length) {
        var _p;
        var p = h[r];
        p && n < p.length ? (e == r && ((p = p.split(n)), (n = 0)), !d && f && p.merge(0, n, f, !0, 0, l) ? (s[s.length - 1] = p) : (n && p.merge(0, n, null, !1, 0, l), s.push(p))) : ((_p = p) === null || _p === void 0 ? void 0 : _p.breakAfter) && (f ? (f.breakAfter = 1) : (o = 1)), r++;
      }
      for (c && ((c.breakAfter = o), t > 0 && (!o && s.length && c.merge(t, c.length, s[0], !1, u, 0) ? (c.breakAfter = s.shift().breakAfter) : (t < c.length || (c.children.length && c.children[c.children.length - 1].length == 0)) && c.merge(t, c.length, null, !1, u, 0), e++)); e < r && s.length; )
        if (h[r - 1].become(s[s.length - 1])) r--, s.pop(), (l = s.length ? 0 : u);
        else if (h[e].become(s[0])) e++, s.shift(), (u = s.length ? 0 : l);
        else break;
      !s.length && e && r < h.length && !h[e - 1].breakAfter && h[r].merge(0, 0, h[e - 1], !1, u, l) && e--, (e < r || s.length) && i.replaceChildren(e, r, s);
    }
  }
  a(Pg, "replaceRange");
  function Lg(i, e, t, r, n, s) {
    var o = i.childCursor(),
      _o_findPos = o.findPos(t, 1),
      u = _o_findPos.i,
      l = _o_findPos.off,
      _o_findPos1 = o.findPos(e, -1),
      h = _o_findPos1.i,
      c = _o_findPos1.off,
      f = e - t;
    var _iteratorNormalCompletion = true,
      _didIteratorError = false,
      _iteratorError = undefined;
    try {
      for (var _iterator = r[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
        var d = _step.value;
        f += d.length;
      }
    } catch (err) {
      _didIteratorError = true;
      _iteratorError = err;
    } finally {
      try {
        if (!_iteratorNormalCompletion && _iterator.return != null) {
          _iterator.return();
        }
      } finally {
        if (_didIteratorError) {
          throw _iteratorError;
        }
      }
    }
    (i.length += f), Pg(i, h, c, u, l, r, 0, n, s);
  }
  a(Lg, "mergeChildrenInto");
  var Ze = typeof navigator < "u" ? navigator : { userAgent: "", vendor: "", platform: "" },
    Kl = typeof document < "u" ? document : { documentElement: { style: {} } },
    Xl = /Edge\/(\d+)/.exec(Ze.userAgent),
    qg = /MSIE \d/.test(Ze.userAgent),
    Ql = /Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Ze.userAgent),
    go = !!(qg || Ql || Xl),
    tg = !go && /gecko\/(\d+)/i.test(Ze.userAgent),
    zl = !go && /Chrome\/(\d+)/.exec(Ze.userAgent),
    ig = "webkitFontSmoothing" in Kl.documentElement.style,
    Ig = !go && /Apple Computer/.test(Ze.vendor),
    rg = Ig && (/Mobile\/\w+/.test(Ze.userAgent) || Ze.maxTouchPoints > 2),
    W = {
      mac: rg || /Mac/.test(Ze.platform),
      windows: /Win/.test(Ze.platform),
      linux: /Linux|X11/.test(Ze.platform),
      ie: go,
      ie_version: qg ? Kl.documentMode || 6 : Ql ? +Ql[1] : Xl ? +Xl[1] : 0,
      gecko: tg,
      gecko_version: tg ? +(/Firefox\/(\d+)/.exec(Ze.userAgent) || [0, 0])[1] : 0,
      chrome: !!zl,
      chrome_version: zl ? +zl[1] : 0,
      ios: rg,
      android: /Android\b/.test(Ze.userAgent),
      webkit: ig,
      safari: Ig,
      webkit_version: ig ? +(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent) || [0, 0])[1] : 0,
      tabSize: Kl.documentElement.style.tabSize != null ? "tab-size" : "-moz-tab-size",
    },
    qv = 256,
    dr =
      ((_i22 = class i extends Ce {
        get length() {
          return this.text.length;
        }
        createDOM(e) {
          this.setDOM(e || document.createTextNode(this.text));
        }
        sync(e, t) {
          this.dom || this.createDOM(), this.dom.nodeValue != this.text && (t && t.node == this.dom && (t.written = !0), (this.dom.nodeValue = this.text));
        }
        reuseDOM(e) {
          e.nodeType == 3 && this.createDOM(e);
        }
        merge(e, t, r) {
          return r && (!(r instanceof i) || this.length - (t - e) + r.length > qv) ? !1 : ((this.text = this.text.slice(0, e) + (r ? r.text : "") + this.text.slice(t)), this.markDirty(), !0);
        }
        split(e) {
          var t = new i(this.text.slice(e));
          return (this.text = this.text.slice(0, e)), this.markDirty(), t;
        }
        localPosFromDOM(e, t) {
          return e == this.dom ? t : t ? this.text.length : 0;
        }
        domAtPos(e) {
          return new Ne(this.dom, e);
        }
        domBoundsAround(e, t, r) {
          return { from: r, to: r + this.length, startDOM: this.dom, endDOM: this.dom.nextSibling };
        }
        coordsAt(e, t) {
          return Jl(this.dom, e, t);
        }
        constructor(e) {
          super(), (this.text = e);
        }
      }),
      (() => {
        a(_i22, "TextView");
      })(),
      _i22),
    ni =
      ((_i23 = class i extends Ce {
        setAttrs(e) {
          if (($g(e), this.mark.class && (e.className = this.mark.class), this.mark.attrs)) for (var t in this.mark.attrs) e.setAttribute(t, this.mark.attrs[t]);
          return e;
        }
        reuseDOM(e) {
          e.nodeName == this.mark.tagName.toUpperCase() && (this.setDOM(e), (this.dirty |= 6));
        }
        sync(e, t) {
          this.dom ? this.dirty & 4 && this.setAttrs(this.dom) : this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))), super.sync(e, t);
        }
        merge(e, t, r, n, s, o) {
          return r && (!(r instanceof i && r.mark.eq(this.mark)) || (e && s <= 0) || (t < this.length && o <= 0)) ? !1 : (Lg(this, e, t, r ? r.children : [], s - 1, o - 1), this.markDirty(), !0);
        }
        split(e) {
          var t = [],
            r = 0,
            n = -1,
            s = 0;
          var _iteratorNormalCompletion = true,
            _didIteratorError = false,
            _iteratorError = undefined;
          try {
            for (var _iterator = this.children[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
              var u = _step.value;
              var l = r + u.length;
              l > e && t.push(r < e ? u.split(e - r) : u), n < 0 && r >= e && (n = s), (r = l), s++;
            }
          } catch (err) {
            _didIteratorError = true;
            _iteratorError = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion && _iterator.return != null) {
                _iterator.return();
              }
            } finally {
              if (_didIteratorError) {
                throw _iteratorError;
              }
            }
          }
          var o = this.length - e;
          return (this.length = e), n > -1 && ((this.children.length = n), this.markDirty()), new i(this.mark, t, o);
        }
        domAtPos(e) {
          return Hg(this, e);
        }
        coordsAt(e, t) {
          return jg(this, e, t);
        }
        constructor(e, ref, ref1) {
          var t = ref === void 0 ? [] : ref,
            r = ref1 === void 0 ? 0 : ref1;
          super(), (this.mark = e), (this.children = t), (this.length = r);
          var _iteratorNormalCompletion = true,
            _didIteratorError = false,
            _iteratorError = undefined;
          try {
            for (var _iterator = t[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
              var n = _step.value;
              n.setParent(this);
            }
          } catch (err) {
            _didIteratorError = true;
            _iteratorError = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion && _iterator.return != null) {
                _iterator.return();
              }
            } finally {
              if (_didIteratorError) {
                throw _iteratorError;
              }
            }
          }
        }
      }),
      (() => {
        a(_i23, "MarkView");
      })(),
      _i23);
  function Jl(i, e, t) {
    var r = i.nodeValue.length;
    e > r && (e = r);
    var n = e,
      s = e,
      o = 0;
    (e == 0 && t < 0) || (e == r && t >= 0) ? W.chrome || W.gecko || (e ? (n--, (o = 1)) : s < r && (s++, (o = -1))) : t < 0 ? n-- : s < r && s++;
    var u = fr(i, n, s).getClientRects();
    if (!u.length) return null;
    var l = u[(o ? o < 0 : t >= 0) ? 0 : u.length - 1];
    return W.safari && !o && l.width == 0 && (l = Array.prototype.find.call(u, (h) => h.width) || l), o ? Ra(l, o < 0) : l || null;
  }
  a(Jl, "textCoords");
  var on =
      ((_i24 = class i extends Ce {
        static create(e, t, r) {
          return new (e.customView || i)(e, t, r);
        }
        split(e) {
          var t = i.create(this.widget, this.length - e, this.side);
          return (this.length -= e), t;
        }
        sync(e) {
          (!this.dom || !this.widget.updateDOM(this.dom, e)) && (this.dom && this.prevWidget && this.prevWidget.destroy(this.dom), (this.prevWidget = null), this.setDOM(this.widget.toDOM(e)), (this.dom.contentEditable = "false"));
        }
        getSide() {
          return this.side;
        }
        merge(e, t, r, n, s, o) {
          return r && (!(r instanceof i) || !this.widget.compare(r.widget) || (e > 0 && s <= 0) || (t < this.length && o <= 0)) ? !1 : ((this.length = e + (r ? r.length : 0) + (this.length - t)), !0);
        }
        become(e) {
          return e instanceof i && e.side == this.side && this.widget.constructor == e.widget.constructor ? (this.widget.compare(e.widget) || this.markDirty(!0), this.dom && !this.prevWidget && (this.prevWidget = this.widget), (this.widget = e.widget), (this.length = e.length), !0) : !1;
        }
        ignoreMutation() {
          return !0;
        }
        ignoreEvent(e) {
          return this.widget.ignoreEvent(e);
        }
        get overrideDOMText() {
          if (this.length == 0) return de.empty;
          var e = this;
          for (; e.parent; ) e = e.parent;
          var t = e.view,
            r = t && t.state.doc,
            n = this.posAtStart;
          return r ? r.slice(n, n + this.length) : de.empty;
        }
        domAtPos(e) {
          return (this.length ? e == 0 : this.side > 0) ? Ne.before(this.dom) : Ne.after(this.dom, e == this.length);
        }
        domBoundsAround() {
          return null;
        }
        coordsAt(e, t) {
          var r = this.widget.coordsAt(this.dom, e, t);
          if (r) return r;
          var n = this.dom.getClientRects(),
            s = null;
          if (!n.length) return null;
          var o = this.side ? this.side < 0 : e > 0;
          for (var u = o ? n.length - 1 : 0; (s = n[u]), !(e > 0 ? u == 0 : u == n.length - 1 || s.top < s.bottom); u += o ? -1 : 1);
          return Ra(s, !o);
        }
        get isEditable() {
          return !1;
        }
        get isWidget() {
          return !0;
        }
        get isHidden() {
          return this.widget.isHidden;
        }
        destroy() {
          super.destroy(), this.dom && this.widget.destroy(this.dom);
        }
        constructor(e, t, r) {
          super(), (this.widget = e), (this.length = t), (this.side = r), (this.prevWidget = null);
        }
      }),
      (() => {
        a(_i24, "WidgetView");
      })(),
      _i24),
    Js =
      ((_class36 = class _class extends on {
        domAtPos(e) {
          var _this_widget = this.widget,
            t = _this_widget.topView,
            r = _this_widget.text;
          return t
            ? Zl(
                e,
                0,
                t,
                r,
                this.length - t.length,
                (n, s) => n.domAtPos(s),
                (n, s) => new Ne(n, Math.min(s, n.nodeValue.length))
              )
            : new Ne(r, Math.min(e, r.nodeValue.length));
        }
        sync() {
          this.setDOM(this.widget.toDOM());
        }
        localPosFromDOM(e, t) {
          var _this_widget = this.widget,
            r = _this_widget.topView,
            n = _this_widget.text;
          return r ? Vg(e, t, r, n, this.length - r.length) : Math.min(t, this.length);
        }
        ignoreMutation() {
          return !1;
        }
        get overrideDOMText() {
          return null;
        }
        coordsAt(e, t) {
          var _this_widget = this.widget,
            r = _this_widget.topView,
            n = _this_widget.text;
          return r
            ? Zl(
                e,
                t,
                r,
                n,
                this.length - r.length,
                (s, o, u) => s.coordsAt(o, u),
                (s, o, u) => Jl(s, o, u)
              )
            : Jl(n, e, t);
        }
        destroy() {
          var e;
          super.destroy(), (e = this.widget.topView) === null || e === void 0 || e.destroy();
        }
        get isEditable() {
          return !0;
        }
        canReuseDOM() {
          return !0;
        }
      }),
      (() => {
        a(_class36, "CompositionView");
      })(),
      _class36);
  function Zl(i, e, t, r, n, s, o) {
    if (t instanceof ni) {
      for (var u = t.dom.firstChild; u; u = u.nextSibling) {
        var l = Ce.get(u);
        if (l) {
          var h = cr(u, r),
            c = l.length + (h ? n : 0);
          if (i < c || (i == c && l.getSide() <= 0)) return h ? Zl(i, e, l, r, n, s, o) : s(l, i, e);
          i -= c;
        } else {
          var h1 = Ng(i, e, u, o);
          if (typeof h1 != "number") return h1;
          i = h1;
        }
      }
      return s(t, t.length, -1);
    } else return t.dom == r ? o(r, i, e) : s(t, i, e);
  }
  a(Zl, "scanCompositionTree");
  function Ng(i, e, t, r) {
    if (t.nodeType == 3) {
      var n = t.nodeValue.length;
      if (i <= n) return r(t, i, e);
      i -= n;
    } else if (t.nodeType == 1 && t.contentEditable != "false")
      for (var n1 = t.firstChild; n1; n1 = n1.nextSibling) {
        var s = Ng(i, e, n1, r);
        if (typeof s != "number") return s;
        i = s;
      }
    return i;
  }
  a(Ng, "scanCompositionNode");
  function Vg(i, e, t, r, n) {
    if (t instanceof ni) {
      var s = 0;
      for (var o = t.dom.firstChild; o; o = o.nextSibling) {
        var u = Ce.get(o);
        if (u) {
          var l = cr(o, r);
          if (cr(o, i)) return s + (l ? Vg(i, e, u, r, n) : u.localPosFromDOM(i, e));
          s += u.length + (l ? n : 0);
        } else {
          var l1 = zg(i, e, o);
          if (l1.result != null) return s + l1.result;
          s += l1.size;
        }
      }
    } else if (t.dom == r) return Math.min(e, r.nodeValue.length);
    return t.localPosFromDOM(i, e);
  }
  a(Vg, "posFromDOMInCompositionTree");
  function zg(i, e, t) {
    if (t.nodeType == 3) return i == t ? { result: e } : { size: t.nodeValue.length };
    if (t.nodeType == 1 && t.contentEditable != "false") {
      var r = 0;
      for (var n = t.firstChild, s = 0; ; n = n.nextSibling, s++) {
        if (i == t && s == e) return { result: r };
        if (!n) return { size: r };
        var o = zg(i, e, n);
        if (o.result != null) return { result: e + o.result };
        r += o.size;
      }
    } else return t.contains(i) ? { result: 0 } : { size: 0 };
  }
  a(zg, "posFromDOMInOpaqueNode");
  var un =
    ((_i25 = class i extends Ce {
      get length() {
        return 0;
      }
      merge() {
        return !1;
      }
      become(e) {
        return e instanceof i && e.side == this.side;
      }
      split() {
        return new i(this.side);
      }
      sync() {
        if (!this.dom) {
          var e = document.createElement("img");
          (e.className = "cm-widgetBuffer"), e.setAttribute("aria-hidden", "true"), this.setDOM(e);
        }
      }
      getSide() {
        return this.side;
      }
      domAtPos(e) {
        return this.side > 0 ? Ne.before(this.dom) : Ne.after(this.dom);
      }
      localPosFromDOM() {
        return 0;
      }
      domBoundsAround() {
        return null;
      }
      coordsAt(e) {
        return this.dom.getBoundingClientRect();
      }
      get overrideDOMText() {
        return de.empty;
      }
      get isHidden() {
        return !0;
      }
      constructor(e) {
        super(), (this.side = e);
      }
    }),
    (() => {
      a(_i25, "WidgetBufferView");
    })(),
    _i25);
  dr.prototype.children = on.prototype.children = un.prototype.children = Ma;
  function Hg(i, e) {
    var t = i.dom,
      r = i.children,
      n = 0;
    for (var s = 0; n < r.length; n++) {
      var o = r[n],
        u = s + o.length;
      if (!(u == s && o.getSide() <= 0)) {
        if (e > s && e < u && o.dom.parentNode == t) return o.domAtPos(e - s);
        if (e <= s) break;
        s = u;
      }
    }
    for (var s1 = n; s1 > 0; s1--) {
      var o1 = r[s1 - 1];
      if (o1.dom.parentNode == t) return o1.domAtPos(o1.length);
    }
    for (var s2 = n; s2 < r.length; s2++) {
      var o2 = r[s2];
      if (o2.dom.parentNode == t) return o2.domAtPos(0);
    }
    return new Ne(t, 0);
  }
  a(Hg, "inlineDOMAtPos");
  function Wg(i, e, t) {
    var r,
      n = i.children;
    t > 0 && e instanceof ni && n.length && (r = n[n.length - 1]) instanceof ni && r.mark.eq(e.mark) ? Wg(r, e.children[0], t - 1) : (n.push(e), e.setParent(i)), (i.length += e.length);
  }
  a(Wg, "joinInlineInto");
  function jg(i, e, t) {
    var r = null,
      n = -1,
      s = null,
      o = -1;
    function u(h, c) {
      for (var f = 0, d = 0; f < h.children.length && d <= c; f++) {
        var p = h.children[f],
          m = d + p.length;
        m >= c && (p.children.length ? u(p, c - d) : (!s || (s.isHidden && t > 0)) && (m > c || (d == m && p.getSide() > 0)) ? ((s = p), (o = c - d)) : (d < c || (d == m && p.getSide() < 0 && !p.isHidden)) && ((r = p), (n = c - d))), (d = m);
      }
    }
    a(u, "scan"), u(i, e);
    var l = (t < 0 ? r : s) || r || s;
    return l ? l.coordsAt(Math.max(0, l == r ? n : o), t) : Iv(i);
  }
  a(jg, "coordsInChildren");
  function Iv(i) {
    var e = i.dom.lastChild;
    if (!e) return i.dom.getBoundingClientRect();
    var t = sn(e);
    return t[t.length - 1] || null;
  }
  a(Iv, "fallbackRect");
  function ea(i, e) {
    for (var t in i) t == "class" && e.class ? (e.class += " " + i.class) : t == "style" && e.style ? (e.style += ";" + i.style) : (e[t] = i[t]);
    return e;
  }
  a(ea, "combineAttrs");
  function $a(i, e) {
    if (i == e) return !0;
    if (!i || !e) return !1;
    var t = Object.keys(i),
      r = Object.keys(e);
    if (t.length != r.length) return !1;
    var _iteratorNormalCompletion = true,
      _didIteratorError = false,
      _iteratorError = undefined;
    try {
      for (var _iterator = t[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
        var n = _step.value;
        if (r.indexOf(n) == -1 || i[n] !== e[n]) return !1;
      }
    } catch (err) {
      _didIteratorError = true;
      _iteratorError = err;
    } finally {
      try {
        if (!_iteratorNormalCompletion && _iterator.return != null) {
          _iterator.return();
        }
      } finally {
        if (_didIteratorError) {
          throw _iteratorError;
        }
      }
    }
    return !0;
  }
  a($a, "attrsEq");
  function ta(i, e, t) {
    var r = null;
    if (e) for (var n in e) (t && n in t) || i.removeAttribute((r = n));
    if (t) for (var n1 in t) (e && e[n1] == t[n1]) || i.setAttribute((r = n1), t[n1]);
    return !!r;
  }
  a(ta, "updateAttrs");
  var Ut =
      ((_class37 = class _class {
        eq(e) {
          return !1;
        }
        updateDOM(e, t) {
          return !1;
        }
        compare(e) {
          return this == e || (this.constructor == e.constructor && this.eq(e));
        }
        get estimatedHeight() {
          return -1;
        }
        get lineBreaks() {
          return 0;
        }
        ignoreEvent(e) {
          return !0;
        }
        coordsAt(e, t, r) {
          return null;
        }
        get customView() {
          return null;
        }
        get isHidden() {
          return !1;
        }
        destroy(e) {}
      }),
      (() => {
        a(_class37, "WidgetType");
      })(),
      _class37),
    xe = (function (i) {
      return (i[(i.Text = 0)] = "Text"), (i[(i.WidgetBefore = 1)] = "WidgetBefore"), (i[(i.WidgetAfter = 2)] = "WidgetAfter"), (i[(i.WidgetRange = 3)] = "WidgetRange"), i;
    })(xe || (xe = {})),
    he =
      ((_class38 = class _class extends Ht {
        get heightRelevant() {
          return !1;
        }
        static mark(e) {
          return new Zs(e);
        }
        static widget(e) {
          var t = Math.max(-1e4, Math.min(1e4, e.side || 0)),
            r = !!e.block;
          return (t += r ? (t > 0 ? 3e8 : -4e8) : t > 0 ? 1e8 : -1e8), new si(e, t, t, r, e.widget || null, !1);
        }
        static replace(e) {
          var t = !!e.block,
            r,
            n;
          if (e.isBlockGap) (r = -5e8), (n = 4e8);
          else {
            var _Ug = Ug(e, t),
              s = _Ug.start,
              o = _Ug.end;
            (r = (s ? (t ? -3e8 : -1) : 5e8) - 1), (n = (o ? (t ? 2e8 : 1) : -6e8) + 1);
          }
          return new si(e, r, n, t, e.widget || null, !0);
        }
        static line(e) {
          return new ln(e);
        }
        static set(e) {
          var t = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : !1;
          return Ee.of(e, t);
        }
        hasHeight() {
          return this.widget ? this.widget.estimatedHeight > -1 : !1;
        }
        constructor(e, t, r, n) {
          super(), (this.startSide = e), (this.endSide = t), (this.widget = r), (this.spec = n);
        }
      }),
      (() => {
        a(_class38, "Decoration");
      })(),
      _class38);
  he.none = Ee.empty;
  var Zs =
    ((_i26 = class i extends he {
      eq(e) {
        return this == e || (e instanceof i && this.tagName == e.tagName && this.class == e.class && $a(this.attrs, e.attrs));
      }
      range(e) {
        var t = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : e;
        if (e >= t) throw new RangeError("Mark decorations may not be empty");
        return super.range(e, t);
      }
      constructor(e) {
        var _Ug = Ug(e),
          t = _Ug.start,
          r = _Ug.end;
        super(t ? -1 : 5e8, r ? 1 : -6e8, null, e), (this.tagName = e.tagName || "span"), (this.class = e.class || ""), (this.attrs = e.attributes || null);
      }
    }),
    (() => {
      a(_i26, "MarkDecoration");
    })(),
    _i26);
  Zs.prototype.point = !1;
  var ln =
    ((_i27 = class i extends he {
      eq(e) {
        return e instanceof i && this.spec.class == e.spec.class && $a(this.spec.attributes, e.spec.attributes);
      }
      range(e) {
        var t = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : e;
        if (t != e) throw new RangeError("Line decoration ranges must be zero-length");
        return super.range(e, t);
      }
      constructor(e) {
        super(-2e8, -2e8, null, e);
      }
    }),
    (() => {
      a(_i27, "LineDecoration");
    })(),
    _i27);
  ln.prototype.mapMode = je.TrackBefore;
  ln.prototype.point = !0;
  var si =
    ((_i28 = class i extends he {
      get type() {
        return this.startSide < this.endSide ? xe.WidgetRange : this.startSide <= 0 ? xe.WidgetBefore : xe.WidgetAfter;
      }
      get heightRelevant() {
        return this.block || (!!this.widget && (this.widget.estimatedHeight >= 5 || this.widget.lineBreaks > 0));
      }
      eq(e) {
        return e instanceof i && Nv(this.widget, e.widget) && this.block == e.block && this.startSide == e.startSide && this.endSide == e.endSide;
      }
      range(e) {
        var t = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : e;
        if (this.isReplace && (e > t || (e == t && this.startSide > 0 && this.endSide <= 0))) throw new RangeError("Invalid range for replacement decoration");
        if (!this.isReplace && t != e) throw new RangeError("Widget decorations can only have zero-length ranges");
        return super.range(e, t);
      }
      constructor(e, t, r, n, s, o) {
        super(t, r, s, e), (this.block = n), (this.isReplace = o), (this.mapMode = n ? (t <= 0 ? je.TrackBefore : je.TrackAfter) : je.TrackDel);
      }
    }),
    (() => {
      a(_i28, "PointDecoration");
    })(),
    _i28);
  si.prototype.point = !0;
  function Ug(i) {
    var e = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : !1;
    var t = i.inclusiveStart,
      r = i.inclusiveEnd;
    return t == null && (t = i.inclusive), r == null && (r = i.inclusive), { start: t !== null && t !== void 0 ? t : e, end: r !== null && r !== void 0 ? r : e };
  }
  a(Ug, "getInclusive");
  function Nv(i, e) {
    return i == e || !!(i && e && i.compare(e));
  }
  a(Nv, "widgetsEq");
  function ia(i, e, t) {
    var r = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : 0;
    var n = t.length - 1;
    n >= 0 && t[n] + r >= i ? (t[n] = Math.max(t[n], e)) : t.push(i, e);
  }
  a(ia, "addRange");
  var at =
      ((_i29 = class i extends Ce {
        merge(e, t, r, n, s, o) {
          if (r) {
            if (!(r instanceof i)) return !1;
            this.dom || r.transferDOM(this);
          }
          return n && this.setDeco(r ? r.attrs : null), Lg(this, e, t, r ? r.children : [], s, o), !0;
        }
        split(e) {
          var t = new i();
          if (((t.breakAfter = this.breakAfter), this.length == 0)) return t;
          var _this_childPos = this.childPos(e),
            r = _this_childPos.i,
            n = _this_childPos.off;
          n && (t.append(this.children[r].split(n), 0), this.children[r].merge(n, this.children[r].length, null, !1, 0, 0), r++);
          for (var s = r; s < this.children.length; s++) t.append(this.children[s], 0);
          for (; r > 0 && this.children[r - 1].length == 0; ) this.children[--r].destroy();
          return (this.children.length = r), this.markDirty(), (this.length = e), t;
        }
        transferDOM(e) {
          this.dom && (this.markDirty(), e.setDOM(this.dom), (e.prevAttrs = this.prevAttrs === void 0 ? this.attrs : this.prevAttrs), (this.prevAttrs = void 0), (this.dom = null));
        }
        setDeco(e) {
          $a(this.attrs, e) || (this.dom && ((this.prevAttrs = this.attrs), this.markDirty()), (this.attrs = e));
        }
        append(e, t) {
          Wg(this, e, t);
        }
        addLineDeco(e) {
          var t = e.spec.attributes,
            r = e.spec.class;
          t && (this.attrs = ea(t, this.attrs || {})), r && (this.attrs = ea({ class: r }, this.attrs || {}));
        }
        domAtPos(e) {
          return Hg(this, e);
        }
        reuseDOM(e) {
          e.nodeName == "DIV" && (this.setDOM(e), (this.dirty |= 6));
        }
        sync(e, t) {
          var r;
          this.dom ? this.dirty & 4 && ($g(this.dom), (this.dom.className = "cm-line"), (this.prevAttrs = this.attrs ? null : void 0)) : (this.setDOM(document.createElement("div")), (this.dom.className = "cm-line"), (this.prevAttrs = this.attrs ? null : void 0)),
            this.prevAttrs !== void 0 && (ta(this.dom, this.prevAttrs, this.attrs), this.dom.classList.add("cm-line"), (this.prevAttrs = void 0)),
            super.sync(e, t);
          var n = this.dom.lastChild;
          for (; n && Ce.get(n) instanceof ni; ) n = n.lastChild;
          if (!n || !this.length || (n.nodeName != "BR" && ((r = Ce.get(n)) === null || r === void 0 ? void 0 : r.isEditable) == !1 && (!W.ios || !this.children.some((s) => s instanceof dr)))) {
            var s = document.createElement("BR");
            (s.cmIgnore = !0), this.dom.appendChild(s);
          }
        }
        measureTextSize() {
          if (this.children.length == 0 || this.length > 20) return null;
          var e = 0,
            t;
          var _iteratorNormalCompletion = true,
            _didIteratorError = false,
            _iteratorError = undefined;
          try {
            for (var _iterator = this.children[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
              var r = _step.value;
              if (!(r instanceof dr) || /[^ -~]/.test(r.text)) return null;
              var n = sn(r.dom);
              if (n.length != 1) return null;
              (e += n[0].width), (t = n[0].height);
            }
          } catch (err) {
            _didIteratorError = true;
            _iteratorError = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion && _iterator.return != null) {
                _iterator.return();
              }
            } finally {
              if (_didIteratorError) {
                throw _iteratorError;
              }
            }
          }
          return e ? { lineHeight: this.dom.getBoundingClientRect().height, charWidth: e / this.length, textHeight: t } : null;
        }
        coordsAt(e, t) {
          var r = jg(this, e, t);
          if (!this.children.length && r && this.parent) {
            var _this_parent_view_viewState = this.parent.view.viewState,
              n = _this_parent_view_viewState.heightOracle,
              s = r.bottom - r.top;
            if (Math.abs(s - n.lineHeight) < 2 && n.textHeight < s) {
              var o = (s - n.textHeight) / 2;
              return { top: r.top + o, bottom: r.bottom - o, left: r.left, right: r.left };
            }
          }
          return r;
        }
        become(e) {
          return !1;
        }
        get type() {
          return xe.Text;
        }
        static find(e, t) {
          for (var r = 0, n = 0; r < e.children.length; r++) {
            var s = e.children[r],
              o = n + s.length;
            if (o >= t) {
              if (s instanceof i) return s;
              if (o > t) break;
            }
            n = o + s.breakAfter;
          }
          return null;
        }
        constructor() {
          super(...arguments), (this.children = []), (this.length = 0), (this.prevAttrs = void 0), (this.attrs = null), (this.breakAfter = 0);
        }
      }),
      (() => {
        a(_i29, "LineView");
      })(),
      _i29),
    an =
      ((_i30 = class i extends Ce {
        merge(e, t, r, n, s, o) {
          return r && (!(r instanceof i) || !this.widget.compare(r.widget) || (e > 0 && s <= 0) || (t < this.length && o <= 0)) ? !1 : ((this.length = e + (r ? r.length : 0) + (this.length - t)), !0);
        }
        domAtPos(e) {
          return e == 0 ? Ne.before(this.dom) : Ne.after(this.dom, e == this.length);
        }
        split(e) {
          var t = this.length - e;
          this.length = e;
          var r = new i(this.widget, t, this.type);
          return (r.breakAfter = this.breakAfter), r;
        }
        get children() {
          return Ma;
        }
        sync(e) {
          (!this.dom || !this.widget.updateDOM(this.dom, e)) && (this.dom && this.prevWidget && this.prevWidget.destroy(this.dom), (this.prevWidget = null), this.setDOM(this.widget.toDOM(e)), (this.dom.contentEditable = "false"));
        }
        get overrideDOMText() {
          return this.parent ? this.parent.view.state.doc.slice(this.posAtStart, this.posAtEnd) : de.empty;
        }
        domBoundsAround() {
          return null;
        }
        become(e) {
          return e instanceof i && e.widget.constructor == this.widget.constructor ? (e.widget.compare(this.widget) || this.markDirty(!0), this.dom && !this.prevWidget && (this.prevWidget = this.widget), (this.widget = e.widget), (this.length = e.length), (this.type = e.type), (this.breakAfter = e.breakAfter), !0) : !1;
        }
        ignoreMutation() {
          return !0;
        }
        ignoreEvent(e) {
          return this.widget.ignoreEvent(e);
        }
        get isEditable() {
          return !1;
        }
        get isWidget() {
          return !0;
        }
        coordsAt(e, t) {
          return this.widget.coordsAt(this.dom, e, t);
        }
        destroy() {
          super.destroy(), this.dom && this.widget.destroy(this.dom);
        }
        constructor(e, t, r) {
          super(), (this.widget = e), (this.length = t), (this.type = r), (this.breakAfter = 0), (this.prevWidget = null);
        }
      }),
      (() => {
        a(_i30, "BlockWidgetView");
      })(),
      _i30),
    ra =
      ((_i31 = class i {
        posCovered() {
          if (this.content.length == 0) return !this.breakAtStart && this.doc.lineAt(this.pos).from != this.pos;
          var e = this.content[this.content.length - 1];
          return !e.breakAfter && !(e instanceof an && e.type == xe.WidgetBefore);
        }
        getLine() {
          return this.curLine || (this.content.push((this.curLine = new at())), (this.atCursorPos = !0)), this.curLine;
        }
        flushBuffer() {
          var e = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : this.bufferMarks;
          this.pendingBuffer && (this.curLine.append(Ms(new un(-1), e), e.length), (this.pendingBuffer = 0));
        }
        addBlockWidget(e) {
          this.flushBuffer(), (this.curLine = null), this.content.push(e);
        }
        finish(e) {
          this.pendingBuffer && e <= this.bufferMarks.length ? this.flushBuffer() : (this.pendingBuffer = 0), this.posCovered() || this.getLine();
        }
        buildText(e, t, r) {
          for (; e > 0; ) {
            if (this.textOff == this.text.length) {
              var _this_cursor_next = this.cursor.next(this.skip),
                s = _this_cursor_next.value,
                o = _this_cursor_next.lineBreak,
                u = _this_cursor_next.done;
              if (((this.skip = 0), u)) throw new Error("Ran out of text content when drawing inline views");
              if (o) {
                this.posCovered() || this.getLine(), this.content.length ? (this.content[this.content.length - 1].breakAfter = 1) : (this.breakAtStart = 1), this.flushBuffer(), (this.curLine = null), (this.atCursorPos = !0), e--;
                continue;
              } else (this.text = s), (this.textOff = 0);
            }
            var n = Math.min(this.text.length - this.textOff, e, 512);
            this.flushBuffer(t.slice(t.length - r)), this.getLine().append(Ms(new dr(this.text.slice(this.textOff, this.textOff + n)), t), r), (this.atCursorPos = !0), (this.textOff += n), (e -= n), (r = 0);
          }
        }
        span(e, t, r, n) {
          this.buildText(t - e, r, n), (this.pos = t), this.openStart < 0 && (this.openStart = n);
        }
        point(e, t, r, n, s, o) {
          if (this.disallowBlockEffectsFor[o] && r instanceof si) {
            if (r.block) throw new RangeError("Block decorations may not be specified via plugins");
            if (t > this.doc.lineAt(this.pos).to) throw new RangeError("Decorations that replace line breaks may not be specified via plugins");
          }
          var u = t - e;
          if (r instanceof si)
            if (r.block) {
              var l = r.type;
              l == xe.WidgetAfter && !this.posCovered() && this.getLine(), this.addBlockWidget(new an(r.widget || new eo("div"), u, l));
            } else {
              var l1 = on.create(r.widget || new eo("span"), u, u ? 0 : r.startSide),
                h = this.atCursorPos && !l1.isEditable && s <= n.length && (e < t || r.startSide > 0),
                c = !l1.isEditable && (e < t || s > n.length || r.startSide <= 0),
                f = this.getLine();
              this.pendingBuffer == 2 && !h && !l1.isEditable && (this.pendingBuffer = 0), this.flushBuffer(n), h && (f.append(Ms(new un(1), n), s), (s = n.length + Math.max(0, s - n.length))), f.append(Ms(l1, n), s), (this.atCursorPos = c), (this.pendingBuffer = c ? (e < t || s > n.length ? 1 : 2) : 0), this.pendingBuffer && (this.bufferMarks = n.slice());
            }
          else this.doc.lineAt(this.pos).from == this.pos && this.getLine().addLineDeco(r);
          u && (this.textOff + u <= this.text.length ? (this.textOff += u) : ((this.skip += u - (this.text.length - this.textOff)), (this.text = ""), (this.textOff = 0)), (this.pos = t)), this.openStart < 0 && (this.openStart = s);
        }
        static build(e, t, r, n, s) {
          var o = new i(e, t, r, s);
          return (o.openEnd = Ee.spans(n, t, r, o)), o.openStart < 0 && (o.openStart = o.openEnd), o.finish(o.openEnd), o;
        }
        constructor(e, t, r, n) {
          (this.doc = e), (this.pos = t), (this.end = r), (this.disallowBlockEffectsFor = n), (this.content = []), (this.curLine = null), (this.breakAtStart = 0), (this.pendingBuffer = 0), (this.bufferMarks = []), (this.atCursorPos = !0), (this.openStart = -1), (this.openEnd = -1), (this.text = ""), (this.textOff = 0), (this.cursor = e.iter()), (this.skip = t);
        }
      }),
      (() => {
        a(_i31, "ContentBuilder");
      })(),
      _i31);
  function Ms(i, e) {
    var _iteratorNormalCompletion = true,
      _didIteratorError = false,
      _iteratorError = undefined;
    try {
      for (var _iterator = e[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
        var t = _step.value;
        i = new ni(t, [i], i.length);
      }
    } catch (err) {
      _didIteratorError = true;
      _iteratorError = err;
    } finally {
      try {
        if (!_iteratorNormalCompletion && _iterator.return != null) {
          _iterator.return();
        }
      } finally {
        if (_didIteratorError) {
          throw _iteratorError;
        }
      }
    }
    return i;
  }
  a(Ms, "wrapMarks");
  var eo =
      ((_class39 = class _class extends Ut {
        eq(e) {
          return e.tag == this.tag;
        }
        toDOM() {
          return document.createElement(this.tag);
        }
        updateDOM(e) {
          return e.nodeName.toLowerCase() == this.tag;
        }
        get isHidden() {
          return !0;
        }
        constructor(e) {
          super(), (this.tag = e);
        }
      }),
      (() => {
        a(_class39, "NullWidget");
      })(),
      _class39),
    Gg = G.define(),
    Yg = G.define(),
    Kg = G.define(),
    Xg = G.define(),
    na = G.define(),
    Qg = G.define(),
    Jg = G.define(),
    Zg = G.define({ combine: (i) => i.some((e) => e) }),
    eD = G.define({ combine: (i) => i.some((e) => e) }),
    to =
      ((_i32 = class i {
        map(e) {
          return e.empty ? this : new i(this.range.map(e), this.y, this.x, this.yMargin, this.xMargin);
        }
        constructor(e, ref, ref1, ref2, ref3) {
          var t = ref === void 0 ? "nearest" : ref,
            r = ref1 === void 0 ? "nearest" : ref1,
            n = ref2 === void 0 ? 5 : ref2,
            s = ref3 === void 0 ? 5 : ref3;
          (this.range = e), (this.y = t), (this.x = r), (this.yMargin = n), (this.xMargin = s);
        }
      }),
      (() => {
        a(_i32, "ScrollTarget");
      })(),
      _i32),
    ng = pe.define({ map: (i, e) => i.map(e) });
  function ht(i, e, t) {
    var r = i.facet(Xg);
    r.length ? r[0](e) : window.onerror ? window.onerror(String(e), t, void 0, void 0, e) : t ? console.error(t + ":", e) : console.error(e);
  }
  a(ht, "logException");
  var Do = G.define({ combine: (i) => (i.length ? i[0] : !0) }),
    Vv = 0,
    Qr = G.define(),
    Ye =
      ((_i33 = class i {
        static define(e, t) {
          var _ref = t || {},
            r = _ref.eventHandlers,
            n = _ref.provide,
            s = _ref.decorations;
          return new i(Vv++, e, r, (o) => {
            var u = [Qr.of(o)];
            return (
              s &&
                u.push(
                  hn.of((l) => {
                    var h = l.plugin(o);
                    return h ? s(h) : he.none;
                  })
                ),
              n && u.push(n(o)),
              u
            );
          });
        }
        static fromClass(e, t) {
          return i.define((r) => new e(r), t);
        }
        constructor(e, t, r, n) {
          (this.id = e), (this.create = t), (this.domEventHandlers = r), (this.extension = n(this));
        }
      }),
      (() => {
        a(_i33, "ViewPlugin");
      })(),
      _i33),
    tn =
      ((_class40 = class _class {
        update(e) {
          if (this.value) {
            if (this.mustUpdate) {
              var _$t = this.mustUpdate;
              if (((this.mustUpdate = null), this.value.update))
                try {
                  this.value.update(_$t);
                } catch (r) {
                  if ((ht(_$t.state, r, "CodeMirror plugin crashed"), this.value.destroy))
                    try {
                      this.value.destroy();
                    } catch (e) {}
                  this.deactivate();
                }
            }
          } else if (this.spec)
            try {
              this.value = this.spec.create(e);
            } catch (t) {
              ht(e.state, t, "CodeMirror plugin crashed"), this.deactivate();
            }
          return this;
        }
        destroy(e) {
          var t;
          if (!((t = this.value) === null || t === void 0) && t.destroy)
            try {
              this.value.destroy();
            } catch (r) {
              ht(e.state, r, "CodeMirror plugin crashed");
            }
        }
        deactivate() {
          this.spec = this.value = null;
        }
        constructor(e) {
          (this.spec = e), (this.mustUpdate = null), (this.value = null);
        }
      }),
      (() => {
        a(_class40, "PluginInstance");
      })(),
      _class40),
    tD = G.define(),
    Pa = G.define(),
    hn = G.define(),
    La = G.define(),
    iD = G.define();
  function rD(i) {
    var e = 0,
      t = 0,
      r = 0,
      n = 0;
    var _iteratorNormalCompletion = true,
      _didIteratorError = false,
      _iteratorError = undefined;
    try {
      for (var _iterator = i.state.facet(iD)[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
        var s = _step.value;
        var o = s(i);
        o && (o.left != null && (e = Math.max(e, o.left)), o.right != null && (t = Math.max(t, o.right)), o.top != null && (r = Math.max(r, o.top)), o.bottom != null && (n = Math.max(n, o.bottom)));
      }
    } catch (err) {
      _didIteratorError = true;
      _iteratorError = err;
    } finally {
      try {
        if (!_iteratorNormalCompletion && _iterator.return != null) {
          _iterator.return();
        }
      } finally {
        if (_didIteratorError) {
          throw _iteratorError;
        }
      }
    }
    return { left: e, right: t, top: r, bottom: n };
  }
  a(rD, "getScrollMargins");
  var Jr = G.define(),
    ei =
      ((_i34 = class i {
        join(e) {
          return new i(Math.min(this.fromA, e.fromA), Math.max(this.toA, e.toA), Math.min(this.fromB, e.fromB), Math.max(this.toB, e.toB));
        }
        addToSet(e) {
          var t = e.length,
            r = this;
          for (; t > 0; t--) {
            var n = e[t - 1];
            if (!(n.fromA > r.toA)) {
              if (n.toA < r.fromA) break;
              (r = r.join(n)), e.splice(t - 1, 1);
            }
          }
          return e.splice(t, 0, r), e;
        }
        static extendWithRanges(e, t) {
          if (t.length == 0) return e;
          var r = [];
          for (var n = 0, s = 0, o = 0, u = 0; ; n++) {
            var l = n == e.length ? null : e[n],
              h = o - u,
              c = l ? l.fromB : 1e9;
            for (; s < t.length && t[s] < c; ) {
              var f = t[s],
                d = t[s + 1],
                p = Math.max(u, f),
                m = Math.min(c, d);
              if ((p <= m && new i(p + h, m + h, p, m).addToSet(r), d > c)) break;
              s += 2;
            }
            if (!l) return r;
            new i(l.fromA, l.toA, l.fromB, l.toB).addToSet(r), (o = l.toA), (u = l.toB);
          }
        }
        constructor(e, t, r, n) {
          (this.fromA = e), (this.toA = t), (this.fromB = r), (this.toB = n);
        }
      }),
      (() => {
        a(_i34, "ChangedRange");
      })(),
      _i34),
    io =
      ((_i35 = class i {
        static create(e, t, r) {
          return new i(e, t, r);
        }
        get viewportChanged() {
          return (this.flags & 4) > 0;
        }
        get heightChanged() {
          return (this.flags & 2) > 0;
        }
        get geometryChanged() {
          return this.docChanged || (this.flags & 10) > 0;
        }
        get focusChanged() {
          return (this.flags & 1) > 0;
        }
        get docChanged() {
          return !this.changes.empty;
        }
        get selectionSet() {
          return this.transactions.some((e) => e.selection);
        }
        get empty() {
          return this.flags == 0 && this.transactions.length == 0;
        }
        constructor(e, t, r) {
          (this.view = e), (this.state = t), (this.transactions = r), (this.flags = 0), (this.startState = e.state), (this.changes = Ue.empty(this.startState.doc.length));
          var _iteratorNormalCompletion = true,
            _didIteratorError = false,
            _iteratorError = undefined;
          try {
            for (var _iterator = r[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
              var s = _step.value;
              this.changes = this.changes.compose(s.changes);
            }
          } catch (err) {
            _didIteratorError = true;
            _iteratorError = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion && _iterator.return != null) {
                _iterator.return();
              }
            } finally {
              if (_didIteratorError) {
                throw _iteratorError;
              }
            }
          }
          var n = [];
          this.changes.iterChangedRanges((s, o, u, l) => n.push(new ei(s, o, u, l))), (this.changedRanges = n);
        }
      }),
      (() => {
        a(_i35, "ViewUpdate");
      })(),
      _i35),
    Se = (function (i) {
      return (i[(i.LTR = 0)] = "LTR"), (i[(i.RTL = 1)] = "RTL"), i;
    })(Se || (Se = {})),
    sa = Se.LTR,
    zv = Se.RTL;
  function nD(i) {
    var e = [];
    for (var t = 0; t < i.length; t++) e.push(1 << +i[t]);
    return e;
  }
  a(nD, "dec");
  var Hv = nD("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),
    Wv = nD("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),
    oa = Object.create(null),
    Bt = [];
  for (var _i66 = 0, _iter = ["()", "[]", "{}"]; _i66 < _iter.length; _i66++) {
    var i1 = _iter[_i66];
    var e = i1.charCodeAt(0),
      t = i1.charCodeAt(1);
    (oa[e] = t), (oa[t] = -e);
  }
  function jv(i) {
    return i <= 247 ? Hv[i] : 1424 <= i && i <= 1524 ? 2 : 1536 <= i && i <= 1785 ? Wv[i - 1536] : 1774 <= i && i <= 2220 ? 4 : 8192 <= i && i <= 8203 ? 256 : 64336 <= i && i <= 65023 ? 4 : i == 8204 ? 256 : 1;
  }
  a(jv, "charType");
  var Uv = /[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/,
    ti =
      ((_class41 = class _class {
        get dir() {
          return this.level % 2 ? zv : sa;
        }
        side(e, t) {
          return (this.dir == t) == e ? this.to : this.from;
        }
        static find(e, t, r, n) {
          var s = -1;
          for (var o = 0; o < e.length; o++) {
            var u = e[o];
            if (u.from <= t && u.to >= t) {
              if (u.level == r) return o;
              (s < 0 || (n != 0 ? (n < 0 ? u.from < t : u.to > t) : e[s].level > u.level)) && (s = o);
            }
          }
          if (s < 0) throw new RangeError("Index out of range");
          return s;
        }
        constructor(e, t, r) {
          (this.from = e), (this.to = t), (this.level = r);
        }
      }),
      (() => {
        a(_class41, "BidiSpan");
      })(),
      _class41),
    we = [];
  function Gv(i, e) {
    var t = i.length,
      r = e == sa ? 1 : 2,
      n = e == sa ? 2 : 1;
    if (!i || (r == 1 && !Uv.test(i))) return sD(t);
    for (var o = 0, u = r, l = r; o < t; o++) {
      var h = jv(i.charCodeAt(o));
      h == 512 ? (h = u) : h == 8 && l == 4 && (h = 16), (we[o] = h == 4 ? 2 : h), h & 7 && (l = h), (u = h);
    }
    for (var o1 = 0, u1 = r, l1 = r; o1 < t; o1++) {
      var h1 = we[o1];
      if (h1 == 128) o1 < t - 1 && u1 == we[o1 + 1] && u1 & 24 ? (h1 = we[o1] = u1) : (we[o1] = 256);
      else if (h1 == 64) {
        var c = o1 + 1;
        for (; c < t && we[c] == 64; ) c++;
        var f = (o1 && u1 == 8) || (c < t && we[c] == 8) ? (l1 == 1 ? 1 : 8) : 256;
        for (var d = o1; d < c; d++) we[d] = f;
        o1 = c - 1;
      } else h1 == 8 && l1 == 1 && (we[o1] = 1);
      (u1 = h1), h1 & 7 && (l1 = h1);
    }
    for (var o2 = 0, u2 = 0, l2 = 0, h2, c1, f1; o2 < t; o2++)
      if ((c1 = oa[(h2 = i.charCodeAt(o2))]))
        if (c1 < 0) {
          for (var d1 = u2 - 3; d1 >= 0; d1 -= 3)
            if (Bt[d1 + 1] == -c1) {
              var p = Bt[d1 + 2],
                m = p & 2 ? r : p & 4 ? (p & 1 ? n : r) : 0;
              m && (we[o2] = we[Bt[d1]] = m), (u2 = d1);
              break;
            }
        } else {
          if (Bt.length == 189) break;
          (Bt[u2++] = o2), (Bt[u2++] = h2), (Bt[u2++] = l2);
        }
      else if ((f1 = we[o2]) == 2 || f1 == 1) {
        var d2 = f1 == r;
        l2 = d2 ? 0 : 1;
        for (var p1 = u2 - 3; p1 >= 0; p1 -= 3) {
          var m1 = Bt[p1 + 2];
          if (m1 & 2) break;
          if (d2) Bt[p1 + 2] |= 2;
          else {
            if (m1 & 4) break;
            Bt[p1 + 2] |= 4;
          }
        }
      }
    for (var o3 = 0; o3 < t; o3++)
      if (we[o3] == 256) {
        var u3 = o3 + 1;
        for (; u3 < t && we[u3] == 256; ) u3++;
        var l3 = (o3 ? we[o3 - 1] : r) == 1,
          h3 = (u3 < t ? we[u3] : r) == 1,
          c2 = l3 == h3 ? (l3 ? 1 : 2) : r;
        for (var f2 = o3; f2 < u3; f2++) we[f2] = c2;
        o3 = u3 - 1;
      }
    var s = [];
    if (r == 1)
      for (var o4 = 0; o4 < t; ) {
        var u4 = o4,
          l4 = we[o4++] != 1;
        for (; o4 < t && l4 == (we[o4] != 1); ) o4++;
        if (l4)
          for (var h4 = o4; h4 > u4; ) {
            var c3 = h4,
              f3 = we[--h4] != 2;
            for (; h4 > u4 && f3 == (we[h4 - 1] != 2); ) h4--;
            s.push(new ti(h4, c3, f3 ? 2 : 1));
          }
        else s.push(new ti(u4, o4, 0));
      }
    else
      for (var o5 = 0; o5 < t; ) {
        var u5 = o5,
          l5 = we[o5++] == 2;
        for (; o5 < t && l5 == (we[o5] == 2); ) o5++;
        s.push(new ti(u5, o5, l5 ? 1 : 2));
      }
    return s;
  }
  a(Gv, "computeOrder");
  function sD(i) {
    return [new ti(0, i, 0)];
  }
  a(sD, "trivialOrder");
  var oD = "";
  function Yv(i, e, t, r, n) {
    var s;
    var o = r.head - i.from,
      u = -1;
    if (o == 0) {
      if (!n || !i.length) return null;
      e[0].level != t && ((o = e[0].side(!1, t)), (u = 0));
    } else if (o == i.length) {
      if (n) return null;
      var d = e[e.length - 1];
      d.level != t && ((o = d.side(!0, t)), (u = e.length - 1));
    }
    u < 0 && (u = ti.find(e, o, (s = r.bidiLevel) !== null && s !== void 0 ? s : -1, r.assoc));
    var l = e[u];
    o == l.side(n, t) && ((l = e[(u += n ? 1 : -1)]), (o = l.side(!n, t)));
    var h = n == (l.dir == t),
      c = yt(i.text, o, h);
    if (((oD = i.text.slice(Math.min(o, c), Math.max(o, c))), c != l.side(n, t))) return Q.cursor(c + i.from, h ? -1 : 1, l.level);
    var f = u == (n ? e.length - 1 : 0) ? null : e[u + (n ? 1 : -1)];
    return !f && l.level != t ? Q.cursor(n ? i.to : i.from, n ? -1 : 1, t) : f && f.level < l.level ? Q.cursor(f.side(!n, t) + i.from, n ? 1 : -1, f.level) : Q.cursor(c + i.from, n ? -1 : 1, l.level);
  }
  a(Yv, "moveVisually");
  var or = "￿",
    ro =
      ((_class42 = class _class {
        append(e) {
          this.text += e;
        }
        lineBreak() {
          this.text += or;
        }
        readRange(e, t) {
          if (!e) return this;
          var r = e.parentNode;
          for (var n = e; ; ) {
            this.findPointBefore(r, n);
            var s = this.text.length;
            this.readNode(n);
            var o = n.nextSibling;
            if (o == t) break;
            var u = Ce.get(n),
              l = Ce.get(o);
            (u && l ? u.breakAfter : (u ? u.breakAfter : sg(n)) || (sg(o) && (n.nodeName != "BR" || n.cmIgnore) && this.text.length > s)) && this.lineBreak(), (n = o);
          }
          return this.findPointBefore(r, t), this;
        }
        readTextNode(e) {
          var t = e.nodeValue;
          var _iteratorNormalCompletion = true,
            _didIteratorError = false,
            _iteratorError = undefined;
          try {
            for (var _iterator = this.points[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
              var r = _step.value;
              r.node == e && (r.pos = this.text.length + Math.min(r.offset, t.length));
            }
          } catch (err) {
            _didIteratorError = true;
            _iteratorError = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion && _iterator.return != null) {
                _iterator.return();
              }
            } finally {
              if (_didIteratorError) {
                throw _iteratorError;
              }
            }
          }
          for (var r1 = 0, n = this.lineSeparator ? null : /\r\n?|\n/g; ; ) {
            var s = -1,
              o = 1,
              u = void 0;
            if ((this.lineSeparator ? ((s = t.indexOf(this.lineSeparator, r1)), (o = this.lineSeparator.length)) : (u = n.exec(t)) && ((s = u.index), (o = u[0].length)), this.append(t.slice(r1, s < 0 ? t.length : s)), s < 0)) break;
            var _iteratorNormalCompletion1 = true,
              _didIteratorError1 = false,
              _iteratorError1 = undefined;
            if ((this.lineBreak(), o > 1))
              try {
                for (var _iterator1 = this.points[Symbol.iterator](), _step1; !(_iteratorNormalCompletion1 = (_step1 = _iterator1.next()).done); _iteratorNormalCompletion1 = true) {
                  var l = _step1.value;
                  l.node == e && l.pos > this.text.length && (l.pos -= o - 1);
                }
              } catch (err) {
                _didIteratorError1 = true;
                _iteratorError1 = err;
              } finally {
                try {
                  if (!_iteratorNormalCompletion1 && _iterator1.return != null) {
                    _iterator1.return();
                  }
                } finally {
                  if (_didIteratorError1) {
                    throw _iteratorError1;
                  }
                }
              }
            r1 = s + o;
          }
        }
        readNode(e) {
          if (e.cmIgnore) return;
          var t = Ce.get(e),
            r = t && t.overrideDOMText;
          if (r != null) {
            this.findPointInside(e, r.length);
            for (var n = r.iter(); !n.next().done; ) n.lineBreak ? this.lineBreak() : this.append(n.value);
          } else e.nodeType == 3 ? this.readTextNode(e) : e.nodeName == "BR" ? e.nextSibling && this.lineBreak() : e.nodeType == 1 && this.readRange(e.firstChild, null);
        }
        findPointBefore(e, t) {
          var _iteratorNormalCompletion = true,
            _didIteratorError = false,
            _iteratorError = undefined;
          try {
            for (var _iterator = this.points[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
              var r = _step.value;
              r.node == e && e.childNodes[r.offset] == t && (r.pos = this.text.length);
            }
          } catch (err) {
            _didIteratorError = true;
            _iteratorError = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion && _iterator.return != null) {
                _iterator.return();
              }
            } finally {
              if (_didIteratorError) {
                throw _iteratorError;
              }
            }
          }
        }
        findPointInside(e, t) {
          var _iteratorNormalCompletion = true,
            _didIteratorError = false,
            _iteratorError = undefined;
          try {
            for (var _iterator = this.points[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
              var r = _step.value;
              (e.nodeType == 3 ? r.node == e : e.contains(r.node)) && (r.pos = this.text.length + Math.min(t, r.offset));
            }
          } catch (err) {
            _didIteratorError = true;
            _iteratorError = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion && _iterator.return != null) {
                _iterator.return();
              }
            } finally {
              if (_didIteratorError) {
                throw _iteratorError;
              }
            }
          }
        }
        constructor(e, t) {
          (this.points = e), (this.text = ""), (this.lineSeparator = t.facet(Ae.lineSeparator));
        }
      }),
      (() => {
        a(_class42, "DOMReader");
      })(),
      _class42);
  function sg(i) {
    return i.nodeType == 1 && /^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(i.nodeName);
  }
  a(sg, "isBlockElement");
  var no =
      ((_class43 = class _class {
        constructor(e, t) {
          (this.node = e), (this.offset = t), (this.pos = -1);
        }
      }),
      (() => {
        a(_class43, "DOMPoint");
      })(),
      _class43),
    so =
      ((_class44 = class _class extends Ce {
        get length() {
          return this.view.state.doc.length;
        }
        update(e) {
          var t = e.changedRanges;
          this.minWidth > 0 &&
            t.length &&
            (t.every((param) => {
              var o = param.fromA,
                u = param.toA;
              return u < this.minWidthFrom || o > this.minWidthTo;
            })
              ? ((this.minWidthFrom = e.changes.mapPos(this.minWidthFrom, 1)), (this.minWidthTo = e.changes.mapPos(this.minWidthTo, 1)))
              : (this.minWidth = this.minWidthFrom = this.minWidthTo = 0)),
            this.view.inputState.composing < 0 ? (this.compositionDeco = he.none) : (e.transactions.length || this.dirty) && (this.compositionDeco = Xv(this.view, e.changes)),
            (W.ie || W.chrome) && !this.compositionDeco.size && e && e.state.doc.lines != e.startState.doc.lines && (this.forceSelection = !0);
          var r = this.decorations,
            n = this.updateDeco(),
            s = Jv(r, n, e.changes);
          return (t = ei.extendWithRanges(t, s)), this.dirty == 0 && t.length == 0 ? !1 : (this.updateInner(t, e.startState.doc.length), e.transactions.length && (this.lastUpdate = Date.now()), !0);
        }
        updateInner(e, t) {
          (this.view.viewState.mustMeasureContent = !0), this.updateChildren(e, t);
          var _this_view = this.view,
            r = _this_view.observer;
          r.ignore(() => {
            (this.dom.style.height = this.view.viewState.contentHeight + "px"), (this.dom.style.flexBasis = this.minWidth ? this.minWidth + "px" : "");
            var s = W.chrome || W.ios ? { node: r.selectionRange.focusNode, written: !1 } : void 0;
            this.sync(this.view, s), (this.dirty = 0), s && (s.written || r.selectionRange.focusNode != s.node) && (this.forceSelection = !0), (this.dom.style.height = "");
          });
          var n = [];
          var _iteratorNormalCompletion = true,
            _didIteratorError = false,
            _iteratorError = undefined;
          if (this.view.viewport.from || this.view.viewport.to < this.view.state.doc.length)
            try {
              for (var _iterator = this.children[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
                var s = _step.value;
                s instanceof an && s.widget instanceof oo && n.push(s.dom);
              }
            } catch (err) {
              _didIteratorError = true;
              _iteratorError = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion && _iterator.return != null) {
                  _iterator.return();
                }
              } finally {
                if (_didIteratorError) {
                  throw _iteratorError;
                }
              }
            }
          r.updateGaps(n);
        }
        updateChildren(e, t) {
          var r = this.childCursor(t);
          for (var n = e.length - 1; ; n--) {
            var s = n >= 0 ? e[n] : null;
            if (!s) break;
            var o = s.fromA,
              u = s.toA,
              l = s.fromB,
              h = s.toB,
              _ra_build = ra.build(this.view.state.doc, l, h, this.decorations, this.dynamicDecorationMap),
              c = _ra_build.content,
              f = _ra_build.breakAtStart,
              d = _ra_build.openStart,
              p = _ra_build.openEnd,
              _r_findPos = r.findPos(u, 1),
              m = _r_findPos.i,
              b = _r_findPos.off,
              _r_findPos1 = r.findPos(o, -1),
              g = _r_findPos1.i,
              D = _r_findPos1.off;
            Pg(this, g, D, m, b, c, f, d, p);
          }
        }
        updateSelection() {
          var e = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : !1,
            t = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : !1;
          (e || !this.view.observer.selectionRange.focusNode) && this.view.observer.readSelectionRange();
          var r = this.view.root.activeElement,
            n = r == this.dom,
            s = !n && zs(this.dom, this.view.observer.selectionRange) && !(r && this.dom.contains(r));
          if (!(n || t || s)) return;
          var o = this.forceSelection;
          this.forceSelection = !1;
          var u = this.view.state.selection.main,
            l = this.domAtPos(u.anchor),
            h = u.empty ? l : this.domAtPos(u.head);
          if (W.gecko && u.empty && !this.compositionDeco.size && Kv(l)) {
            var f = document.createTextNode("");
            this.view.observer.ignore(() => l.node.insertBefore(f, l.node.childNodes[l.offset] || null)), (l = h = new Ne(f, 0)), (o = !0);
          }
          var c = this.view.observer.selectionRange;
          (o || !c.focusNode || !Ks(l.node, l.offset, c.anchorNode, c.anchorOffset) || !Ks(h.node, h.offset, c.focusNode, c.focusOffset)) &&
            (this.view.observer.ignore(() => {
              W.android && W.chrome && this.dom.contains(c.focusNode) && Zv(c.focusNode, this.dom) && (this.dom.blur(), this.dom.focus({ preventScroll: !0 }));
              var f = Ys(this.view.root);
              if (f)
                if (u.empty) {
                  if (W.gecko) {
                    var d = Qv(l.node, l.offset);
                    if (d && d != 3) {
                      var p = lD(l.node, l.offset, d == 1 ? 1 : -1);
                      p && (l = new Ne(p, d == 1 ? 0 : p.nodeValue.length));
                    }
                  }
                  f.collapse(l.node, l.offset), u.bidiLevel != null && c.cursorBidiLevel != null && (c.cursorBidiLevel = u.bidiLevel);
                } else if (f.extend) {
                  f.collapse(l.node, l.offset);
                  try {
                    f.extend(h.node, h.offset);
                  } catch (e) {}
                } else {
                  var d1 = document.createRange();
                  var ref;
                  u.anchor > u.head && ((ref = [h, l]), (l = ref[0]), (h = ref[1]), ref), d1.setEnd(h.node, h.offset), d1.setStart(l.node, l.offset), f.removeAllRanges(), f.addRange(d1);
                }
              s && this.view.root.activeElement == this.dom && (this.dom.blur(), r && r.focus());
            }),
            this.view.observer.setSelectionRange(l, h)),
            (this.impreciseAnchor = l.precise ? null : new Ne(c.anchorNode, c.anchorOffset)),
            (this.impreciseHead = h.precise ? null : new Ne(c.focusNode, c.focusOffset));
        }
        enforceCursorAssoc() {
          if (this.compositionDeco.size) return;
          var _this = this,
            e = _this.view,
            t = e.state.selection.main,
            r = Ys(e.root),
            _e_observer_selectionRange = e.observer.selectionRange,
            n = _e_observer_selectionRange.anchorNode,
            s = _e_observer_selectionRange.anchorOffset;
          if (!r || !t.empty || !t.assoc || !r.modify) return;
          var o = at.find(this, t.head);
          if (!o) return;
          var u = o.posAtStart;
          if (t.head == u || t.head == u + o.length) return;
          var l = this.coordsAt(t.head, -1),
            h = this.coordsAt(t.head, 1);
          if (!l || !h || l.bottom > h.top) return;
          var c = this.domAtPos(t.head + t.assoc);
          r.collapse(c.node, c.offset), r.modify("move", t.assoc < 0 ? "forward" : "backward", "lineboundary"), e.observer.readSelectionRange();
          var f = e.observer.selectionRange;
          e.docView.posFromDOM(f.anchorNode, f.anchorOffset) != t.from && r.collapse(n, s);
        }
        nearest(e) {
          for (var t = e; t; ) {
            var r = Ce.get(t);
            if (r && r.rootView == this) return r;
            t = t.parentNode;
          }
          return null;
        }
        posFromDOM(e, t) {
          var r = this.nearest(e);
          if (!r) throw new RangeError("Trying to find position for a DOM position outside of the document");
          return r.localPosFromDOM(e, t) + r.posAtStart;
        }
        domAtPos(e) {
          var _this_childCursor_findPos = this.childCursor().findPos(e, -1),
            t = _this_childCursor_findPos.i,
            r = _this_childCursor_findPos.off;
          for (; t < this.children.length - 1; ) {
            var n = this.children[t];
            if (r < n.length || n instanceof at) break;
            t++, (r = 0);
          }
          return this.children[t].domAtPos(r);
        }
        coordsAt(e, t) {
          for (var r = this.length, n = this.children.length - 1; ; n--) {
            var s = this.children[n],
              o = r - s.breakAfter - s.length;
            if (e > o || (e == o && s.type != xe.WidgetBefore && s.type != xe.WidgetAfter && (!n || t == 2 || this.children[n - 1].breakAfter || (this.children[n - 1].type == xe.WidgetBefore && t > -2)))) return s.coordsAt(e - o, t);
            r = o;
          }
        }
        measureVisibleLineHeights(e) {
          var t = [],
            r = e.from,
            n = e.to,
            s = this.view.contentDOM.clientWidth,
            o = s > Math.max(this.view.scrollDOM.clientWidth, this.minWidth) + 1,
            u = -1,
            l = this.view.textDirection == Se.LTR;
          for (var h = 0, c = 0; c < this.children.length; c++) {
            var f = this.children[c],
              d = h + f.length;
            if (d > n) break;
            if (h >= r) {
              var p = f.dom.getBoundingClientRect();
              if ((t.push(p.height), o)) {
                var m = f.dom.lastChild,
                  b = m ? sn(m) : [];
                if (b.length) {
                  var g = b[b.length - 1],
                    D = l ? g.right - p.left : p.right - g.left;
                  D > u && ((u = D), (this.minWidth = s), (this.minWidthFrom = h), (this.minWidthTo = d));
                }
              }
            }
            h = d + f.breakAfter;
          }
          return t;
        }
        textDirectionAt(e) {
          var _this_childPos = this.childPos(e, 1),
            t = _this_childPos.i;
          return getComputedStyle(this.children[t].dom).direction == "rtl" ? Se.RTL : Se.LTR;
        }
        measureTextSize() {
          var _iteratorNormalCompletion = true,
            _didIteratorError = false,
            _iteratorError = undefined;
          try {
            for (var _iterator = this.children[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
              var s = _step.value;
              if (s instanceof at) {
                var o = s.measureTextSize();
                if (o) return o;
              }
            }
          } catch (err) {
            _didIteratorError = true;
            _iteratorError = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion && _iterator.return != null) {
                _iterator.return();
              }
            } finally {
              if (_didIteratorError) {
                throw _iteratorError;
              }
            }
          }
          var e = document.createElement("div"),
            t,
            r,
            n;
          return (
            (e.className = "cm-line"),
            (e.style.width = "99999px"),
            (e.textContent = "abc def ghi jkl mno pqr stu"),
            this.view.observer.ignore(() => {
              this.dom.appendChild(e);
              var s = sn(e.firstChild)[0];
              (t = e.getBoundingClientRect().height), (r = s ? s.width / 27 : 7), (n = s ? s.height : t), e.remove();
            }),
            { lineHeight: t, charWidth: r, textHeight: n }
          );
        }
        childCursor() {
          var e = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : this.length;
          var t = this.children.length;
          return t && (e -= this.children[--t].length), new Qs(this.children, e, t);
        }
        computeBlockGapDeco() {
          var e = [],
            t = this.view.viewState;
          for (var r = 0, n = 0; ; n++) {
            var s = n == t.viewports.length ? null : t.viewports[n],
              o = s ? s.from - 1 : this.length;
            if (o > r) {
              var u = t.lineBlockAt(o).bottom - t.lineBlockAt(r).top;
              e.push(he.replace({ widget: new oo(u), block: !0, inclusive: !0, isBlockGap: !0 }).range(r, o));
            }
            if (!s) break;
            r = s.to + 1;
          }
          return he.set(e);
        }
        updateDeco() {
          var e = this.view.state.facet(hn).map((t, r) => ((this.dynamicDecorationMap[r] = typeof t == "function") ? t(this.view) : t));
          for (var t = e.length; t < e.length + 3; t++) this.dynamicDecorationMap[t] = !1;
          return (this.decorations = [...e, this.compositionDeco, this.computeBlockGapDeco(), this.view.viewState.lineGapDeco]);
        }
        scrollIntoView(e) {
          var t = e.range,
            r = this.coordsAt(t.head, t.empty ? t.assoc : t.head > t.anchor ? -1 : 1),
            n;
          if (!r) return;
          !t.empty && (n = this.coordsAt(t.anchor, t.anchor > t.head ? -1 : 1)) && (r = { left: Math.min(r.left, n.left), top: Math.min(r.top, n.top), right: Math.max(r.right, n.right), bottom: Math.max(r.bottom, n.bottom) });
          var s = rD(this.view),
            o = { left: r.left - s.left, top: r.top - s.top, right: r.right + s.right, bottom: r.bottom + s.bottom };
          Mv(this.view.scrollDOM, o, t.head < t.anchor ? -1 : 1, e.x, e.y, e.xMargin, e.yMargin, this.view.textDirection == Se.LTR);
        }
        constructor(e) {
          super(),
            (this.view = e),
            (this.compositionDeco = he.none),
            (this.decorations = []),
            (this.dynamicDecorationMap = []),
            (this.minWidth = 0),
            (this.minWidthFrom = 0),
            (this.minWidthTo = 0),
            (this.impreciseAnchor = null),
            (this.impreciseHead = null),
            (this.forceSelection = !1),
            (this.lastUpdate = Date.now()),
            this.setDOM(e.contentDOM),
            (this.children = [new at()]),
            this.children[0].setParent(this),
            this.updateDeco(),
            this.updateInner([new ei(0, 0, 0, e.state.doc.length)], 0);
        }
      }),
      (() => {
        a(_class44, "DocView");
      })(),
      _class44);
  function Kv(i) {
    return i.node.nodeType == 1 && i.node.firstChild && (i.offset == 0 || i.node.childNodes[i.offset - 1].contentEditable == "false") && (i.offset == i.node.childNodes.length || i.node.childNodes[i.offset].contentEditable == "false");
  }
  a(Kv, "betweenUneditable");
  var oo =
    ((_class45 = class _class extends Ut {
      toDOM() {
        var e = document.createElement("div");
        return this.updateDOM(e), e;
      }
      eq(e) {
        return e.height == this.height;
      }
      updateDOM(e) {
        return (e.style.height = this.height + "px"), !0;
      }
      get estimatedHeight() {
        return this.height;
      }
      constructor(e) {
        super(), (this.height = e);
      }
    }),
    (() => {
      a(_class45, "BlockGapWidget");
    })(),
    _class45);
  function uD(i) {
    var e = i.observer.selectionRange,
      t = e.focusNode && lD(e.focusNode, e.focusOffset, 0);
    if (!t) return null;
    var r = i.docView.nearest(t);
    if (!r) return null;
    if (r instanceof at) {
      var n = t;
      for (; n.parentNode != r.dom; ) n = n.parentNode;
      var s = n.previousSibling;
      for (; s && !Ce.get(s); ) s = s.previousSibling;
      var o = s ? Ce.get(s).posAtEnd : r.posAtStart;
      return { from: o, to: o, node: n, text: t };
    } else {
      for (;;) {
        var s1 = r.parent;
        if (!s1) return null;
        if (s1 instanceof at) break;
        r = s1;
      }
      var n1 = r.posAtStart;
      return { from: n1, to: n1 + r.length, node: r.dom, text: t };
    }
  }
  a(uD, "compositionSurroundingNode");
  function Xv(i, e) {
    var t = uD(i);
    if (!t) return he.none;
    var r = t.from,
      n = t.to,
      s = t.node,
      o = t.text,
      u = e.mapPos(r, 1),
      l = Math.max(u, e.mapPos(n, -1)),
      h = i.state,
      c = new ro([], h);
    s.nodeType == 3 ? c.readTextNode(s) : c.readRange(s.firstChild, null);
    var f = c.text;
    if (f.indexOf(or) > -1) return he.none;
    if (l - u < f.length)
      if (h.doc.sliceString(u, Math.min(h.doc.length, u + f.length)) == f) l = u + f.length;
      else if (h.doc.sliceString(Math.max(0, l - f.length), l) == f) u = l - f.length;
      else return he.none;
    else if (h.doc.sliceString(u, l) != f) return he.none;
    var d = Ce.get(s);
    return d instanceof Js ? (d = d.widget.topView) : d && (d.parent = null), he.set(he.replace({ widget: new ua(s, o, d), inclusive: !0 }).range(u, l));
  }
  a(Xv, "computeCompositionDeco");
  var ua =
    ((_class46 = class _class extends Ut {
      eq(e) {
        return this.top == e.top && this.text == e.text;
      }
      toDOM() {
        return this.top;
      }
      ignoreEvent() {
        return !1;
      }
      get customView() {
        return Js;
      }
      constructor(e, t, r) {
        super(), (this.top = e), (this.text = t), (this.topView = r);
      }
    }),
    (() => {
      a(_class46, "CompositionWidget");
    })(),
    _class46);
  function lD(i, e, t) {
    if (t <= 0)
      for (var r = i, n = e; ; ) {
        if (r.nodeType == 3) return r;
        if (r.nodeType == 1 && n > 0) (r = r.childNodes[n - 1]), (n = ri(r));
        else break;
      }
    if (t >= 0)
      for (var r1 = i, n1 = e; ; ) {
        if (r1.nodeType == 3) return r1;
        if (r1.nodeType == 1 && n1 < r1.childNodes.length && t >= 0) (r1 = r1.childNodes[n1]), (n1 = 0);
        else break;
      }
    return null;
  }
  a(lD, "nearbyTextNode");
  function Qv(i, e) {
    return i.nodeType != 1 ? 0 : (e && i.childNodes[e - 1].contentEditable == "false" ? 1 : 0) | (e < i.childNodes.length && i.childNodes[e].contentEditable == "false" ? 2 : 0);
  }
  a(Qv, "nextToUneditable");
  var la =
    ((_class47 = class _class {
      compareRange(e, t) {
        ia(e, t, this.changes);
      }
      comparePoint(e, t) {
        ia(e, t, this.changes);
      }
      constructor() {
        this.changes = [];
      }
    }),
    (() => {
      a(_class47, "DecorationComparator$1");
    })(),
    _class47);
  function Jv(i, e, t) {
    var r = new la();
    return Ee.compare(i, e, t, r), r.changes;
  }
  a(Jv, "findChangedDeco");
  function Zv(i, e) {
    for (var t = i; t && t != e; t = t.assignedSlot || t.parentNode) if (t.nodeType == 1 && t.contentEditable == "false") return !0;
    return !1;
  }
  a(Zv, "inUneditable");
  function ek(i, e) {
    var t = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : 1;
    var r = i.charCategorizer(e),
      n = i.doc.lineAt(e),
      s = e - n.from;
    if (n.length == 0) return Q.cursor(e);
    s == 0 ? (t = 1) : s == n.length && (t = -1);
    var o = s,
      u = s;
    t < 0 ? (o = yt(n.text, s, !1)) : (u = yt(n.text, s));
    var l = r(n.text.slice(o, u));
    for (; o > 0; ) {
      var h = yt(n.text, o, !1);
      if (r(n.text.slice(h, o)) != l) break;
      o = h;
    }
    for (; u < n.length; ) {
      var h1 = yt(n.text, u);
      if (r(n.text.slice(u, h1)) != l) break;
      u = h1;
    }
    return Q.range(o + n.from, u + n.from);
  }
  a(ek, "groupAt");
  function tk(i, e) {
    return e.left > i ? e.left - i : Math.max(0, i - e.right);
  }
  a(tk, "getdx");
  function ik(i, e) {
    return e.top > i ? e.top - i : Math.max(0, i - e.bottom);
  }
  a(ik, "getdy");
  function Hl(i, e) {
    return i.top < e.bottom - 1 && i.bottom > e.top + 1;
  }
  a(Hl, "yOverlap");
  function og(i, e) {
    return e < i.top ? { top: e, left: i.left, right: i.right, bottom: i.bottom } : i;
  }
  a(og, "upTop");
  function ug(i, e) {
    return e > i.bottom ? { top: i.top, left: i.left, right: i.right, bottom: e } : i;
  }
  a(ug, "upBot");
  function aa(i, e, t) {
    var r,
      n,
      s,
      o,
      u = !1,
      l,
      h,
      c,
      f;
    for (var m = i.firstChild; m; m = m.nextSibling) {
      var b = sn(m);
      for (var g = 0; g < b.length; g++) {
        var D = b[g];
        n && Hl(n, D) && (D = og(ug(D, n.bottom), n.top));
        var F = tk(e, D),
          w = ik(t, D);
        if (F == 0 && w == 0) return m.nodeType == 3 ? lg(m, e, t) : aa(m, e, t);
        if (!r || o > w || (o == w && s > F)) {
          (r = m), (n = D), (s = F), (o = w);
          var x = w ? (t < D.top ? -1 : 1) : F ? (e < D.left ? -1 : 1) : 0;
          u = !x || (x > 0 ? g < b.length - 1 : g > 0);
        }
        F == 0 ? (t > D.bottom && (!c || c.bottom < D.bottom) ? ((l = m), (c = D)) : t < D.top && (!f || f.top > D.top) && ((h = m), (f = D))) : c && Hl(c, D) ? (c = ug(c, D.bottom)) : f && Hl(f, D) && (f = og(f, D.top));
      }
    }
    if ((c && c.bottom >= t ? ((r = l), (n = c)) : f && f.top <= t && ((r = h), (n = f)), !r)) return { node: i, offset: 0 };
    var d = Math.max(n.left, Math.min(n.right, e));
    if (r.nodeType == 3) return lg(r, d, t);
    if (u && r.contentEditable != "false") return aa(r, d, t);
    var p = Array.prototype.indexOf.call(i.childNodes, r) + (e >= (n.left + n.right) / 2 ? 1 : 0);
    return { node: i, offset: p };
  }
  a(aa, "domPosAtCoords");
  function lg(i, e, t) {
    var r = i.nodeValue.length,
      n = -1,
      s = 1e9,
      o = 0;
    for (var u = 0; u < r; u++) {
      var l = fr(i, u, u + 1).getClientRects();
      for (var h = 0; h < l.length; h++) {
        var c = l[h];
        if (c.top == c.bottom) continue;
        o || (o = e - c.left);
        var f = (c.top > t ? c.top - t : t - c.bottom) - 1;
        if (c.left - 1 <= e && c.right + 1 >= e && f < s) {
          var d = e >= (c.left + c.right) / 2,
            p = d;
          if (((W.chrome || W.gecko) && fr(i, u).getBoundingClientRect().left == c.right && (p = !d), f <= 0)) return { node: i, offset: u + (p ? 1 : 0) };
          (n = u + (p ? 1 : 0)), (s = f);
        }
      }
    }
    return { node: i, offset: n > -1 ? n : o > 0 ? i.nodeValue.length : 0 };
  }
  a(lg, "domPosInText");
  function aD(i, e, t) {
    var r = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : -1;
    var n, s;
    var o = i.contentDOM.getBoundingClientRect(),
      u = o.top + i.viewState.paddingTop,
      l,
      _i_viewState = i.viewState,
      h = _i_viewState.docHeight,
      c = e.x,
      f = e.y,
      d = f - u;
    if (d < 0) return 0;
    if (d > h) return i.state.doc.length;
    for (var x = i.defaultLineHeight / 2, E = !1; (l = i.elementAtHeight(d)), l.type != xe.Text; )
      for (; (d = r > 0 ? l.bottom + x : l.top - x), !(d >= 0 && d <= h); ) {
        if (E) return t ? null : 0;
        (E = !0), (r = -r);
      }
    f = u + d;
    var p = l.from;
    if (p < i.viewport.from) return i.viewport.from == 0 ? 0 : t ? null : ag(i, o, l, c, f);
    if (p > i.viewport.to) return i.viewport.to == i.state.doc.length ? i.state.doc.length : t ? null : ag(i, o, l, c, f);
    var m = i.dom.ownerDocument,
      b = i.root.elementFromPoint ? i.root : m,
      g = b.elementFromPoint(c, f);
    g && !i.contentDOM.contains(g) && (g = null), g || ((c = Math.max(o.left + 1, Math.min(o.right - 1, c))), (g = b.elementFromPoint(c, f)), g && !i.contentDOM.contains(g) && (g = null));
    var D,
      F = -1;
    if (g && ((n = i.docView.nearest(g)) === null || n === void 0 ? void 0 : n.isEditable) != !1) {
      if (m.caretPositionFromPoint) {
        var x1 = m.caretPositionFromPoint(c, f);
        var ref;
        x1 && ((ref = x1), (D = ref.offsetNode), (F = ref.offset), ref);
      } else if (m.caretRangeFromPoint) {
        var x2 = m.caretRangeFromPoint(c, f);
        var ref1;
        x2 && ((ref1 = x2), (D = ref1.startContainer), (F = ref1.startOffset), ref1, (!i.contentDOM.contains(D) || (W.safari && rk(D, F, c)) || (W.chrome && nk(D, F, c))) && (D = void 0));
      }
    }
    if (!D || !i.docView.dom.contains(D)) {
      var x3 = at.find(i.docView, p);
      if (!x3) return d > l.top + l.height / 2 ? l.to : l.from;
      var ref2;
      (ref2 = aa(x3.dom, c, f)), (D = ref2.node), (F = ref2.offset), ref2;
    }
    var w = i.docView.nearest(D);
    if (!w) return null;
    if (w.isWidget && ((s = w.dom) === null || s === void 0 ? void 0 : s.nodeType) == 1) {
      var x4 = w.dom.getBoundingClientRect();
      return e.y < x4.top || (e.y <= x4.bottom && e.x <= (x4.left + x4.right) / 2) ? w.posAtStart : w.posAtEnd;
    } else return w.localPosFromDOM(D, F) + w.posAtStart;
  }
  a(aD, "posAtCoords");
  function ag(i, e, t, r, n) {
    var s = Math.round((r - e.left) * i.defaultCharacterWidth);
    if (i.lineWrapping && t.height > i.defaultLineHeight * 1.5) {
      var u = Math.floor((n - t.top) / i.defaultLineHeight);
      s += u * i.viewState.heightOracle.lineLength;
    }
    var o = i.state.sliceDoc(t.from, t.to);
    return t.from + G0(o, s, i.state.tabSize);
  }
  a(ag, "posAtCoordsImprecise");
  function rk(i, e, t) {
    var r;
    if (i.nodeType != 3 || e != (r = i.nodeValue.length)) return !1;
    for (var n = i.nextSibling; n; n = n.nextSibling) if (n.nodeType != 1 || n.nodeName != "BR") return !1;
    return fr(i, r - 1, r).getBoundingClientRect().left > t;
  }
  a(rk, "isSuspiciousSafariCaretResult");
  function nk(i, e, t) {
    if (e != 0) return !1;
    for (var n = i; ; ) {
      var s = n.parentNode;
      if (!s || s.nodeType != 1 || s.firstChild != n) return !1;
      if (s.classList.contains("cm-line")) break;
      n = s;
    }
    var r = i.nodeType == 1 ? i.getBoundingClientRect() : fr(i, 0, Math.max(i.nodeValue.length, 1)).getBoundingClientRect();
    return t - r.left > 5;
  }
  a(nk, "isSuspiciousChromeCaretResult");
  function ha(i, e) {
    var t = i.lineBlockAt(e);
    if (Array.isArray(t.type)) {
      var _iteratorNormalCompletion = true,
        _didIteratorError = false,
        _iteratorError = undefined;
      try {
        for (var _iterator = t.type[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
          var r = _step.value;
          if (r.to > e || (r.to == e && (r.to == t.to || r.type == xe.Text))) return r;
        }
      } catch (err) {
        _didIteratorError = true;
        _iteratorError = err;
      } finally {
        try {
          if (!_iteratorNormalCompletion && _iterator.return != null) {
            _iterator.return();
          }
        } finally {
          if (_didIteratorError) {
            throw _iteratorError;
          }
        }
      }
    }
    return t;
  }
  a(ha, "blockAt");
  function sk(i, e, t, r) {
    var n = ha(i, e.head),
      s = !r || n.type != xe.Text || !(i.lineWrapping || n.widgetLineBreaks) ? null : i.coordsAtPos(e.assoc < 0 && e.head > n.from ? e.head - 1 : e.head);
    if (s) {
      var o = i.dom.getBoundingClientRect(),
        u = i.textDirectionAt(n.from),
        l = i.posAtCoords({ x: t == (u == Se.LTR) ? o.right - 1 : o.left + 1, y: (s.top + s.bottom) / 2 });
      if (l != null) return Q.cursor(l, t ? -1 : 1);
    }
    return Q.cursor(t ? n.to : n.from, t ? -1 : 1);
  }
  a(sk, "moveToLineBoundary");
  function hg(i, e, t, r) {
    var n = i.state.doc.lineAt(e.head),
      s = i.bidiSpans(n),
      o = i.textDirectionAt(n.from);
    for (var u = e, l = null; ; ) {
      var h = Yv(n, s, o, u, t),
        c = oD;
      if (!h) {
        if (n.number == (t ? i.state.doc.lines : 1)) return u;
        (c = "\n"), (n = i.state.doc.line(n.number + (t ? 1 : -1))), (s = i.bidiSpans(n)), (h = Q.cursor(t ? n.from : n.to));
      }
      if (l) {
        if (!l(c)) return u;
      } else {
        if (!r) return h;
        l = r(c);
      }
      u = h;
    }
  }
  a(hg, "moveByChar");
  function ok(i, e, t) {
    var r = i.state.charCategorizer(e),
      n = r(t);
    return (s) => {
      var o = r(s);
      return n == Ft.Space && (n = o), n == o;
    };
  }
  a(ok, "byGroup");
  function uk(i, e, t, r) {
    var n = e.head,
      s = t ? 1 : -1;
    if (n == (t ? i.state.doc.length : 0)) return Q.cursor(n, e.assoc);
    var o = e.goalColumn,
      u,
      l = i.contentDOM.getBoundingClientRect(),
      h = i.coordsAtPos(n),
      c = i.documentTop;
    if (h) o == null && (o = h.left - l.left), (u = s < 0 ? h.top : h.bottom);
    else {
      var p = i.viewState.lineBlockAt(n);
      o == null && (o = Math.min(l.right - l.left, i.defaultCharacterWidth * (n - p.from))), (u = (s < 0 ? p.top : p.bottom) + c);
    }
    var f = l.left + o,
      d = r !== null && r !== void 0 ? r : i.defaultLineHeight >> 1;
    for (var p1 = 0; ; p1 += 10) {
      var m = u + (d + p1) * s,
        b = aD(i, { x: f, y: m }, !1, s);
      if (m < l.top || m > l.bottom || (s < 0 ? b < n : b > n)) return Q.cursor(b, e.assoc, void 0, o);
    }
  }
  a(uk, "moveVertically");
  function Hs(i, e, t) {
    for (;;) {
      var r = 0;
      var _iteratorNormalCompletion = true,
        _didIteratorError = false,
        _iteratorError = undefined;
      try {
        for (var _iterator = i[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
          var n = _step.value;
          n.between(e - 1, e + 1, (s, o, u) => {
            if (e > s && e < o) {
              var l = r || t || (e - s < o - e ? -1 : 1);
              (e = l < 0 ? s : o), (r = l);
            }
          });
        }
      } catch (err) {
        _didIteratorError = true;
        _iteratorError = err;
      } finally {
        try {
          if (!_iteratorNormalCompletion && _iterator.return != null) {
            _iterator.return();
          }
        } finally {
          if (_didIteratorError) {
            throw _iteratorError;
          }
        }
      }
      if (!r) return e;
    }
  }
  a(Hs, "skipAtomicRanges");
  function Wl(i, e, t) {
    var r = Hs(
      i.state.facet(La).map((n) => n(i)),
      t.from,
      e.head > t.from ? -1 : 1
    );
    return r == t.from ? t : Q.cursor(r, r < t.from ? 1 : -1);
  }
  a(Wl, "skipAtoms");
  var ca =
      ((_class48 = class _class {
        setSelectionOrigin(e) {
          (this.lastSelectionOrigin = e), (this.lastSelectionTime = Date.now());
        }
        ensureHandlers(e, t) {
          var r;
          var n;
          this.customHandlers = [];
          var _iteratorNormalCompletion = true,
            _didIteratorError = false,
            _iteratorError = undefined;
          try {
            for (var _iterator = t[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
              var s = _step.value;
              if ((n = (r = s.update(e).spec) === null || r === void 0 ? void 0 : r.domEventHandlers)) {
                var _this = this,
                  _loop = function (o) {
                    _this.registeredEvents.indexOf(o) < 0 &&
                      o != "scroll" &&
                      (_this.registeredEvents.push(o),
                      e.contentDOM.addEventListener(o, (u) => {
                        cg(e, u) && _this.runCustomHandlers(o, e, u) && u.preventDefault();
                      }));
                  };
                this.customHandlers.push({ plugin: s.value, handlers: n });
                for (var o in n) _loop(o);
              }
            }
          } catch (err) {
            _didIteratorError = true;
            _iteratorError = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion && _iterator.return != null) {
                _iterator.return();
              }
            } finally {
              if (_didIteratorError) {
                throw _iteratorError;
              }
            }
          }
        }
        runCustomHandlers(e, t, r) {
          var _iteratorNormalCompletion = true,
            _didIteratorError = false,
            _iteratorError = undefined;
          try {
            for (var _iterator = this.customHandlers[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
              var n = _step.value;
              var s = n.handlers[e];
              if (s)
                try {
                  if (s.call(n.plugin, r, t) || r.defaultPrevented) return !0;
                } catch (o) {
                  ht(t.state, o);
                }
            }
          } catch (err) {
            _didIteratorError = true;
            _iteratorError = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion && _iterator.return != null) {
                _iterator.return();
              }
            } finally {
              if (_didIteratorError) {
                throw _iteratorError;
              }
            }
          }
          return !1;
        }
        runScrollHandlers(e, t) {
          (this.lastScrollTop = e.scrollDOM.scrollTop), (this.lastScrollLeft = e.scrollDOM.scrollLeft);
          var _iteratorNormalCompletion = true,
            _didIteratorError = false,
            _iteratorError = undefined;
          try {
            for (var _iterator = this.customHandlers[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
              var r = _step.value;
              var n = r.handlers.scroll;
              if (n)
                try {
                  n.call(r.plugin, t, e);
                } catch (s) {
                  ht(e.state, s);
                }
            }
          } catch (err) {
            _didIteratorError = true;
            _iteratorError = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion && _iterator.return != null) {
                _iterator.return();
              }
            } finally {
              if (_didIteratorError) {
                throw _iteratorError;
              }
            }
          }
        }
        keydown(e, t) {
          if (((this.lastKeyCode = t.keyCode), (this.lastKeyTime = Date.now()), t.keyCode == 9 && Date.now() < this.lastEscPress + 2e3)) return !0;
          if ((t.keyCode != 27 && cD.indexOf(t.keyCode) < 0 && (e.inputState.lastEscPress = 0), W.android && W.chrome && !t.synthetic && (t.keyCode == 13 || t.keyCode == 8))) return e.observer.delayAndroidKey(t.key, t.keyCode), !0;
          var r;
          return W.ios && !t.synthetic && !t.altKey && !t.metaKey && (((r = hD.find((n) => n.keyCode == t.keyCode)) && !t.ctrlKey) || (lk.indexOf(t.key) > -1 && t.ctrlKey && !t.shiftKey)) ? ((this.pendingIOSKey = r || t), setTimeout(() => this.flushIOSKey(e), 250), !0) : !1;
        }
        flushIOSKey(e) {
          var t = this.pendingIOSKey;
          return t ? ((this.pendingIOSKey = void 0), hr(e.contentDOM, t.key, t.keyCode)) : !1;
        }
        ignoreDuringComposition(e) {
          return /^key/.test(e.type) ? (this.composing > 0 ? !0 : W.safari && !W.ios && this.compositionPendingKey && Date.now() - this.compositionEndedAt < 100 ? ((this.compositionPendingKey = !1), !0) : !1) : !1;
        }
        mustFlushObserver(e) {
          return e.type == "keydown" && e.keyCode != 229;
        }
        startMouseSelection(e) {
          this.mouseSelection && this.mouseSelection.destroy(), (this.mouseSelection = e);
        }
        update(e) {
          this.mouseSelection && this.mouseSelection.update(e), e.transactions.length && (this.lastKeyCode = this.lastSelectionTime = 0);
        }
        destroy() {
          this.mouseSelection && this.mouseSelection.destroy();
        }
        constructor(e) {
          var _this = this,
            _loop = function (r) {
              var n = Te[r];
              e.contentDOM.addEventListener(
                r,
                (s) => {
                  cg(e, s) && t(n, s);
                },
                da[r]
              ),
                _this.registeredEvents.push(r);
            };
          (this.lastKeyCode = 0),
            (this.lastKeyTime = 0),
            (this.lastTouchTime = 0),
            (this.lastFocusTime = 0),
            (this.lastScrollTop = 0),
            (this.lastScrollLeft = 0),
            (this.chromeScrollHack = -1),
            (this.pendingIOSKey = void 0),
            (this.lastSelectionOrigin = null),
            (this.lastSelectionTime = 0),
            (this.lastEscPress = 0),
            (this.lastContextMenu = 0),
            (this.scrollHandlers = []),
            (this.registeredEvents = []),
            (this.customHandlers = []),
            (this.composing = -1),
            (this.compositionFirstChange = null),
            (this.compositionEndedAt = 0),
            (this.compositionPendingKey = !1),
            (this.compositionPendingChange = !1),
            (this.mouseSelection = null);
          var t = a((r, n) => {
            this.ignoreDuringComposition(n) || (n.type == "keydown" && this.keydown(e, n)) || (this.mustFlushObserver(n) && e.observer.forceFlush(), this.runCustomHandlers(n.type, e, n) ? n.preventDefault() : r(e, n));
          }, "handleEvent");
          for (var r in Te) _loop(r);
          e.scrollDOM.addEventListener("mousedown", (r) => {
            if (r.target == e.scrollDOM && r.clientY > e.contentDOM.getBoundingClientRect().bottom && (t(Te.mousedown, r), !r.defaultPrevented && r.button == 2)) {
              var n = e.contentDOM.style.minHeight;
              (e.contentDOM.style.minHeight = "100%"), setTimeout(() => (e.contentDOM.style.minHeight = n), 200);
            }
          }),
            e.scrollDOM.addEventListener("drop", (r) => {
              r.target == e.scrollDOM && r.clientY > e.contentDOM.getBoundingClientRect().bottom && t(Te.drop, r);
            }),
            W.chrome &&
              W.chrome_version == 102 &&
              e.scrollDOM.addEventListener(
                "wheel",
                () => {
                  this.chromeScrollHack < 0 ? (e.contentDOM.style.pointerEvents = "none") : window.clearTimeout(this.chromeScrollHack),
                    (this.chromeScrollHack = setTimeout(() => {
                      (this.chromeScrollHack = -1), (e.contentDOM.style.pointerEvents = "");
                    }, 100));
                },
                { passive: !0 }
              ),
            (this.notifiedFocused = e.hasFocus),
            W.safari && e.contentDOM.addEventListener("input", () => null);
        }
      }),
      (() => {
        a(_class48, "InputState");
      })(),
      _class48),
    hD = [
      { key: "Backspace", keyCode: 8, inputType: "deleteContentBackward" },
      { key: "Enter", keyCode: 13, inputType: "insertParagraph" },
      { key: "Delete", keyCode: 46, inputType: "deleteContentForward" },
    ],
    lk = "dthko",
    cD = [16, 17, 18, 20, 91, 92, 224, 225],
    $s = 6;
  function Ps(i) {
    return Math.max(0, i) * 0.7 + 8;
  }
  a(Ps, "dragScrollSpeed");
  var fa =
    ((_class49 = class _class {
      start(e) {
        this.dragging === !1 && (e.preventDefault(), this.select(e));
      }
      move(e) {
        var t;
        if (e.buttons == 0) return this.destroy();
        if (this.dragging !== !1) return;
        this.select((this.lastEvent = e));
        var r = 0,
          n = 0,
          s = ((t = this.scrollParent) === null || t === void 0 ? void 0 : t.getBoundingClientRect()) || { left: 0, top: 0, right: this.view.win.innerWidth, bottom: this.view.win.innerHeight },
          o = rD(this.view);
        e.clientX - o.left <= s.left + $s ? (r = -Ps(s.left - e.clientX)) : e.clientX + o.right >= s.right - $s && (r = Ps(e.clientX - s.right)), e.clientY - o.top <= s.top + $s ? (n = -Ps(s.top - e.clientY)) : e.clientY + o.bottom >= s.bottom - $s && (n = Ps(e.clientY - s.bottom)), this.setScrollSpeed(r, n);
      }
      up(e) {
        this.dragging == null && this.select(this.lastEvent), this.dragging || e.preventDefault(), this.destroy();
      }
      destroy() {
        this.setScrollSpeed(0, 0);
        var e = this.view.contentDOM.ownerDocument;
        e.removeEventListener("mousemove", this.move), e.removeEventListener("mouseup", this.up), (this.view.inputState.mouseSelection = null);
      }
      setScrollSpeed(e, t) {
        (this.scrollSpeed = { x: e, y: t }), e || t ? this.scrolling < 0 && (this.scrolling = setInterval(() => this.scroll(), 50)) : this.scrolling > -1 && (clearInterval(this.scrolling), (this.scrolling = -1));
      }
      scroll() {
        this.scrollParent ? ((this.scrollParent.scrollLeft += this.scrollSpeed.x), (this.scrollParent.scrollTop += this.scrollSpeed.y)) : this.view.win.scrollBy(this.scrollSpeed.x, this.scrollSpeed.y), this.dragging === !1 && this.select(this.lastEvent);
      }
      skipAtoms(e) {
        var t = null;
        for (var r = 0; r < e.ranges.length; r++) {
          var n = e.ranges[r],
            s = null;
          if (n.empty) {
            var o = Hs(this.atoms, n.from, 0);
            o != n.from && (s = Q.cursor(o, -1));
          } else {
            var o1 = Hs(this.atoms, n.from, -1),
              u = Hs(this.atoms, n.to, 1);
            (o1 != n.from || u != n.to) && (s = Q.range(n.from == n.anchor ? o1 : u, n.from == n.head ? o1 : u));
          }
          s && (t || (t = e.ranges.slice()), (t[r] = s));
        }
        return t ? Q.create(t, e.mainIndex) : e;
      }
      select(e) {
        var _this = this,
          t = _this.view,
          r = this.skipAtoms(this.style.get(e, this.extend, this.multiple));
        (this.mustSelect || !r.eq(t.state.selection) || r.main.assoc != t.state.selection.main.assoc) && this.view.dispatch({ selection: r, userEvent: "select.pointer" }), (this.mustSelect = !1);
      }
      update(e) {
        e.docChanged && this.dragging && (this.dragging = this.dragging.map(e.changes)), this.style.update(e) && setTimeout(() => this.select(this.lastEvent), 20);
      }
      constructor(e, t, r, n) {
        (this.view = e), (this.style = r), (this.mustSelect = n), (this.scrollSpeed = { x: 0, y: 0 }), (this.scrolling = -1), (this.lastEvent = t), (this.scrollParent = $v(e.contentDOM)), (this.atoms = e.state.facet(La).map((o) => o(e)));
        var s = e.contentDOM.ownerDocument;
        s.addEventListener("mousemove", (this.move = this.move.bind(this))), s.addEventListener("mouseup", (this.up = this.up.bind(this))), (this.extend = t.shiftKey), (this.multiple = e.state.facet(Ae.allowMultipleSelections) && ak(e, t)), (this.dragMove = hk(e, t)), (this.dragging = ck(e, t) && mD(t) == 1 ? null : !1);
      }
    }),
    (() => {
      a(_class49, "MouseSelection");
    })(),
    _class49);
  function ak(i, e) {
    var t = i.state.facet(Gg);
    return t.length ? t[0](e) : W.mac ? e.metaKey : e.ctrlKey;
  }
  a(ak, "addsSelectionRange");
  function hk(i, e) {
    var t = i.state.facet(Yg);
    return t.length ? t[0](e) : W.mac ? !e.altKey : !e.ctrlKey;
  }
  a(hk, "dragMovesSelection");
  function ck(i, e) {
    var _i_state_selection = i.state.selection,
      t = _i_state_selection.main;
    if (t.empty) return !1;
    var r = Ys(i.root);
    if (!r || r.rangeCount == 0) return !0;
    var n = r.getRangeAt(0).getClientRects();
    for (var s = 0; s < n.length; s++) {
      var o = n[s];
      if (o.left <= e.clientX && o.right >= e.clientX && o.top <= e.clientY && o.bottom >= e.clientY) return !0;
    }
    return !1;
  }
  a(ck, "isInPrimarySelection");
  function cg(i, e) {
    if (!e.bubbles) return !0;
    if (e.defaultPrevented) return !1;
    for (var t = e.target, r; t != i.contentDOM; t = t.parentNode) if (!t || t.nodeType == 11 || ((r = Ce.get(t)) && r.ignoreEvent(e))) return !1;
    return !0;
  }
  a(cg, "eventBelongsToEditor");
  var Te = Object.create(null),
    da = Object.create(null),
    fD = (W.ie && W.ie_version < 15) || (W.ios && W.webkit_version < 604);
  function fk(i) {
    var e = i.dom.parentNode;
    if (!e) return;
    var t = e.appendChild(document.createElement("textarea"));
    (t.style.cssText = "position: fixed; left: -10000px; top: 10px"),
      t.focus(),
      setTimeout(() => {
        i.focus(), t.remove(), dD(i, t.value);
      }, 50);
  }
  a(fk, "capturePaste");
  function dD(i, e) {
    var t = i.state,
      r,
      n = 1,
      s = t.toText(e),
      o = s.lines == t.selection.ranges.length;
    if (pa != null && t.selection.ranges.every((l) => l.empty) && pa == s.toString()) {
      var l = -1;
      r = t.changeByRange((h) => {
        var c = t.doc.lineAt(h.from);
        if (c.from == l) return { range: h };
        l = c.from;
        var f = t.toText((o ? s.line(n++).text : e) + t.lineBreak);
        return { changes: { from: c.from, insert: f }, range: Q.cursor(h.from + f.length) };
      });
    } else
      o
        ? (r = t.changeByRange((l) => {
            var h = s.line(n++);
            return { changes: { from: l.from, to: l.to, insert: h.text }, range: Q.cursor(l.from + h.length) };
          }))
        : (r = t.replaceSelection(s));
    i.dispatch(r, { userEvent: "input.paste", scrollIntoView: !0 });
  }
  a(dD, "doPaste");
  Te.keydown = (i, e) => {
    i.inputState.setSelectionOrigin("select"), e.keyCode == 27 && (i.inputState.lastEscPress = Date.now());
  };
  Te.touchstart = (i, e) => {
    (i.inputState.lastTouchTime = Date.now()), i.inputState.setSelectionOrigin("select.pointer");
  };
  Te.touchmove = (i) => {
    i.inputState.setSelectionOrigin("select.pointer");
  };
  da.touchstart = da.touchmove = { passive: !0 };
  Te.mousedown = (i, e) => {
    if ((i.observer.flush(), i.inputState.lastTouchTime > Date.now() - 2e3)) return;
    var t = null;
    var _iteratorNormalCompletion = true,
      _didIteratorError = false,
      _iteratorError = undefined;
    try {
      for (var _iterator = i.state.facet(Kg)[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
        var r = _step.value;
        if (((t = r(i, e)), t)) break;
      }
    } catch (err) {
      _didIteratorError = true;
      _iteratorError = err;
    } finally {
      try {
        if (!_iteratorNormalCompletion && _iterator.return != null) {
          _iterator.return();
        }
      } finally {
        if (_didIteratorError) {
          throw _iteratorError;
        }
      }
    }
    if ((!t && e.button == 0 && (t = mk(i, e)), t)) {
      var r1 = i.root.activeElement != i.contentDOM;
      i.inputState.startMouseSelection(new fa(i, e, t, r1)), r1 && i.observer.ignore(() => Mg(i.contentDOM)), i.inputState.mouseSelection && i.inputState.mouseSelection.start(e);
    }
  };
  function fg(i, e, t, r) {
    if (r == 1) return Q.cursor(e, t);
    if (r == 2) return ek(i.state, e, t);
    {
      var n = at.find(i.docView, e),
        s = i.state.doc.lineAt(n ? n.posAtEnd : e),
        o = n ? n.posAtStart : s.from,
        u = n ? n.posAtEnd : s.to;
      return u < i.state.doc.length && u == s.to && u++, Q.range(o, u);
    }
  }
  a(fg, "rangeForClick");
  var pD = a((i, e) => i >= e.top && i <= e.bottom, "insideY"),
    dg = a((i, e, t) => pD(e, t) && i >= t.left && i <= t.right, "inside");
  function dk(i, e, t, r) {
    var n = at.find(i.docView, e);
    if (!n) return 1;
    var s = e - n.posAtStart;
    if (s == 0) return 1;
    if (s == n.length) return -1;
    var o = n.coordsAt(s, -1);
    if (o && dg(t, r, o)) return -1;
    var u = n.coordsAt(s, 1);
    return u && dg(t, r, u) ? 1 : o && pD(r, o) ? -1 : 1;
  }
  a(dk, "findPositionSide");
  function pg(i, e) {
    var t = i.posAtCoords({ x: e.clientX, y: e.clientY }, !1);
    return { pos: t, bias: dk(i, t, e.clientX, e.clientY) };
  }
  a(pg, "queryPos");
  var pk = W.ie && W.ie_version <= 11,
    mg = null,
    gg = 0,
    Dg = 0;
  function mD(i) {
    if (!pk) return i.detail;
    var e = mg,
      t = Dg;
    return (mg = i), (Dg = Date.now()), (gg = !e || (t > Date.now() - 400 && Math.abs(e.clientX - i.clientX) < 2 && Math.abs(e.clientY - i.clientY) < 2) ? (gg + 1) % 3 : 1);
  }
  a(mD, "getClickType");
  function mk(i, e) {
    var t = pg(i, e),
      r = mD(e),
      n = i.state.selection;
    return {
      update(s) {
        s.docChanged && ((t.pos = s.changes.mapPos(t.pos)), (n = n.map(s.changes)));
      },
      get(s, o, u) {
        var l = pg(i, s),
          h,
          c = fg(i, l.pos, l.bias, r);
        if (t.pos != l.pos && !o) {
          var f = fg(i, t.pos, t.bias, r),
            d = Math.min(f.from, c.from),
            p = Math.max(f.to, c.to);
          c = d < c.from ? Q.range(d, p) : Q.range(p, d);
        }
        return o ? n.replaceRange(n.main.extend(c.from, c.to)) : u && r == 1 && n.ranges.length > 1 && (h = gk(n, l.pos)) ? h : u ? n.addRange(c) : Q.create([c]);
      },
    };
  }
  a(mk, "basicMouseSelection");
  function gk(i, e) {
    for (var t = 0; t < i.ranges.length; t++) {
      var _i_ranges_t = i.ranges[t],
        r = _i_ranges_t.from,
        n = _i_ranges_t.to;
      if (r <= e && n >= e) return Q.create(i.ranges.slice(0, t).concat(i.ranges.slice(t + 1)), i.mainIndex == t ? 0 : i.mainIndex - (i.mainIndex > t ? 1 : 0));
    }
    return null;
  }
  a(gk, "removeRangeAround");
  Te.dragstart = (i, e) => {
    var _i_state = i.state,
      _i_state_selection = _i_state.selection,
      t = _i_state_selection.main,
      _i_inputState = i.inputState,
      r = _i_inputState.mouseSelection;
    r && (r.dragging = t), e.dataTransfer && (e.dataTransfer.setData("Text", i.state.sliceDoc(t.from, t.to)), (e.dataTransfer.effectAllowed = "copyMove"));
  };
  function bg(i, e, t, r) {
    if (!t) return;
    var n = i.posAtCoords({ x: e.clientX, y: e.clientY }, !1);
    e.preventDefault();
    var _i_inputState = i.inputState,
      s = _i_inputState.mouseSelection,
      o = r && s && s.dragging && s.dragMove ? { from: s.dragging.from, to: s.dragging.to } : null,
      u = { from: n, insert: t },
      l = i.state.changes(o ? [o, u] : u);
    i.focus(), i.dispatch({ changes: l, selection: { anchor: l.mapPos(n, -1), head: l.mapPos(n, 1) }, userEvent: o ? "move.drop" : "input.drop" });
  }
  a(bg, "dropText");
  Te.drop = (i, e) => {
    if (!e.dataTransfer) return;
    if (i.state.readOnly) return e.preventDefault();
    var t = e.dataTransfer.files;
    if (t && t.length) {
      var _loop = function (o) {
        var u = new FileReader();
        (u.onerror = s),
          (u.onload = () => {
            /[\x00-\x08\x0e-\x1f]{2}/.test(u.result) || (r[o] = u.result), s();
          }),
          u.readAsText(t[o]);
      };
      e.preventDefault();
      var r = Array(t.length),
        n = 0,
        s = a(() => {
          ++n == t.length && bg(i, e, r.filter((o) => o != null).join(i.state.lineBreak), !1);
        }, "finishFile");
      for (var o = 0; o < t.length; o++) _loop(o);
    } else bg(i, e, e.dataTransfer.getData("Text"), !0);
  };
  Te.paste = (i, e) => {
    if (i.state.readOnly) return e.preventDefault();
    i.observer.flush();
    var t = fD ? null : e.clipboardData;
    t ? (dD(i, t.getData("text/plain") || t.getData("text/uri-text")), e.preventDefault()) : fk(i);
  };
  function Dk(i, e) {
    var t = i.dom.parentNode;
    if (!t) return;
    var r = t.appendChild(document.createElement("textarea"));
    (r.style.cssText = "position: fixed; left: -10000px; top: 10px"),
      (r.value = e),
      r.focus(),
      (r.selectionEnd = e.length),
      (r.selectionStart = 0),
      setTimeout(() => {
        r.remove(), i.focus();
      }, 50);
  }
  a(Dk, "captureCopy");
  function bk(i) {
    var e = [],
      t = [],
      r = !1;
    var _iteratorNormalCompletion = true,
      _didIteratorError = false,
      _iteratorError = undefined;
    try {
      for (var _iterator = i.selection.ranges[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
        var n = _step.value;
        n.empty || (e.push(i.sliceDoc(n.from, n.to)), t.push(n));
      }
    } catch (err) {
      _didIteratorError = true;
      _iteratorError = err;
    } finally {
      try {
        if (!_iteratorNormalCompletion && _iterator.return != null) {
          _iterator.return();
        }
      } finally {
        if (_didIteratorError) {
          throw _iteratorError;
        }
      }
    }
    if (!e.length) {
      var n1 = -1;
      var _iteratorNormalCompletion1 = true,
        _didIteratorError1 = false,
        _iteratorError1 = undefined;
      try {
        for (var _iterator1 = i.selection.ranges[Symbol.iterator](), _step1; !(_iteratorNormalCompletion1 = (_step1 = _iterator1.next()).done); _iteratorNormalCompletion1 = true) {
          var _step_value = _step1.value,
            s = _step_value.from;
          var o = i.doc.lineAt(s);
          o.number > n1 && (e.push(o.text), t.push({ from: o.from, to: Math.min(i.doc.length, o.to + 1) })), (n1 = o.number);
        }
      } catch (err) {
        _didIteratorError1 = true;
        _iteratorError1 = err;
      } finally {
        try {
          if (!_iteratorNormalCompletion1 && _iterator1.return != null) {
            _iterator1.return();
          }
        } finally {
          if (_didIteratorError1) {
            throw _iteratorError1;
          }
        }
      }
      r = !0;
    }
    return { text: e.join(i.lineBreak), ranges: t, linewise: r };
  }
  a(bk, "copiedRange");
  var pa = null;
  Te.copy = Te.cut = (i, e) => {
    var _bk = bk(i.state),
      t = _bk.text,
      r = _bk.ranges,
      n = _bk.linewise;
    if (!t && !n) return;
    pa = n ? t : null;
    var s = fD ? null : e.clipboardData;
    s ? (e.preventDefault(), s.clearData(), s.setData("text/plain", t)) : Dk(i, t), e.type == "cut" && !i.state.readOnly && i.dispatch({ changes: r, scrollIntoView: !0, userEvent: "delete.cut" });
  };
  var gD = ot.define();
  function DD(i, e) {
    var t = [];
    var _iteratorNormalCompletion = true,
      _didIteratorError = false,
      _iteratorError = undefined;
    try {
      for (var _iterator = i.facet(Jg)[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
        var r = _step.value;
        var n = r(i, e);
        n && t.push(n);
      }
    } catch (err) {
      _didIteratorError = true;
      _iteratorError = err;
    } finally {
      try {
        if (!_iteratorNormalCompletion && _iterator.return != null) {
          _iterator.return();
        }
      } finally {
        if (_didIteratorError) {
          throw _iteratorError;
        }
      }
    }
    return t ? i.update({ effects: t, annotations: gD.of(!0) }) : null;
  }
  a(DD, "focusChangeTransaction");
  function bD(i) {
    setTimeout(() => {
      var e = i.hasFocus;
      if (e != i.inputState.notifiedFocused) {
        var t = DD(i.state, e);
        t ? i.dispatch(t) : i.update([]);
      }
    }, 10);
  }
  a(bD, "updateForFocusChange");
  Te.focus = (i) => {
    (i.inputState.lastFocusTime = Date.now()), !i.scrollDOM.scrollTop && (i.inputState.lastScrollTop || i.inputState.lastScrollLeft) && ((i.scrollDOM.scrollTop = i.inputState.lastScrollTop), (i.scrollDOM.scrollLeft = i.inputState.lastScrollLeft)), bD(i);
  };
  Te.blur = (i) => {
    i.observer.clearSelectionRange(), bD(i);
  };
  Te.compositionstart = Te.compositionupdate = (i) => {
    i.inputState.compositionFirstChange == null && (i.inputState.compositionFirstChange = !0), i.inputState.composing < 0 && (i.inputState.composing = 0);
  };
  Te.compositionend = (i) => {
    (i.inputState.composing = -1),
      (i.inputState.compositionEndedAt = Date.now()),
      (i.inputState.compositionPendingKey = !0),
      (i.inputState.compositionPendingChange = i.observer.pendingRecords().length > 0),
      (i.inputState.compositionFirstChange = null),
      W.chrome && W.android
        ? i.observer.flushSoon()
        : i.inputState.compositionPendingChange
        ? Promise.resolve().then(() => i.observer.flush())
        : setTimeout(() => {
            i.inputState.composing < 0 && i.docView.compositionDeco.size && i.update([]);
          }, 50);
  };
  Te.contextmenu = (i) => {
    i.inputState.lastContextMenu = Date.now();
  };
  Te.beforeinput = (i, e) => {
    var t;
    var r;
    if (W.chrome && W.android && (r = hD.find((n) => n.inputType == e.inputType)) && (i.observer.delayAndroidKey(r.key, r.keyCode), r.key == "Backspace" || r.key == "Delete")) {
      var n = ((t = window.visualViewport) === null || t === void 0 ? void 0 : t.height) || 0;
      setTimeout(() => {
        var s;
        (((s = window.visualViewport) === null || s === void 0 ? void 0 : s.height) || 0) > n + 10 && i.hasFocus && (i.contentDOM.blur(), i.focus());
      }, 100);
    }
  };
  var Fg = ["pre-wrap", "normal", "pre-line", "break-spaces"],
    ma =
      ((_class50 = class _class {
        heightForGap(e, t) {
          var r = this.doc.lineAt(t).number - this.doc.lineAt(e).number + 1;
          return this.lineWrapping && (r += Math.max(0, Math.ceil((t - e - r * this.lineLength * 0.5) / this.lineLength))), this.lineHeight * r;
        }
        heightForLine(e) {
          return this.lineWrapping ? (1 + Math.max(0, Math.ceil((e - this.lineLength) / (this.lineLength - 5)))) * this.lineHeight : this.lineHeight;
        }
        setDoc(e) {
          return (this.doc = e), this;
        }
        mustRefreshForWrapping(e) {
          return Fg.indexOf(e) > -1 != this.lineWrapping;
        }
        mustRefreshForHeights(e) {
          var t = !1;
          for (var r = 0; r < e.length; r++) {
            var n = e[r];
            n < 0 ? r++ : this.heightSamples[Math.floor(n * 10)] || ((t = !0), (this.heightSamples[Math.floor(n * 10)] = !0));
          }
          return t;
        }
        refresh(e, t, r, n, s, o) {
          var u = Fg.indexOf(e) > -1,
            l = Math.round(t) != Math.round(this.lineHeight) || this.lineWrapping != u;
          if (((this.lineWrapping = u), (this.lineHeight = t), (this.charWidth = r), (this.textHeight = n), (this.lineLength = s), l)) {
            this.heightSamples = {};
            for (var h = 0; h < o.length; h++) {
              var c = o[h];
              c < 0 ? h++ : (this.heightSamples[Math.floor(c * 10)] = !0);
            }
          }
          return l;
        }
        constructor(e) {
          (this.lineWrapping = e), (this.doc = de.empty), (this.heightSamples = {}), (this.lineHeight = 14), (this.charWidth = 7), (this.textHeight = 14), (this.lineLength = 30), (this.heightChanged = !1);
        }
      }),
      (() => {
        a(_class50, "HeightOracle");
      })(),
      _class50),
    ga =
      ((_class51 = class _class {
        get more() {
          return this.index < this.heights.length;
        }
        constructor(e, t) {
          (this.from = e), (this.heights = t), (this.index = 0);
        }
      }),
      (() => {
        a(_class51, "MeasuredHeights");
      })(),
      _class51),
    _t =
      ((_i36 = class i {
        get type() {
          return typeof this._content == "number" ? xe.Text : Array.isArray(this._content) ? this._content : this._content.type;
        }
        get to() {
          return this.from + this.length;
        }
        get bottom() {
          return this.top + this.height;
        }
        get widget() {
          return this._content instanceof si ? this._content.widget : null;
        }
        get widgetLineBreaks() {
          return typeof this._content == "number" ? this._content : 0;
        }
        join(e) {
          var t = (Array.isArray(this._content) ? this._content : [this]).concat(Array.isArray(e._content) ? e._content : [e]);
          return new i(this.from, this.length + e.length, this.top, this.height + e.height, t);
        }
        constructor(e, t, r, n, s) {
          (this.from = e), (this.length = t), (this.top = r), (this.height = n), (this._content = s);
        }
      }),
      (() => {
        a(_i36, "BlockInfo");
      })(),
      _i36),
    ye = (function (i) {
      return (i[(i.ByPos = 0)] = "ByPos"), (i[(i.ByHeight = 1)] = "ByHeight"), (i[(i.ByPosNoHeight = 2)] = "ByPosNoHeight"), i;
    })(ye || (ye = {})),
    Ws = 0.001,
    et =
      ((_i37 = class i {
        get outdated() {
          return (this.flags & 2) > 0;
        }
        set outdated(e) {
          this.flags = (e ? 2 : 0) | (this.flags & -3);
        }
        setHeight(e, t) {
          this.height != t && (Math.abs(this.height - t) > Ws && (e.heightChanged = !0), (this.height = t));
        }
        replace(e, t, r) {
          return i.of(r);
        }
        decomposeLeft(e, t) {
          t.push(this);
        }
        decomposeRight(e, t) {
          t.push(this);
        }
        applyChanges(e, t, r, n) {
          var s = this,
            o = r.doc;
          for (var u = n.length - 1; u >= 0; u--) {
            var _n_u = n[u],
              l = _n_u.fromA,
              h = _n_u.toA,
              c = _n_u.fromB,
              f = _n_u.toB,
              d = s.lineAt(l, ye.ByPosNoHeight, r.setDoc(t), 0, 0),
              p = d.to >= h ? d : s.lineAt(h, ye.ByPosNoHeight, r, 0, 0);
            for (f += p.to - h, h = p.to; u > 0 && d.from <= n[u - 1].toA; ) (l = n[u - 1].fromA), (c = n[u - 1].fromB), u--, l < d.from && (d = s.lineAt(l, ye.ByPosNoHeight, r, 0, 0));
            (c += d.from - l), (l = d.from);
            var m = ba.build(r.setDoc(o), e, c, f);
            s = s.replace(l, h, m);
          }
          return s.updateHeight(r, 0);
        }
        static empty() {
          return new lt(0, 0);
        }
        static of(e) {
          if (e.length == 1) return e[0];
          var t = 0,
            r = e.length,
            n = 0,
            s = 0;
          for (;;)
            if (t == r)
              if (n > s * 2) {
                var u = e[t - 1];
                u.break ? e.splice(--t, 1, u.left, null, u.right) : e.splice(--t, 1, u.left, u.right), (r += 1 + u.break), (n -= u.size);
              } else if (s > n * 2) {
                var u1 = e[r];
                u1.break ? e.splice(r, 1, u1.left, null, u1.right) : e.splice(r, 1, u1.left, u1.right), (r += 2 + u1.break), (s -= u1.size);
              } else break;
            else if (n < s) {
              var u2 = e[t++];
              u2 && (n += u2.size);
            } else {
              var u3 = e[--r];
              u3 && (s += u3.size);
            }
          var o = 0;
          return e[t - 1] == null ? ((o = 1), t--) : e[t] == null && ((o = 1), r++), new Da(i.of(e.slice(0, t)), o, i.of(e.slice(r)));
        }
        constructor(e, t, ref) {
          var r = ref === void 0 ? 2 : ref;
          (this.length = e), (this.height = t), (this.flags = r);
        }
      }),
      (() => {
        a(_i37, "HeightMap");
      })(),
      _i37);
  et.prototype.size = 1;
  var uo =
      ((_class52 = class _class extends et {
        blockAt(e, t, r, n) {
          return new _t(n, this.length, r, this.height, this.deco || 0);
        }
        lineAt(e, t, r, n, s) {
          return this.blockAt(0, r, n, s);
        }
        forEachLine(e, t, r, n, s, o) {
          e <= s + this.length && t >= s && o(this.blockAt(0, r, n, s));
        }
        updateHeight(e) {
          var t = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0,
            r = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : !1,
            n = arguments.length > 3 ? arguments[3] : void 0;
          return n && n.from <= t && n.more && this.setHeight(e, n.heights[n.index++]), (this.outdated = !1), this;
        }
        toString() {
          return "block(".concat(this.length, ")");
        }
        constructor(e, t, r) {
          super(e, t), (this.deco = r);
        }
      }),
      (() => {
        a(_class52, "HeightMapBlock");
      })(),
      _class52),
    lt =
      ((_i38 = class i extends uo {
        blockAt(e, t, r, n) {
          return new _t(n, this.length, r, this.height, this.breaks);
        }
        replace(e, t, r) {
          var n = r[0];
          return r.length == 1 && (n instanceof i || (n instanceof ii && n.flags & 4)) && Math.abs(this.length - n.length) < 10 ? (n instanceof ii ? (n = new i(n.length, this.height)) : (n.height = this.height), this.outdated || (n.outdated = !1), n) : et.of(r);
        }
        updateHeight(e) {
          var t = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0,
            r = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : !1,
            n = arguments.length > 3 ? arguments[3] : void 0;
          return n && n.from <= t && n.more ? this.setHeight(e, n.heights[n.index++]) : (r || this.outdated) && this.setHeight(e, Math.max(this.widgetHeight, e.heightForLine(this.length - this.collapsed)) + this.breaks * e.lineHeight), (this.outdated = !1), this;
        }
        toString() {
          return "line("
            .concat(this.length)
            .concat(this.collapsed ? -this.collapsed : "")
            .concat(this.widgetHeight ? ":" + this.widgetHeight : "", ")");
        }
        constructor(e, t) {
          super(e, t, null), (this.collapsed = 0), (this.widgetHeight = 0), (this.breaks = 0);
        }
      }),
      (() => {
        a(_i38, "HeightMapText");
      })(),
      _i38),
    ii =
      ((_i39 = class i extends et {
        heightMetrics(e, t) {
          var r = e.doc.lineAt(t).number,
            n = e.doc.lineAt(t + this.length).number,
            s = n - r + 1,
            o,
            u = 0;
          if (e.lineWrapping) {
            var l = Math.min(this.height, e.lineHeight * s);
            (o = l / s), this.length > s + 1 && (u = (this.height - l) / (this.length - s - 1));
          } else o = this.height / s;
          return { firstLine: r, lastLine: n, perLine: o, perChar: u };
        }
        blockAt(e, t, r, n) {
          var _this_heightMetrics = this.heightMetrics(t, n),
            s = _this_heightMetrics.firstLine,
            o = _this_heightMetrics.lastLine,
            u = _this_heightMetrics.perLine,
            l = _this_heightMetrics.perChar;
          if (t.lineWrapping) {
            var h = n + Math.round(Math.max(0, Math.min(1, (e - r) / this.height)) * this.length),
              c = t.doc.lineAt(h),
              f = u + c.length * l,
              d = Math.max(r, e - f / 2);
            return new _t(c.from, c.length, d, f, 0);
          } else {
            var h1 = Math.max(0, Math.min(o - s, Math.floor((e - r) / u))),
              _t_doc_line = t.doc.line(s + h1),
              c1 = _t_doc_line.from,
              f1 = _t_doc_line.length;
            return new _t(c1, f1, r + u * h1, u, 0);
          }
        }
        lineAt(e, t, r, n, s) {
          if (t == ye.ByHeight) return this.blockAt(e, r, n, s);
          if (t == ye.ByPosNoHeight) {
            var _r_doc_lineAt = r.doc.lineAt(e),
              p = _r_doc_lineAt.from,
              m = _r_doc_lineAt.to;
            return new _t(p, m - p, 0, 0, 0);
          }
          var _this_heightMetrics = this.heightMetrics(r, s),
            o = _this_heightMetrics.firstLine,
            u = _this_heightMetrics.perLine,
            l = _this_heightMetrics.perChar,
            h = r.doc.lineAt(e),
            c = u + h.length * l,
            f = h.number - o,
            d = n + u * f + l * (h.from - s - f);
          return new _t(h.from, h.length, Math.max(n, Math.min(d, n + this.height - c)), c, 0);
        }
        forEachLine(e, t, r, n, s, o) {
          (e = Math.max(e, s)), (t = Math.min(t, s + this.length));
          var _this_heightMetrics = this.heightMetrics(r, s),
            u = _this_heightMetrics.firstLine,
            l = _this_heightMetrics.perLine,
            h = _this_heightMetrics.perChar;
          for (var c = e, f = n; c <= t; ) {
            var d = r.doc.lineAt(c);
            if (c == e) {
              var m = d.number - u;
              f += l * m + h * (e - s - m);
            }
            var p = l + h * d.length;
            o(new _t(d.from, d.length, f, p, 0)), (f += p), (c = d.to + 1);
          }
        }
        replace(e, t, r) {
          var n = this.length - t;
          if (n > 0) {
            var s = r[r.length - 1];
            s instanceof i ? (r[r.length - 1] = new i(s.length + n)) : r.push(null, new i(n - 1));
          }
          if (e > 0) {
            var s1 = r[0];
            s1 instanceof i ? (r[0] = new i(e + s1.length)) : r.unshift(new i(e - 1), null);
          }
          return et.of(r);
        }
        decomposeLeft(e, t) {
          t.push(new i(e - 1), null);
        }
        decomposeRight(e, t) {
          t.push(null, new i(this.length - e - 1));
        }
        updateHeight(e) {
          var t = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0,
            r = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : !1,
            n = arguments.length > 3 ? arguments[3] : void 0;
          var s = t + this.length;
          if (n && n.from <= t + this.length && n.more) {
            var o = [],
              u = Math.max(t, n.from),
              l = -1;
            for (n.from > t && o.push(new i(n.from - t - 1).updateHeight(e, t)); u <= s && n.more; ) {
              var c = e.doc.lineAt(u).length;
              o.length && o.push(null);
              var f = n.heights[n.index++];
              l == -1 ? (l = f) : Math.abs(f - l) >= Ws && (l = -2);
              var d = new lt(c, f);
              (d.outdated = !1), o.push(d), (u += c + 1);
            }
            u <= s && o.push(null, new i(s - u).updateHeight(e, u));
            var h = et.of(o);
            return (l < 0 || Math.abs(h.height - this.height) >= Ws || Math.abs(l - this.heightMetrics(e, t).perLine) >= Ws) && (e.heightChanged = !0), h;
          } else (r || this.outdated) && (this.setHeight(e, e.heightForGap(t, t + this.length)), (this.outdated = !1));
          return this;
        }
        toString() {
          return "gap(".concat(this.length, ")");
        }
        constructor(e) {
          super(e, 0);
        }
      }),
      (() => {
        a(_i39, "HeightMapGap");
      })(),
      _i39),
    Da =
      ((_class53 = class _class extends et {
        get break() {
          return this.flags & 1;
        }
        blockAt(e, t, r, n) {
          var s = r + this.left.height;
          return e < s ? this.left.blockAt(e, t, r, n) : this.right.blockAt(e, t, s, n + this.left.length + this.break);
        }
        lineAt(e, t, r, n, s) {
          var o = n + this.left.height,
            u = s + this.left.length + this.break,
            l = t == ye.ByHeight ? e < o : e < u,
            h = l ? this.left.lineAt(e, t, r, n, s) : this.right.lineAt(e, t, r, o, u);
          if (this.break || (l ? h.to < u : h.from > u)) return h;
          var c = t == ye.ByPosNoHeight ? ye.ByPosNoHeight : ye.ByPos;
          return l ? h.join(this.right.lineAt(u, c, r, o, u)) : this.left.lineAt(u, c, r, n, s).join(h);
        }
        forEachLine(e, t, r, n, s, o) {
          var u = n + this.left.height,
            l = s + this.left.length + this.break;
          if (this.break) e < l && this.left.forEachLine(e, t, r, n, s, o), t >= l && this.right.forEachLine(e, t, r, u, l, o);
          else {
            var h = this.lineAt(l, ye.ByPos, r, n, s);
            e < h.from && this.left.forEachLine(e, h.from - 1, r, n, s, o), h.to >= e && h.from <= t && o(h), t > h.to && this.right.forEachLine(h.to + 1, t, r, u, l, o);
          }
        }
        replace(e, t, r) {
          var n = this.left.length + this.break;
          if (t < n) return this.balanced(this.left.replace(e, t, r), this.right);
          if (e > this.left.length) return this.balanced(this.left, this.right.replace(e - n, t - n, r));
          var s = [];
          e > 0 && this.decomposeLeft(e, s);
          var o = s.length;
          var _iteratorNormalCompletion = true,
            _didIteratorError = false,
            _iteratorError = undefined;
          try {
            for (var _iterator = r[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
              var u = _step.value;
              s.push(u);
            }
          } catch (err) {
            _didIteratorError = true;
            _iteratorError = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion && _iterator.return != null) {
                _iterator.return();
              }
            } finally {
              if (_didIteratorError) {
                throw _iteratorError;
              }
            }
          }
          if ((e > 0 && yg(s, o - 1), t < this.length)) {
            var u1 = s.length;
            this.decomposeRight(t, s), yg(s, u1);
          }
          return et.of(s);
        }
        decomposeLeft(e, t) {
          var r = this.left.length;
          if (e <= r) return this.left.decomposeLeft(e, t);
          t.push(this.left), this.break && (r++, e >= r && t.push(null)), e > r && this.right.decomposeLeft(e - r, t);
        }
        decomposeRight(e, t) {
          var r = this.left.length,
            n = r + this.break;
          if (e >= n) return this.right.decomposeRight(e - n, t);
          e < r && this.left.decomposeRight(e, t), this.break && e < n && t.push(null), t.push(this.right);
        }
        balanced(e, t) {
          return e.size > 2 * t.size || t.size > 2 * e.size ? et.of(this.break ? [e, null, t] : [e, t]) : ((this.left = e), (this.right = t), (this.height = e.height + t.height), (this.outdated = e.outdated || t.outdated), (this.size = e.size + t.size), (this.length = e.length + this.break + t.length), this);
        }
        updateHeight(e) {
          var t = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0,
            r = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : !1,
            n = arguments.length > 3 ? arguments[3] : void 0;
          var _this = this,
            s = _this.left,
            o = _this.right,
            u = t + s.length + this.break,
            l = null;
          return n && n.from <= t + s.length && n.more ? (l = s = s.updateHeight(e, t, r, n)) : s.updateHeight(e, t, r), n && n.from <= u + o.length && n.more ? (l = o = o.updateHeight(e, u, r, n)) : o.updateHeight(e, u, r), l ? this.balanced(s, o) : ((this.height = this.left.height + this.right.height), (this.outdated = !1), this);
        }
        toString() {
          return this.left + (this.break ? " " : "-") + this.right;
        }
        constructor(e, t, r) {
          super(e.length + t + r.length, e.height + r.height, t | (e.outdated || r.outdated ? 2 : 0)), (this.left = e), (this.right = r), (this.size = e.size + r.size);
        }
      }),
      (() => {
        a(_class53, "HeightMapBranch");
      })(),
      _class53);
  function yg(i, e) {
    var t, r;
    i[e] == null && (t = i[e - 1]) instanceof ii && (r = i[e + 1]) instanceof ii && i.splice(e - 1, 3, new ii(t.length + 1 + r.length));
  }
  a(yg, "mergeGaps");
  var Fk = 5,
    ba =
      ((_i40 = class i {
        get isCovered() {
          return this.covering && this.nodes[this.nodes.length - 1] == this.covering;
        }
        span(e, t) {
          if (this.lineStart > -1) {
            var r = Math.min(t, this.lineEnd),
              n = this.nodes[this.nodes.length - 1];
            n instanceof lt ? (n.length += r - this.pos) : (r > this.pos || !this.isCovered) && this.nodes.push(new lt(r - this.pos, -1)), (this.writtenTo = r), t > r && (this.nodes.push(null), this.writtenTo++, (this.lineStart = -1));
          }
          this.pos = t;
        }
        point(e, t, r) {
          if (e < t || r.heightRelevant) {
            var n = r.widget ? r.widget.estimatedHeight : 0,
              s = r.widget ? r.widget.lineBreaks : 0;
            n < 0 && (n = this.oracle.lineHeight);
            var o = t - e;
            r.block ? this.addBlock(new uo(o, n, r)) : (o || s || n >= Fk) && this.addLineDeco(n, s, o);
          } else t > e && this.span(e, t);
          this.lineEnd > -1 && this.lineEnd < this.pos && (this.lineEnd = this.oracle.doc.lineAt(this.pos).to);
        }
        enterLine() {
          if (this.lineStart > -1) return;
          var _this_oracle_doc_lineAt = this.oracle.doc.lineAt(this.pos),
            e = _this_oracle_doc_lineAt.from,
            t = _this_oracle_doc_lineAt.to;
          (this.lineStart = e), (this.lineEnd = t), this.writtenTo < e && ((this.writtenTo < e - 1 || this.nodes[this.nodes.length - 1] == null) && this.nodes.push(this.blankContent(this.writtenTo, e - 1)), this.nodes.push(null)), this.pos > e && this.nodes.push(new lt(this.pos - e, -1)), (this.writtenTo = this.pos);
        }
        blankContent(e, t) {
          var r = new ii(t - e);
          return this.oracle.doc.lineAt(e).to == t && (r.flags |= 4), r;
        }
        ensureLine() {
          this.enterLine();
          var e = this.nodes.length ? this.nodes[this.nodes.length - 1] : null;
          if (e instanceof lt) return e;
          var t = new lt(0, -1);
          return this.nodes.push(t), t;
        }
        addBlock(e) {
          var t;
          this.enterLine();
          var r = (t = e.deco) === null || t === void 0 ? void 0 : t.type;
          r == xe.WidgetAfter && !this.isCovered && this.ensureLine(), this.nodes.push(e), (this.writtenTo = this.pos = this.pos + e.length), r != xe.WidgetBefore && (this.covering = e);
        }
        addLineDeco(e, t, r) {
          var n = this.ensureLine();
          (n.length += r), (n.collapsed += r), (n.widgetHeight = Math.max(n.widgetHeight, e)), (n.breaks += t), (this.writtenTo = this.pos = this.pos + r);
        }
        finish(e) {
          var t = this.nodes.length == 0 ? null : this.nodes[this.nodes.length - 1];
          this.lineStart > -1 && !(t instanceof lt) && !this.isCovered ? this.nodes.push(new lt(0, -1)) : (this.writtenTo < this.pos || t == null) && this.nodes.push(this.blankContent(this.writtenTo, this.pos));
          var r = e;
          var _iteratorNormalCompletion = true,
            _didIteratorError = false,
            _iteratorError = undefined;
          try {
            for (var _iterator = this.nodes[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
              var n = _step.value;
              n instanceof lt && n.updateHeight(this.oracle, r), (r += n ? n.length : 1);
            }
          } catch (err) {
            _didIteratorError = true;
            _iteratorError = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion && _iterator.return != null) {
                _iterator.return();
              }
            } finally {
              if (_didIteratorError) {
                throw _iteratorError;
              }
            }
          }
          return this.nodes;
        }
        static build(e, t, r, n) {
          var s = new i(r, e);
          return Ee.spans(t, r, n, s, 0), s.finish(r);
        }
        constructor(e, t) {
          (this.pos = e), (this.oracle = t), (this.nodes = []), (this.lineStart = -1), (this.lineEnd = -1), (this.covering = null), (this.writtenTo = e);
        }
      }),
      (() => {
        a(_i40, "NodeBuilder");
      })(),
      _i40);
  function yk(i, e, t) {
    var r = new Fa();
    return Ee.compare(i, e, t, r, 0), r.changes;
  }
  a(yk, "heightRelevantDecoChanges");
  var Fa =
    ((_class54 = class _class {
      compareRange() {}
      comparePoint(e, t, r, n) {
        (e < t || (r && r.heightRelevant) || (n && n.heightRelevant)) && ia(e, t, this.changes, 5);
      }
      constructor() {
        this.changes = [];
      }
    }),
    (() => {
      a(_class54, "DecorationComparator");
    })(),
    _class54);
  function Ck(i, e) {
    var t = i.getBoundingClientRect(),
      r = i.ownerDocument,
      n = r.defaultView || window,
      s = Math.max(0, t.left),
      o = Math.min(n.innerWidth, t.right),
      u = Math.max(0, t.top),
      l = Math.min(n.innerHeight, t.bottom);
    for (var h = i.parentNode; h && h != r.body; )
      if (h.nodeType == 1) {
        var c = h,
          f = window.getComputedStyle(c);
        if ((c.scrollHeight > c.clientHeight || c.scrollWidth > c.clientWidth) && f.overflow != "visible") {
          var d = c.getBoundingClientRect();
          (s = Math.max(s, d.left)), (o = Math.min(o, d.right)), (u = Math.max(u, d.top)), (l = h == i.parentNode ? d.bottom : Math.min(l, d.bottom));
        }
        h = f.position == "absolute" || f.position == "fixed" ? c.offsetParent : c.parentNode;
      } else if (h.nodeType == 11) h = h.host;
      else break;
    return { left: s - t.left, right: Math.max(s, o) - t.left, top: u - (t.top + e), bottom: Math.max(u, l) - (t.top + e) };
  }
  a(Ck, "visiblePixelRange");
  function Ak(i, e) {
    var t = i.getBoundingClientRect();
    return { left: 0, right: t.right - t.left, top: e, bottom: t.bottom - (t.top + e) };
  }
  a(Ak, "fullPixelRange");
  var rn =
      ((_class55 = class _class {
        static same(e, t) {
          if (e.length != t.length) return !1;
          for (var r = 0; r < e.length; r++) {
            var n = e[r],
              s = t[r];
            if (n.from != s.from || n.to != s.to || n.size != s.size) return !1;
          }
          return !0;
        }
        draw(e) {
          return he.replace({ widget: new ya(this.size, e) }).range(this.from, this.to);
        }
        constructor(e, t, r) {
          (this.from = e), (this.to = t), (this.size = r);
        }
      }),
      (() => {
        a(_class55, "LineGap");
      })(),
      _class55),
    ya =
      ((_class56 = class _class extends Ut {
        eq(e) {
          return e.size == this.size && e.vertical == this.vertical;
        }
        toDOM() {
          var e = document.createElement("div");
          return this.vertical ? (e.style.height = this.size + "px") : ((e.style.width = this.size + "px"), (e.style.height = "2px"), (e.style.display = "inline-block")), e;
        }
        get estimatedHeight() {
          return this.vertical ? this.size : -1;
        }
        constructor(e, t) {
          super(), (this.size = e), (this.vertical = t);
        }
      }),
      (() => {
        a(_class56, "LineGapWidget");
      })(),
      _class56),
    lo =
      ((_class57 = class _class {
        updateForViewport() {
          var _this = this,
            _loop = function (r) {
              var n = r ? t.head : t.anchor;
              if (
                !e.some((param) => {
                  var s = param.from,
                    o = param.to;
                  return n >= s && n <= o;
                })
              ) {
                var _this_lineBlockAt = _this.lineBlockAt(n),
                  s = _this_lineBlockAt.from,
                  o = _this_lineBlockAt.to;
                e.push(new ur(s, o));
              }
            };
          var e = [this.viewport],
            _this_state_selection = this.state.selection,
            t = _this_state_selection.main;
          for (var r = 0; r <= 1; r++) _loop(r);
          (this.viewports = e.sort((r, n) => r.from - n.from)), (this.scaler = this.heightMap.height <= 7e6 ? Cg : new Ca(this.heightOracle, this.heightMap, this.viewports));
        }
        updateViewportLines() {
          (this.viewportLines = []),
            this.heightMap.forEachLine(this.viewport.from, this.viewport.to, this.heightOracle.setDoc(this.state.doc), 0, 0, (e) => {
              this.viewportLines.push(this.scaler.scale == 1 ? e : Zr(e, this.scaler));
            });
        }
        update(e) {
          var t = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : null;
          this.state = e.state;
          var r = this.stateDeco;
          this.stateDeco = this.state.facet(hn).filter((c) => typeof c != "function");
          var n = e.changedRanges,
            s = ei.extendWithRanges(n, yk(r, this.stateDeco, e ? e.changes : Ue.empty(this.state.doc.length))),
            o = this.heightMap.height,
            u = this.scrolledToBottom ? null : this.lineBlockAtHeight(this.scrollTop);
          (this.heightMap = this.heightMap.applyChanges(this.stateDeco, e.startState.doc, this.heightOracle.setDoc(this.state.doc), s)), this.heightMap.height != o && (e.flags |= 2), u ? ((this.scrollAnchorPos = e.changes.mapPos(u.from, -1)), (this.scrollAnchorHeight = u.top)) : ((this.scrollAnchorPos = -1), (this.scrollAnchorHeight = this.heightMap.height));
          var l = s.length ? this.mapViewport(this.viewport, e.changes) : this.viewport;
          ((t && (t.range.head < l.from || t.range.head > l.to)) || !this.viewportIsAppropriate(l)) && (l = this.getViewport(0, t));
          var h = !e.changes.empty || e.flags & 2 || l.from != this.viewport.from || l.to != this.viewport.to;
          (this.viewport = l),
            this.updateForViewport(),
            h && this.updateViewportLines(),
            (this.lineGaps.length || this.viewport.to - this.viewport.from > 4e3) && this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps, e.changes))),
            (e.flags |= this.computeVisibleRanges()),
            t && (this.scrollTarget = t),
            !this.mustEnforceCursorAssoc && e.selectionSet && e.view.lineWrapping && e.state.selection.main.empty && e.state.selection.main.assoc && !e.state.facet(eD) && (this.mustEnforceCursorAssoc = !0);
        }
        measure(e) {
          var t = e.contentDOM,
            r = window.getComputedStyle(t),
            n = this.heightOracle,
            s = r.whiteSpace;
          this.defaultTextDirection = r.direction == "rtl" ? Se.RTL : Se.LTR;
          var o = this.heightOracle.mustRefreshForWrapping(s),
            u = t.getBoundingClientRect(),
            l = o || this.mustMeasureContent || this.contentDOMHeight != u.height;
          (this.contentDOMHeight = u.height), (this.mustMeasureContent = !1);
          var h = 0,
            c = 0,
            f = parseInt(r.paddingTop) || 0,
            d = parseInt(r.paddingBottom) || 0;
          (this.paddingTop != f || this.paddingBottom != d) && ((this.paddingTop = f), (this.paddingBottom = d), (h |= 10)),
            this.editorWidth != e.scrollDOM.clientWidth && (n.lineWrapping && (l = !0), (this.editorWidth = e.scrollDOM.clientWidth), (h |= 8)),
            this.scrollTop != e.scrollDOM.scrollTop && ((this.scrollAnchorHeight = -1), (this.scrollTop = e.scrollDOM.scrollTop)),
            (this.scrolledToBottom = this.scrollTop > e.scrollDOM.scrollHeight - e.scrollDOM.clientHeight - 4);
          var p = (this.printing ? Ak : Ck)(t, this.paddingTop),
            m = p.top - this.pixelViewport.top,
            b = p.bottom - this.pixelViewport.bottom;
          this.pixelViewport = p;
          var g = this.pixelViewport.bottom > this.pixelViewport.top && this.pixelViewport.right > this.pixelViewport.left;
          if ((g != this.inView && ((this.inView = g), g && (l = !0)), !this.inView && !this.scrollTarget)) return 0;
          var D = u.width;
          if (((this.contentDOMWidth != D || this.editorHeight != e.scrollDOM.clientHeight) && ((this.contentDOMWidth = u.width), (this.editorHeight = e.scrollDOM.clientHeight), (h |= 8)), l)) {
            var w = e.docView.measureVisibleLineHeights(this.viewport);
            if ((n.mustRefreshForHeights(w) && (o = !0), o || (n.lineWrapping && Math.abs(D - this.contentDOMWidth) > n.charWidth))) {
              var _e_docView_measureTextSize = e.docView.measureTextSize(),
                x = _e_docView_measureTextSize.lineHeight,
                E = _e_docView_measureTextSize.charWidth,
                _ = _e_docView_measureTextSize.textHeight;
              (o = x > 0 && n.refresh(s, x, E, _, D / E, w)), o && ((e.docView.minWidth = 0), (h |= 8));
            }
            m > 0 && b > 0 ? (c = Math.max(m, b)) : m < 0 && b < 0 && (c = Math.min(m, b)), (n.heightChanged = !1);
            var _iteratorNormalCompletion = true,
              _didIteratorError = false,
              _iteratorError = undefined;
            try {
              for (var _iterator = this.viewports[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
                var x1 = _step.value;
                var E1 = x1.from == this.viewport.from ? w : e.docView.measureVisibleLineHeights(x1);
                this.heightMap = (o ? et.empty().applyChanges(this.stateDeco, de.empty, this.heightOracle, [new ei(0, 0, 0, e.state.doc.length)]) : this.heightMap).updateHeight(n, 0, o, new ga(x1.from, E1));
              }
            } catch (err) {
              _didIteratorError = true;
              _iteratorError = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion && _iterator.return != null) {
                  _iterator.return();
                }
              } finally {
                if (_didIteratorError) {
                  throw _iteratorError;
                }
              }
            }
            n.heightChanged && (h |= 2);
          }
          var F = !this.viewportIsAppropriate(this.viewport, c) || (this.scrollTarget && (this.scrollTarget.range.head < this.viewport.from || this.scrollTarget.range.head > this.viewport.to));
          return (
            F && (this.viewport = this.getViewport(c, this.scrollTarget)),
            this.updateForViewport(),
            (h & 2 || F) && this.updateViewportLines(),
            (this.lineGaps.length || this.viewport.to - this.viewport.from > 4e3) && this.updateLineGaps(this.ensureLineGaps(o ? [] : this.lineGaps, e)),
            (h |= this.computeVisibleRanges()),
            this.mustEnforceCursorAssoc && ((this.mustEnforceCursorAssoc = !1), e.docView.enforceCursorAssoc()),
            h
          );
        }
        get visibleTop() {
          return this.scaler.fromDOM(this.pixelViewport.top);
        }
        get visibleBottom() {
          return this.scaler.fromDOM(this.pixelViewport.bottom);
        }
        getViewport(e, t) {
          var r = 0.5 - Math.max(-0.5, Math.min(0.5, e / 1e3 / 2)),
            n = this.heightMap,
            s = this.heightOracle,
            _this = this,
            o = _this.visibleTop,
            u = _this.visibleBottom,
            l = new ur(n.lineAt(o - r * 1e3, ye.ByHeight, s, 0, 0).from, n.lineAt(u + (1 - r) * 1e3, ye.ByHeight, s, 0, 0).to);
          if (t) {
            var _t_range = t.range,
              h = _t_range.head;
            if (h < l.from || h > l.to) {
              var c = Math.min(this.editorHeight, this.pixelViewport.bottom - this.pixelViewport.top),
                f = n.lineAt(h, ye.ByPos, s, 0, 0),
                d;
              t.y == "center" ? (d = (f.top + f.bottom) / 2 - c / 2) : t.y == "start" || (t.y == "nearest" && h < l.from) ? (d = f.top) : (d = f.bottom - c), (l = new ur(n.lineAt(d - 1e3 / 2, ye.ByHeight, s, 0, 0).from, n.lineAt(d + c + 1e3 / 2, ye.ByHeight, s, 0, 0).to));
            }
          }
          return l;
        }
        mapViewport(e, t) {
          var r = t.mapPos(e.from, -1),
            n = t.mapPos(e.to, 1);
          return new ur(this.heightMap.lineAt(r, ye.ByPos, this.heightOracle, 0, 0).from, this.heightMap.lineAt(n, ye.ByPos, this.heightOracle, 0, 0).to);
        }
        viewportIsAppropriate(param) {
          var e = param.from,
            t = param.to,
            r = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0;
          if (!this.inView) return !0;
          var _this_heightMap_lineAt = this.heightMap.lineAt(e, ye.ByPos, this.heightOracle, 0, 0),
            n = _this_heightMap_lineAt.top,
            _this_heightMap_lineAt1 = this.heightMap.lineAt(t, ye.ByPos, this.heightOracle, 0, 0),
            s = _this_heightMap_lineAt1.bottom,
            _this = this,
            o = _this.visibleTop,
            u = _this.visibleBottom;
          return (e == 0 || n <= o - Math.max(10, Math.min(-r, 250))) && (t == this.state.doc.length || s >= u + Math.max(10, Math.min(r, 250))) && n > o - 2 * 1e3 && s < u + 2 * 1e3;
        }
        mapLineGaps(e, t) {
          if (!e.length || t.empty) return e;
          var r = [];
          var _iteratorNormalCompletion = true,
            _didIteratorError = false,
            _iteratorError = undefined;
          try {
            for (var _iterator = e[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
              var n = _step.value;
              t.touchesRange(n.from, n.to) || r.push(new rn(t.mapPos(n.from), t.mapPos(n.to), n.size));
            }
          } catch (err) {
            _didIteratorError = true;
            _iteratorError = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion && _iterator.return != null) {
                _iterator.return();
              }
            } finally {
              if (_didIteratorError) {
                throw _iteratorError;
              }
            }
          }
          return r;
        }
        ensureLineGaps(e, t) {
          var r = this.heightOracle.lineWrapping,
            n = r ? 1e4 : 2e3,
            s = n >> 1,
            o = n << 1;
          if (this.defaultTextDirection != Se.LTR && !r) return [];
          var u = [],
            l = a((h, c, f, d) => {
              if (c - h < s) return;
              var p = this.state.selection.main,
                m = [p.from];
              p.empty || m.push(p.to);
              var _iteratorNormalCompletion = true,
                _didIteratorError = false,
                _iteratorError = undefined;
              try {
                for (var _iterator = m[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
                  var g = _step.value;
                  if (g > h && g < c) {
                    l(h, g - 10, f, d), l(g + 10, c, f, d);
                    return;
                  }
                }
              } catch (err) {
                _didIteratorError = true;
                _iteratorError = err;
              } finally {
                try {
                  if (!_iteratorNormalCompletion && _iterator.return != null) {
                    _iterator.return();
                  }
                } finally {
                  if (_didIteratorError) {
                    throw _iteratorError;
                  }
                }
              }
              var b = vk(e, (g) => g.from >= f.from && g.to <= f.to && Math.abs(g.from - h) < s && Math.abs(g.to - c) < s && !m.some((D) => g.from < D && g.to > D));
              if (!b) {
                if (c < f.to && t && r && t.visibleRanges.some((g) => g.from <= c && g.to >= c)) {
                  var g1 = t.moveToLineBoundary(Q.cursor(c), !1, !0).head;
                  g1 > h && (c = g1);
                }
                b = new rn(h, c, this.gapSize(f, h, c, d));
              }
              u.push(b);
            }, "addGap");
          var _iteratorNormalCompletion = true,
            _didIteratorError = false,
            _iteratorError = undefined;
          try {
            for (var _iterator = this.viewportLines[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
              var h = _step.value;
              if (h.length < o) continue;
              var c = Ek(h.from, h.to, this.stateDeco);
              if (c.total < o) continue;
              var f = this.scrollTarget ? this.scrollTarget.range.head : null,
                d = void 0,
                p = void 0;
              if (r) {
                var m = (n / this.heightOracle.lineLength) * this.heightOracle.lineHeight,
                  b = void 0,
                  g = void 0;
                if (f != null) {
                  var D = qs(c, f),
                    F = ((this.visibleBottom - this.visibleTop) / 2 + m) / h.height;
                  (b = D - F), (g = D + F);
                } else (b = (this.visibleTop - h.top - m) / h.height), (g = (this.visibleBottom - h.top + m) / h.height);
                (d = Ls(c, b)), (p = Ls(c, g));
              } else {
                var m1 = c.total * this.heightOracle.charWidth,
                  b1 = n * this.heightOracle.charWidth,
                  g1 = void 0,
                  D1 = void 0;
                if (f != null) {
                  var F1 = qs(c, f),
                    w = ((this.pixelViewport.right - this.pixelViewport.left) / 2 + b1) / m1;
                  (g1 = F1 - w), (D1 = F1 + w);
                } else (g1 = (this.pixelViewport.left - b1) / m1), (D1 = (this.pixelViewport.right + b1) / m1);
                (d = Ls(c, g1)), (p = Ls(c, D1));
              }
              d > h.from && l(h.from, d, h, c), p < h.to && l(p, h.to, h, c);
            }
          } catch (err) {
            _didIteratorError = true;
            _iteratorError = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion && _iterator.return != null) {
                _iterator.return();
              }
            } finally {
              if (_didIteratorError) {
                throw _iteratorError;
              }
            }
          }
          return u;
        }
        gapSize(e, t, r, n) {
          var s = qs(n, r) - qs(n, t);
          return this.heightOracle.lineWrapping ? e.height * s : n.total * this.heightOracle.charWidth * s;
        }
        updateLineGaps(e) {
          rn.same(e, this.lineGaps) || ((this.lineGaps = e), (this.lineGapDeco = he.set(e.map((t) => t.draw(this.heightOracle.lineWrapping)))));
        }
        computeVisibleRanges() {
          var e = this.stateDeco;
          this.lineGaps.length && (e = e.concat(this.lineGapDeco));
          var t = [];
          Ee.spans(
            e,
            this.viewport.from,
            this.viewport.to,
            {
              span(n, s) {
                t.push({ from: n, to: s });
              },
              point() {},
            },
            20
          );
          var r = t.length != this.visibleRanges.length || this.visibleRanges.some((n, s) => n.from != t[s].from || n.to != t[s].to);
          return (this.visibleRanges = t), r ? 4 : 0;
        }
        lineBlockAt(e) {
          return (e >= this.viewport.from && e <= this.viewport.to && this.viewportLines.find((t) => t.from <= e && t.to >= e)) || Zr(this.heightMap.lineAt(e, ye.ByPos, this.heightOracle, 0, 0), this.scaler);
        }
        lineBlockAtHeight(e) {
          return Zr(this.heightMap.lineAt(this.scaler.fromDOM(e), ye.ByHeight, this.heightOracle, 0, 0), this.scaler);
        }
        elementAtHeight(e) {
          return Zr(this.heightMap.blockAt(this.scaler.fromDOM(e), this.heightOracle, 0, 0), this.scaler);
        }
        get docHeight() {
          return this.scaler.toDOM(this.heightMap.height);
        }
        get contentHeight() {
          return this.docHeight + this.paddingTop + this.paddingBottom;
        }
        constructor(e) {
          (this.state = e),
            (this.pixelViewport = { left: 0, right: window.innerWidth, top: 0, bottom: 0 }),
            (this.inView = !0),
            (this.paddingTop = 0),
            (this.paddingBottom = 0),
            (this.contentDOMWidth = 0),
            (this.contentDOMHeight = 0),
            (this.editorHeight = 0),
            (this.editorWidth = 0),
            (this.scrollTop = 0),
            (this.scrolledToBottom = !0),
            (this.scrollAnchorPos = 0),
            (this.scrollAnchorHeight = -1),
            (this.scaler = Cg),
            (this.scrollTarget = null),
            (this.printing = !1),
            (this.mustMeasureContent = !0),
            (this.defaultTextDirection = Se.LTR),
            (this.visibleRanges = []),
            (this.mustEnforceCursorAssoc = !1);
          var t = e.facet(Pa).some((r) => typeof r != "function" && r.class == "cm-lineWrapping");
          (this.heightOracle = new ma(t)),
            (this.stateDeco = e.facet(hn).filter((r) => typeof r != "function")),
            (this.heightMap = et.empty().applyChanges(this.stateDeco, de.empty, this.heightOracle.setDoc(e.doc), [new ei(0, 0, 0, e.doc.length)])),
            (this.viewport = this.getViewport(0, null)),
            this.updateViewportLines(),
            this.updateForViewport(),
            (this.lineGaps = this.ensureLineGaps([])),
            (this.lineGapDeco = he.set(this.lineGaps.map((r) => r.draw(!1)))),
            this.computeVisibleRanges();
        }
      }),
      (() => {
        a(_class57, "ViewState");
      })(),
      _class57),
    ur =
      ((_class58 = class _class {
        constructor(e, t) {
          (this.from = e), (this.to = t);
        }
      }),
      (() => {
        a(_class58, "Viewport");
      })(),
      _class58);
  function Ek(i, e, t) {
    var r = [],
      n = i,
      s = 0;
    return (
      Ee.spans(
        t,
        i,
        e,
        {
          span() {},
          point(o, u) {
            o > n && (r.push({ from: n, to: o }), (s += o - n)), (n = u);
          },
        },
        20
      ),
      n < e && (r.push({ from: n, to: e }), (s += e - n)),
      { total: s, ranges: r }
    );
  }
  a(Ek, "lineStructure");
  function Ls(param, t) {
    var i = param.total,
      e = param.ranges;
    if (t <= 0) return e[0].from;
    if (t >= 1) return e[e.length - 1].to;
    var r = Math.floor(i * t);
    for (var n = 0; ; n++) {
      var _e_n = e[n],
        s = _e_n.from,
        o = _e_n.to,
        u = o - s;
      if (r <= u) return s + r;
      r -= u;
    }
  }
  a(Ls, "findPosition");
  function qs(i, e) {
    var t = 0;
    var _iteratorNormalCompletion = true,
      _didIteratorError = false,
      _iteratorError = undefined;
    try {
      for (var _iterator = i.ranges[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
        var _step_value = _step.value,
          r = _step_value.from,
          n = _step_value.to;
        if (e <= n) {
          t += e - r;
          break;
        }
        t += n - r;
      }
    } catch (err) {
      _didIteratorError = true;
      _iteratorError = err;
    } finally {
      try {
        if (!_iteratorNormalCompletion && _iterator.return != null) {
          _iterator.return();
        }
      } finally {
        if (_didIteratorError) {
          throw _iteratorError;
        }
      }
    }
    return t / i.total;
  }
  a(qs, "findFraction");
  function vk(i, e) {
    var _iteratorNormalCompletion = true,
      _didIteratorError = false,
      _iteratorError = undefined;
    try {
      for (var _iterator = i[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
        var t = _step.value;
        if (e(t)) return t;
      }
    } catch (err) {
      _didIteratorError = true;
      _iteratorError = err;
    } finally {
      try {
        if (!_iteratorNormalCompletion && _iterator.return != null) {
          _iterator.return();
        }
      } finally {
        if (_didIteratorError) {
          throw _iteratorError;
        }
      }
    }
  }
  a(vk, "find");
  var Cg = {
      toDOM(i) {
        return i;
      },
      fromDOM(i) {
        return i;
      },
      scale: 1,
    },
    Ca =
      ((_class59 = class _class {
        toDOM(e) {
          for (var t = 0, r = 0, n = 0; ; t++) {
            var s = t < this.viewports.length ? this.viewports[t] : null;
            if (!s || e < s.top) return n + (e - r) * this.scale;
            if (e <= s.bottom) return s.domTop + (e - s.top);
            (r = s.bottom), (n = s.domBottom);
          }
        }
        fromDOM(e) {
          for (var t = 0, r = 0, n = 0; ; t++) {
            var s = t < this.viewports.length ? this.viewports[t] : null;
            if (!s || e < s.domTop) return r + (e - n) / this.scale;
            if (e <= s.domBottom) return s.top + (e - s.domTop);
            (r = s.bottom), (n = s.domBottom);
          }
        }
        constructor(e, t, r) {
          var n = 0,
            s = 0,
            o = 0;
          (this.viewports = r.map((param) => {
            var u = param.from,
              l = param.to;
            var h = t.lineAt(u, ye.ByPos, e, 0, 0).top,
              c = t.lineAt(l, ye.ByPos, e, 0, 0).bottom;
            return (n += c - h), { from: u, to: l, top: h, bottom: c, domTop: 0, domBottom: 0 };
          })),
            (this.scale = (7e6 - n) / (t.height - n));
          var _iteratorNormalCompletion = true,
            _didIteratorError = false,
            _iteratorError = undefined;
          try {
            for (var _iterator = this.viewports[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
              var u = _step.value;
              (u.domTop = o + (u.top - s) * this.scale), (o = u.domBottom = u.domTop + (u.bottom - u.top)), (s = u.bottom);
            }
          } catch (err) {
            _didIteratorError = true;
            _iteratorError = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion && _iterator.return != null) {
                _iterator.return();
              }
            } finally {
              if (_didIteratorError) {
                throw _iteratorError;
              }
            }
          }
        }
      }),
      (() => {
        a(_class59, "BigScaler");
      })(),
      _class59);
  function Zr(i, e) {
    if (e.scale == 1) return i;
    var t = e.toDOM(i.top),
      r = e.toDOM(i.bottom);
    return new _t(i.from, i.length, t, r - t, Array.isArray(i._content) ? i._content.map((n) => Zr(n, e)) : i._content);
  }
  a(Zr, "scaleBlock");
  var Is = G.define({ combine: (i) => i.join(" ") }),
    Aa = G.define({ combine: (i) => i.indexOf(!0) > -1 }),
    Ea = ut.newName(),
    FD = ut.newName(),
    yD = ut.newName(),
    CD = { "&light": "." + FD, "&dark": "." + yD };
  function va(i, e, t) {
    return new ut(e, {
      finish(r) {
        return /&/.test(r)
          ? r.replace(/&\w*/, (n) => {
              if (n == "&") return i;
              if (!t || !t[n]) throw new RangeError("Unsupported selector: ".concat(n));
              return t[n];
            })
          : i + " " + r;
      },
    });
  }
  a(va, "buildTheme");
  var kk = va(
      "." + Ea,
      {
        "&": { position: "relative !important", boxSizing: "border-box", "&.cm-focused": { outline: "1px dotted #212121" }, display: "flex !important", flexDirection: "column" },
        ".cm-scroller": { display: "flex !important", alignItems: "flex-start !important", fontFamily: "monospace", lineHeight: 1.4, height: "100%", overflowX: "auto", position: "relative", zIndex: 0 },
        ".cm-content": { margin: 0, flexGrow: 2, flexShrink: 0, display: "block", whiteSpace: "pre", wordWrap: "normal", boxSizing: "border-box", padding: "4px 0", outline: "none", "&[contenteditable=true]": { WebkitUserModify: "read-write-plaintext-only" } },
        ".cm-lineWrapping": { whiteSpace_fallback: "pre-wrap", whiteSpace: "break-spaces", wordBreak: "break-word", overflowWrap: "anywhere", flexShrink: 1 },
        "&light .cm-content": { caretColor: "black" },
        "&dark .cm-content": { caretColor: "white" },
        ".cm-line": { display: "block", padding: "0 2px 0 6px" },
        ".cm-layer": { position: "absolute", left: 0, top: 0, contain: "size style", "& > *": { position: "absolute" } },
        "&light .cm-selectionBackground": { background: "#d9d9d9" },
        "&dark .cm-selectionBackground": { background: "#222" },
        "&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground": { background: "#d7d4f0" },
        "&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground": { background: "#233" },
        ".cm-cursorLayer": { pointerEvents: "none" },
        "&.cm-focused > .cm-scroller > .cm-cursorLayer": { animation: "steps(1) cm-blink 1.2s infinite" },
        "@keyframes cm-blink": { "0%": {}, "50%": { opacity: 0 }, "100%": {} },
        "@keyframes cm-blink2": { "0%": {}, "50%": { opacity: 0 }, "100%": {} },
        ".cm-cursor, .cm-dropCursor": { borderLeft: "1.2px solid black", marginLeft: "-0.6px", pointerEvents: "none" },
        ".cm-cursor": { display: "none" },
        "&dark .cm-cursor": { borderLeftColor: "#444" },
        ".cm-dropCursor": { position: "absolute" },
        "&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor": { display: "block" },
        "&light .cm-activeLine": { backgroundColor: "#cceeff44" },
        "&dark .cm-activeLine": { backgroundColor: "#99eeff33" },
        "&light .cm-specialChar": { color: "red" },
        "&dark .cm-specialChar": { color: "#f78" },
        ".cm-gutters": { flexShrink: 0, display: "flex", height: "100%", boxSizing: "border-box", left: 0, zIndex: 200 },
        "&light .cm-gutters": { backgroundColor: "#f5f5f5", color: "#6c6c6c", borderRight: "1px solid #ddd" },
        "&dark .cm-gutters": { backgroundColor: "#333338", color: "#ccc" },
        ".cm-gutter": { display: "flex !important", flexDirection: "column", flexShrink: 0, boxSizing: "border-box", minHeight: "100%", overflow: "hidden" },
        ".cm-gutterElement": { boxSizing: "border-box" },
        ".cm-lineNumbers .cm-gutterElement": { padding: "0 3px 0 5px", minWidth: "20px", textAlign: "right", whiteSpace: "nowrap" },
        "&light .cm-activeLineGutter": { backgroundColor: "#e2f2ff" },
        "&dark .cm-activeLineGutter": { backgroundColor: "#222227" },
        ".cm-panels": { boxSizing: "border-box", position: "sticky", left: 0, right: 0 },
        "&light .cm-panels": { backgroundColor: "#f5f5f5", color: "black" },
        "&light .cm-panels-top": { borderBottom: "1px solid #ddd" },
        "&light .cm-panels-bottom": { borderTop: "1px solid #ddd" },
        "&dark .cm-panels": { backgroundColor: "#333338", color: "white" },
        ".cm-tab": { display: "inline-block", overflow: "hidden", verticalAlign: "bottom" },
        ".cm-widgetBuffer": { verticalAlign: "text-top", height: "1em", width: 0, display: "inline" },
        ".cm-placeholder": { color: "#888", display: "inline-block", verticalAlign: "top" },
        ".cm-highlightSpace:before": { content: "attr(data-display)", position: "absolute", pointerEvents: "none", color: "#888" },
        ".cm-highlightTab": { backgroundImage: 'url(\'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>\')', backgroundSize: "auto 100%", backgroundPosition: "right 90%", backgroundRepeat: "no-repeat" },
        ".cm-trailingSpace": { backgroundColor: "#ff332255" },
        ".cm-button": { verticalAlign: "middle", color: "inherit", fontSize: "70%", padding: ".2em 1em", borderRadius: "1px" },
        "&light .cm-button": { backgroundImage: "linear-gradient(#eff1f5, #d9d9df)", border: "1px solid #888", "&:active": { backgroundImage: "linear-gradient(#b4b4b4, #d0d3d6)" } },
        "&dark .cm-button": { backgroundImage: "linear-gradient(#393939, #111)", border: "1px solid #888", "&:active": { backgroundImage: "linear-gradient(#111, #333)" } },
        ".cm-textfield": { verticalAlign: "middle", color: "inherit", fontSize: "70%", border: "1px solid silver", padding: ".2em .5em" },
        "&light .cm-textfield": { backgroundColor: "white" },
        "&dark .cm-textfield": { border: "1px solid #555", backgroundColor: "inherit" },
      },
      CD
    ),
    ka =
      ((_class60 = class _class {
        constructor(e, t, r, n) {
          (this.typeOver = n), (this.bounds = null), (this.text = "");
          var _e_docView = e.docView,
            s = _e_docView.impreciseHead,
            o = _e_docView.impreciseAnchor;
          if (e.state.readOnly && t > -1) this.newSel = null;
          else if (t > -1 && (this.bounds = e.docView.domBoundsAround(t, r, 0))) {
            var u = s || o ? [] : xk(e),
              l = new ro(u, e.state);
            l.readRange(this.bounds.startDOM, this.bounds.endDOM), (this.text = l.text), (this.newSel = Sk(u, this.bounds.from));
          } else {
            var u1 = e.observer.selectionRange,
              l1 = (s && s.node == u1.focusNode && s.offset == u1.focusOffset) || !cr(e.contentDOM, u1.focusNode) ? e.state.selection.main.head : e.docView.posFromDOM(u1.focusNode, u1.focusOffset),
              h = (o && o.node == u1.anchorNode && o.offset == u1.anchorOffset) || !cr(e.contentDOM, u1.anchorNode) ? e.state.selection.main.anchor : e.docView.posFromDOM(u1.anchorNode, u1.anchorOffset);
            this.newSel = Q.single(h, l1);
          }
        }
      }),
      (() => {
        a(_class60, "DOMChange");
      })(),
      _class60);
  function AD(i, e) {
    var t,
      r = e.newSel,
      n = i.state.selection.main,
      s = i.inputState.lastKeyTime > Date.now() - 100 ? i.inputState.lastKeyCode : -1;
    if (e.bounds) {
      var _e_bounds = e.bounds,
        o = _e_bounds.from,
        u = _e_bounds.to,
        l = n.from,
        h = null;
      (s === 8 || (W.android && e.text.length < u - o)) && ((l = n.to), (h = "end"));
      var c = wk(i.state.doc.sliceString(o, u, or), e.text, l - o, h);
      c && (W.chrome && s == 13 && c.toB == c.from + 2 && e.text.slice(c.from, c.toB) == or + or && c.toB--, (t = { from: o + c.from, to: o + c.toA, insert: de.of(e.text.slice(c.from, c.toB).split(or)) }));
    } else r && ((!i.hasFocus && i.state.facet(Do)) || r.main.eq(n)) && (r = null);
    if (!t && !r) return !1;
    if (
      (!t && e.typeOver && !n.empty && r && r.main.empty
        ? (t = { from: n.from, to: n.to, insert: i.state.doc.slice(n.from, n.to) })
        : t && t.from >= n.from && t.to <= n.to && (t.from != n.from || t.to != n.to) && n.to - n.from - (t.to - t.from) <= 4
        ? (t = { from: n.from, to: n.to, insert: i.state.doc.slice(n.from, t.from).append(t.insert).append(i.state.doc.slice(t.to, n.to)) })
        : (W.mac || W.android) && t && t.from == t.to && t.from == n.head - 1 && /^\. ?$/.test(t.insert.toString()) && i.contentDOM.getAttribute("autocorrect") == "off"
        ? (r && t.insert.length == 2 && (r = Q.single(r.main.anchor - 1, r.main.head - 1)), (t = { from: n.from, to: n.to, insert: de.of([" "]) }))
        : W.chrome && t && t.from == t.to && t.from == n.head && t.insert.toString() == "\n " && i.lineWrapping && (r && (r = Q.single(r.main.anchor - 1, r.main.head - 1)), (t = { from: n.from, to: n.to, insert: de.of([" "]) })),
      t)
    ) {
      var o1 = i.state;
      if (
        (W.ios && i.inputState.flushIOSKey(i)) ||
        (W.android && ((t.from == n.from && t.to == n.to && t.insert.length == 1 && t.insert.lines == 2 && hr(i.contentDOM, "Enter", 13)) || (((t.from == n.from - 1 && t.to == n.to && t.insert.length == 0) || (s == 8 && t.insert.length < t.to - t.from)) && hr(i.contentDOM, "Backspace", 8)) || (t.from == n.from && t.to == n.to + 1 && t.insert.length == 0 && hr(i.contentDOM, "Delete", 46))))
      )
        return !0;
      var u1 = t.insert.toString();
      if (i.state.facet(Qg).some((c) => c(i, t.from, t.to, u1))) return !0;
      i.inputState.composing >= 0 && i.inputState.composing++;
      var l1;
      if (t.from >= n.from && t.to <= n.to && t.to - t.from >= (n.to - n.from) / 3 && (!r || (r.main.empty && r.main.from == t.from + t.insert.length)) && i.inputState.composing < 0) {
        var c1 = n.from < t.from ? o1.sliceDoc(n.from, t.from) : "",
          f = n.to > t.to ? o1.sliceDoc(t.to, n.to) : "";
        l1 = o1.replaceSelection(i.state.toText(c1 + t.insert.sliceString(0, void 0, i.state.lineBreak) + f));
      } else {
        var c2 = o1.changes(t),
          f1 = r && r.main.to <= c2.newLength ? r.main : void 0;
        if (o1.selection.ranges.length > 1 && i.inputState.composing >= 0 && t.to <= n.to && t.to >= n.to - 10) {
          var d = i.state.sliceDoc(t.from, t.to),
            p = uD(i) || i.state.doc.lineAt(n.head),
            m = n.to - t.to,
            b = n.to - n.from;
          l1 = o1.changeByRange((g) => {
            if (g.from == n.from && g.to == n.to) return { changes: c2, range: f1 || g.map(c2) };
            var D = g.to - m,
              F = D - d.length;
            if (g.to - g.from != b || i.state.sliceDoc(F, D) != d || (p && g.to >= p.from && g.from <= p.to)) return { range: g };
            var w = o1.changes({ from: F, to: D, insert: t.insert }),
              x = g.to - n.to;
            return { changes: w, range: f1 ? Q.range(Math.max(0, f1.anchor + x), Math.max(0, f1.head + x)) : g.map(w) };
          });
        } else l1 = { changes: c2, selection: f1 && o1.selection.replaceRange(f1) };
      }
      var h1 = "input.type";
      return (i.composing || (i.inputState.compositionPendingChange && i.inputState.compositionEndedAt > Date.now() - 50)) && ((i.inputState.compositionPendingChange = !1), (h1 += ".compose"), i.inputState.compositionFirstChange && ((h1 += ".start"), (i.inputState.compositionFirstChange = !1))), i.dispatch(l1, { scrollIntoView: !0, userEvent: h1 }), !0;
    } else if (r && !r.main.eq(n)) {
      var o2 = !1,
        u2 = "select";
      return i.inputState.lastSelectionTime > Date.now() - 50 && (i.inputState.lastSelectionOrigin == "select" && (o2 = !0), (u2 = i.inputState.lastSelectionOrigin)), i.dispatch({ selection: r, scrollIntoView: o2, userEvent: u2 }), !0;
    } else return !1;
  }
  a(AD, "applyDOMChange");
  function wk(i, e, t, r) {
    var n = Math.min(i.length, e.length),
      s = 0;
    for (; s < n && i.charCodeAt(s) == e.charCodeAt(s); ) s++;
    if (s == n && i.length == e.length) return null;
    var o = i.length,
      u = e.length;
    for (; o > 0 && u > 0 && i.charCodeAt(o - 1) == e.charCodeAt(u - 1); ) o--, u--;
    if (r == "end") {
      var l = Math.max(0, s - Math.min(o, u));
      t -= o + l - s;
    }
    if (o < s && i.length < e.length) {
      var l1 = t <= s && t >= o ? s - t : 0;
      (s -= l1), (u = s + (u - o)), (o = s);
    } else if (u < s) {
      var l2 = t <= s && t >= u ? s - t : 0;
      (s -= l2), (o = s + (o - u)), (u = s);
    }
    return { from: s, toA: o, toB: u };
  }
  a(wk, "findDiff");
  function xk(i) {
    var e = [];
    if (i.root.activeElement != i.contentDOM) return e;
    var _i_observer_selectionRange = i.observer.selectionRange,
      t = _i_observer_selectionRange.anchorNode,
      r = _i_observer_selectionRange.anchorOffset,
      n = _i_observer_selectionRange.focusNode,
      s = _i_observer_selectionRange.focusOffset;
    return t && (e.push(new no(t, r)), (n != t || s != r) && e.push(new no(n, s))), e;
  }
  a(xk, "selectionPoints");
  function Sk(i, e) {
    if (i.length == 0) return null;
    var t = i[0].pos,
      r = i.length == 2 ? i[1].pos : t;
    return t > -1 && r > -1 ? Q.single(t + e, r + e) : null;
  }
  a(Sk, "selectionFromPoints");
  var Bk = { childList: !0, characterData: !0, subtree: !0, attributes: !0, characterDataOldValue: !0 },
    jl = W.ie && W.ie_version <= 11,
    wa =
      ((_class61 = class _class {
        onScrollChanged(e) {
          this.view.inputState.runScrollHandlers(this.view, e), this.intersecting && this.view.measure();
        }
        onScroll(e) {
          this.intersecting && this.flush(!1), this.onScrollChanged(e);
        }
        onResize() {
          this.resizeTimeout < 0 &&
            (this.resizeTimeout = setTimeout(() => {
              (this.resizeTimeout = -1), this.view.requestMeasure();
            }, 50));
        }
        onPrint() {
          (this.view.viewState.printing = !0),
            this.view.measure(),
            setTimeout(() => {
              (this.view.viewState.printing = !1), this.view.requestMeasure();
            }, 500);
        }
        updateGaps(e) {
          if (this.gapIntersection && (e.length != this.gaps.length || this.gaps.some((t, r) => t != e[r]))) {
            this.gapIntersection.disconnect();
            var _iteratorNormalCompletion = true,
              _didIteratorError = false,
              _iteratorError = undefined;
            try {
              for (var _iterator = e[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
                var t = _step.value;
                this.gapIntersection.observe(t);
              }
            } catch (err) {
              _didIteratorError = true;
              _iteratorError = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion && _iterator.return != null) {
                  _iterator.return();
                }
              } finally {
                if (_didIteratorError) {
                  throw _iteratorError;
                }
              }
            }
            this.gaps = e;
          }
        }
        onSelectionChange(e) {
          var t = this.selectionChanged;
          if (!this.readSelectionRange() || this.delayedAndroidKey) return;
          var _this = this,
            r = _this.view,
            n = this.selectionRange;
          if (r.state.facet(Do) ? r.root.activeElement != this.dom : !zs(r.dom, n)) return;
          var s = n.anchorNode && r.docView.nearest(n.anchorNode);
          if (s && s.ignoreEvent(e)) {
            t || (this.selectionChanged = !1);
            return;
          }
          ((W.ie && W.ie_version <= 11) || (W.android && W.chrome)) && !r.state.selection.main.empty && n.focusNode && Ks(n.focusNode, n.focusOffset, n.anchorNode, n.anchorOffset) ? this.flushSoon() : this.flush(!1);
        }
        readSelectionRange() {
          var _this = this,
            e = _this.view,
            t = (W.safari && e.root.nodeType == 11 && Tv(this.dom.ownerDocument) == this.dom && _k(this.view)) || Ys(e.root);
          if (!t || this.selectionRange.eq(t)) return !1;
          var r = zs(this.dom, t);
          return r && !this.selectionChanged && e.inputState.lastFocusTime > Date.now() - 200 && e.inputState.lastTouchTime < Date.now() - 300 && Lv(this.dom, t) ? ((this.view.inputState.lastFocusTime = 0), e.docView.updateSelection(), !1) : (this.selectionRange.setRange(t), r && (this.selectionChanged = !0), !0);
        }
        setSelectionRange(e, t) {
          this.selectionRange.set(e.node, e.offset, t.node, t.offset), (this.selectionChanged = !1);
        }
        clearSelectionRange() {
          this.selectionRange.set(null, 0, null, 0);
        }
        listenForScroll() {
          this.parentCheck = -1;
          var e = 0,
            t = null;
          for (var r = this.dom; r; )
            if (r.nodeType == 1) !t && e < this.scrollTargets.length && this.scrollTargets[e] == r ? e++ : t || (t = this.scrollTargets.slice(0, e)), t && t.push(r), (r = r.assignedSlot || r.parentNode);
            else if (r.nodeType == 11) r = r.host;
            else break;
          if ((e < this.scrollTargets.length && !t && (t = this.scrollTargets.slice(0, e)), t)) {
            var _iteratorNormalCompletion = true,
              _didIteratorError = false,
              _iteratorError = undefined;
            try {
              for (var _iterator = this.scrollTargets[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
                var r1 = _step.value;
                r1.removeEventListener("scroll", this.onScroll);
              }
            } catch (err) {
              _didIteratorError = true;
              _iteratorError = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion && _iterator.return != null) {
                  _iterator.return();
                }
              } finally {
                if (_didIteratorError) {
                  throw _iteratorError;
                }
              }
            }
            var _iteratorNormalCompletion1 = true,
              _didIteratorError1 = false,
              _iteratorError1 = undefined;
            try {
              for (var _iterator1 = (this.scrollTargets = t)[Symbol.iterator](), _step1; !(_iteratorNormalCompletion1 = (_step1 = _iterator1.next()).done); _iteratorNormalCompletion1 = true) {
                var r2 = _step1.value;
                r2.addEventListener("scroll", this.onScroll);
              }
            } catch (err) {
              _didIteratorError1 = true;
              _iteratorError1 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion1 && _iterator1.return != null) {
                  _iterator1.return();
                }
              } finally {
                if (_didIteratorError1) {
                  throw _iteratorError1;
                }
              }
            }
          }
        }
        ignore(e) {
          if (!this.active) return e();
          try {
            return this.stop(), e();
          } finally {
            this.start(), this.clear();
          }
        }
        start() {
          this.active || (this.observer.observe(this.dom, Bk), jl && this.dom.addEventListener("DOMCharacterDataModified", this.onCharData), (this.active = !0));
        }
        stop() {
          this.active && ((this.active = !1), this.observer.disconnect(), jl && this.dom.removeEventListener("DOMCharacterDataModified", this.onCharData));
        }
        clear() {
          this.processRecords(), (this.queue.length = 0), (this.selectionChanged = !1);
        }
        delayAndroidKey(e, t) {
          var r;
          if (!this.delayedAndroidKey) {
            var n = a(() => {
              var s = this.delayedAndroidKey;
              s && (this.clearDelayedAndroidKey(), (this.view.inputState.lastKeyCode = s.keyCode), (this.view.inputState.lastKeyTime = Date.now()), !this.flush() && s.force && hr(this.dom, s.key, s.keyCode));
            }, "flush");
            this.flushingAndroidKey = this.view.win.requestAnimationFrame(n);
          }
          (!this.delayedAndroidKey || e == "Enter") && (this.delayedAndroidKey = { key: e, keyCode: t, force: this.lastChange < Date.now() - 50 || !!(!((r = this.delayedAndroidKey) === null || r === void 0) && r.force) });
        }
        clearDelayedAndroidKey() {
          this.win.cancelAnimationFrame(this.flushingAndroidKey), (this.delayedAndroidKey = null), (this.flushingAndroidKey = -1);
        }
        flushSoon() {
          this.delayedFlush < 0 &&
            (this.delayedFlush = this.view.win.requestAnimationFrame(() => {
              (this.delayedFlush = -1), this.flush();
            }));
        }
        forceFlush() {
          this.delayedFlush >= 0 && (this.view.win.cancelAnimationFrame(this.delayedFlush), (this.delayedFlush = -1)), this.flush();
        }
        pendingRecords() {
          var _iteratorNormalCompletion = true,
            _didIteratorError = false,
            _iteratorError = undefined;
          try {
            for (var _iterator = this.observer.takeRecords()[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
              var e = _step.value;
              this.queue.push(e);
            }
          } catch (err) {
            _didIteratorError = true;
            _iteratorError = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion && _iterator.return != null) {
                _iterator.return();
              }
            } finally {
              if (_didIteratorError) {
                throw _iteratorError;
              }
            }
          }
          return this.queue;
        }
        processRecords() {
          var e = this.pendingRecords();
          e.length && (this.queue = []);
          var t = -1,
            r = -1,
            n = !1;
          var _iteratorNormalCompletion = true,
            _didIteratorError = false,
            _iteratorError = undefined;
          try {
            for (var _iterator = e[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
              var s = _step.value;
              var o = this.readMutation(s);
              var ref;
              o && (o.typeOver && (n = !0), t == -1 ? ((ref = o), (t = ref.from), (r = ref.to), ref) : ((t = Math.min(o.from, t)), (r = Math.max(o.to, r))));
            }
          } catch (err) {
            _didIteratorError = true;
            _iteratorError = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion && _iterator.return != null) {
                _iterator.return();
              }
            } finally {
              if (_didIteratorError) {
                throw _iteratorError;
              }
            }
          }
          return { from: t, to: r, typeOver: n };
        }
        readChange() {
          var _this_processRecords = this.processRecords(),
            e = _this_processRecords.from,
            t = _this_processRecords.to,
            r = _this_processRecords.typeOver,
            n = this.selectionChanged && zs(this.dom, this.selectionRange);
          return e < 0 && !n ? null : (e > -1 && (this.lastChange = Date.now()), (this.view.inputState.lastFocusTime = 0), (this.selectionChanged = !1), new ka(this.view, e, t, r));
        }
        flush() {
          var e = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : !0;
          if (this.delayedFlush >= 0 || this.delayedAndroidKey) return !1;
          e && this.readSelectionRange();
          var t = this.readChange();
          if (!t) return !1;
          var r = this.view.state,
            n = AD(this.view, t);
          return this.view.state == r && this.view.update([]), n;
        }
        readMutation(e) {
          var t = this.view.docView.nearest(e.target);
          if (!t || t.ignoreMutation(e)) return null;
          if ((t.markDirty(e.type == "attributes"), e.type == "attributes" && (t.dirty |= 4), e.type == "childList")) {
            var r = Ag(t, e.previousSibling || e.target.previousSibling, -1),
              n = Ag(t, e.nextSibling || e.target.nextSibling, 1);
            return { from: r ? t.posAfter(r) : t.posAtStart, to: n ? t.posBefore(n) : t.posAtEnd, typeOver: !1 };
          } else return e.type == "characterData" ? { from: t.posAtStart, to: t.posAtEnd, typeOver: e.target.nodeValue == e.oldValue } : null;
        }
        setWindow(e) {
          e != this.win && (this.removeWindowListeners(this.win), (this.win = e), this.addWindowListeners(this.win));
        }
        addWindowListeners(e) {
          e.addEventListener("resize", this.onResize), e.addEventListener("beforeprint", this.onPrint), e.addEventListener("scroll", this.onScroll), e.document.addEventListener("selectionchange", this.onSelectionChange);
        }
        removeWindowListeners(e) {
          e.removeEventListener("scroll", this.onScroll), e.removeEventListener("resize", this.onResize), e.removeEventListener("beforeprint", this.onPrint), e.document.removeEventListener("selectionchange", this.onSelectionChange);
        }
        destroy() {
          var e, t, r, n;
          this.stop(), (e = this.intersection) === null || e === void 0 || e.disconnect(), (t = this.gapIntersection) === null || t === void 0 || t.disconnect(), (r = this.resizeScroll) === null || r === void 0 || r.disconnect(), (n = this.resizeContent) === null || n === void 0 || n.disconnect();
          var _iteratorNormalCompletion = true,
            _didIteratorError = false,
            _iteratorError = undefined;
          try {
            for (var _iterator = this.scrollTargets[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
              var s = _step.value;
              s.removeEventListener("scroll", this.onScroll);
            }
          } catch (err) {
            _didIteratorError = true;
            _iteratorError = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion && _iterator.return != null) {
                _iterator.return();
              }
            } finally {
              if (_didIteratorError) {
                throw _iteratorError;
              }
            }
          }
          this.removeWindowListeners(this.win), clearTimeout(this.parentCheck), clearTimeout(this.resizeTimeout), this.win.cancelAnimationFrame(this.delayedFlush), this.win.cancelAnimationFrame(this.flushingAndroidKey);
        }
        constructor(e) {
          (this.view = e),
            (this.active = !1),
            (this.selectionRange = new Yl()),
            (this.selectionChanged = !1),
            (this.delayedFlush = -1),
            (this.resizeTimeout = -1),
            (this.queue = []),
            (this.delayedAndroidKey = null),
            (this.flushingAndroidKey = -1),
            (this.lastChange = 0),
            (this.scrollTargets = []),
            (this.intersection = null),
            (this.resizeScroll = null),
            (this.resizeContent = null),
            (this.intersecting = !1),
            (this.gapIntersection = null),
            (this.gaps = []),
            (this.parentCheck = -1),
            (this.dom = e.contentDOM),
            (this.observer = new MutationObserver((t) => {
              var _iteratorNormalCompletion = true,
                _didIteratorError = false,
                _iteratorError = undefined;
              try {
                for (var _iterator = t[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
                  var r = _step.value;
                  this.queue.push(r);
                }
              } catch (err) {
                _didIteratorError = true;
                _iteratorError = err;
              } finally {
                try {
                  if (!_iteratorNormalCompletion && _iterator.return != null) {
                    _iterator.return();
                  }
                } finally {
                  if (_didIteratorError) {
                    throw _iteratorError;
                  }
                }
              }
              ((W.ie && W.ie_version <= 11) || (W.ios && e.composing)) && t.some((r) => (r.type == "childList" && r.removedNodes.length) || (r.type == "characterData" && r.oldValue.length > r.target.nodeValue.length)) ? this.flushSoon() : this.flush();
            })),
            jl &&
              (this.onCharData = (t) => {
                this.queue.push({ target: t.target, type: "characterData", oldValue: t.prevValue }), this.flushSoon();
              }),
            (this.onSelectionChange = this.onSelectionChange.bind(this)),
            (this.onResize = this.onResize.bind(this)),
            (this.onPrint = this.onPrint.bind(this)),
            (this.onScroll = this.onScroll.bind(this)),
            typeof ResizeObserver == "function" &&
              ((this.resizeScroll = new ResizeObserver(() => {
                var t;
                ((t = this.view.docView) === null || t === void 0 ? void 0 : t.lastUpdate) < Date.now() - 75 && this.onResize();
              })),
              this.resizeScroll.observe(e.scrollDOM),
              (this.resizeContent = new ResizeObserver(() => this.view.requestMeasure())),
              this.resizeContent.observe(e.contentDOM)),
            this.addWindowListeners((this.win = e.win)),
            this.start(),
            typeof IntersectionObserver == "function" &&
              ((this.intersection = new IntersectionObserver(
                (t) => {
                  this.parentCheck < 0 && (this.parentCheck = setTimeout(this.listenForScroll.bind(this), 1e3)), t.length > 0 && t[t.length - 1].intersectionRatio > 0 != this.intersecting && ((this.intersecting = !this.intersecting), this.intersecting != this.view.inView && this.onScrollChanged(document.createEvent("Event")));
                },
                { threshold: [0, 0.001] }
              )),
              this.intersection.observe(this.dom),
              (this.gapIntersection = new IntersectionObserver((t) => {
                t.length > 0 && t[t.length - 1].intersectionRatio > 0 && this.onScrollChanged(document.createEvent("Event"));
              }, {}))),
            this.listenForScroll(),
            this.readSelectionRange();
        }
      }),
      (() => {
        a(_class61, "DOMObserver");
      })(),
      _class61);
  function Ag(i, e, t) {
    for (; e; ) {
      var r = Ce.get(e);
      if (r && r.parent == i) return r;
      var n = e.parentNode;
      e = n != i.dom ? n : t > 0 ? e.nextSibling : e.previousSibling;
    }
    return null;
  }
  a(Ag, "findChild");
  function _k(i) {
    var e = null;
    function t(l) {
      l.preventDefault(), l.stopImmediatePropagation(), (e = l.getTargetRanges()[0]);
    }
    if ((a(t, "read"), i.contentDOM.addEventListener("beforeinput", t, !0), i.dom.ownerDocument.execCommand("indent"), i.contentDOM.removeEventListener("beforeinput", t, !0), !e)) return null;
    var r = e.startContainer,
      n = e.startOffset,
      s = e.endContainer,
      o = e.endOffset,
      u = i.docView.domAtPos(i.state.selection.main.anchor);
    var ref;
    return Ks(u.node, u.offset, s, o) && ((ref = [s, o, r, n]), (r = ref[0]), (n = ref[1]), (s = ref[2]), (o = ref[3]), ref), { anchorNode: r, anchorOffset: n, focusNode: s, focusOffset: o };
  }
  a(_k, "safariSelectionRangeHack");
  var re =
    ((_i41 = class i {
      get state() {
        return this.viewState.state;
      }
      get viewport() {
        return this.viewState.viewport;
      }
      get visibleRanges() {
        return this.viewState.visibleRanges;
      }
      get inView() {
        return this.viewState.inView;
      }
      get composing() {
        return this.inputState.composing > 0;
      }
      get compositionStarted() {
        return this.inputState.composing >= 0;
      }
      get root() {
        return this._root;
      }
      get win() {
        return this.dom.ownerDocument.defaultView || window;
      }
      dispatch() {
        for (var _len = arguments.length, e = new Array(_len), _key = 0; _key < _len; _key++) {
          e[_key] = arguments[_key];
        }
        var t = e.length == 1 && e[0] instanceof Pe ? e[0] : this.state.update(...e);
        this._dispatch(t, this);
      }
      update(e) {
        if (this.updateState != 0) throw new Error("Calls to EditorView.update are not allowed while an update is in progress");
        var t = !1,
          r = !1,
          n,
          s = this.state;
        var _iteratorNormalCompletion = true,
          _didIteratorError = false,
          _iteratorError = undefined;
        try {
          for (var _iterator = e[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
            var d = _step.value;
            if (d.startState != s) throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");
            s = d.state;
          }
        } catch (err) {
          _didIteratorError = true;
          _iteratorError = err;
        } finally {
          try {
            if (!_iteratorNormalCompletion && _iterator.return != null) {
              _iterator.return();
            }
          } finally {
            if (_didIteratorError) {
              throw _iteratorError;
            }
          }
        }
        if (this.destroyed) {
          this.viewState.state = s;
          return;
        }
        var o = this.hasFocus,
          u = 0,
          l = null;
        e.some((d) => d.annotation(gD)) ? ((this.inputState.notifiedFocused = o), (u = 1)) : o != this.inputState.notifiedFocused && ((this.inputState.notifiedFocused = o), (l = DD(s, o)), l || (u = 1));
        var h = this.observer.delayedAndroidKey,
          c = null;
        if ((h ? (this.observer.clearDelayedAndroidKey(), (c = this.observer.readChange()), ((c && !this.state.doc.eq(s.doc)) || !this.state.selection.eq(s.selection)) && (c = null)) : this.observer.clear(), s.facet(Ae.phrases) != this.state.facet(Ae.phrases))) return this.setState(s);
        (n = io.create(this, s, e)), (n.flags |= u);
        var f = this.viewState.scrollTarget;
        try {
          this.updateState = 2;
          var _iteratorNormalCompletion1 = true,
            _didIteratorError1 = false,
            _iteratorError1 = undefined;
          try {
            for (var _iterator1 = e[Symbol.iterator](), _step1; !(_iteratorNormalCompletion1 = (_step1 = _iterator1.next()).done); _iteratorNormalCompletion1 = true) {
              var d1 = _step1.value;
              if ((f && (f = f.map(d1.changes)), d1.scrollIntoView)) {
                var _d_state_selection = d1.state.selection,
                  p = _d_state_selection.main;
                f = new to(p.empty ? p : Q.cursor(p.head, p.head > p.anchor ? -1 : 1));
              }
              var _iteratorNormalCompletion2 = true,
                _didIteratorError2 = false,
                _iteratorError2 = undefined;
              try {
                for (var _iterator2 = d1.effects[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {
                  var p1 = _step2.value;
                  p1.is(ng) && (f = p1.value);
                }
              } catch (err) {
                _didIteratorError2 = true;
                _iteratorError2 = err;
              } finally {
                try {
                  if (!_iteratorNormalCompletion2 && _iterator2.return != null) {
                    _iterator2.return();
                  }
                } finally {
                  if (_didIteratorError2) {
                    throw _iteratorError2;
                  }
                }
              }
            }
          } catch (err) {
            _didIteratorError1 = true;
            _iteratorError1 = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion1 && _iterator1.return != null) {
                _iterator1.return();
              }
            } finally {
              if (_didIteratorError1) {
                throw _iteratorError1;
              }
            }
          }
          this.viewState.update(n, f),
            (this.bidiCache = ao.update(this.bidiCache, n.changes)),
            n.empty || (this.updatePlugins(n), this.inputState.update(n)),
            (t = this.docView.update(n)),
            this.state.facet(Jr) != this.styleModules && this.mountStyles(),
            (r = this.updateAttrs()),
            this.showAnnouncements(e),
            this.docView.updateSelection(
              t,
              e.some((d) => d.isUserEvent("select.pointer"))
            );
        } finally {
          this.updateState = 0;
        }
        var _iteratorNormalCompletion3 = true,
          _didIteratorError3 = false,
          _iteratorError3 = undefined;
        if ((n.startState.facet(Is) != n.state.facet(Is) && (this.viewState.mustMeasureContent = !0), (t || r || f || this.viewState.mustEnforceCursorAssoc || this.viewState.mustMeasureContent) && this.requestMeasure(), !n.empty))
          try {
            for (var _iterator3 = this.state.facet(na)[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {
              var d2 = _step3.value;
              d2(n);
            }
          } catch (err) {
            _didIteratorError3 = true;
            _iteratorError3 = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion3 && _iterator3.return != null) {
                _iterator3.return();
              }
            } finally {
              if (_didIteratorError3) {
                throw _iteratorError3;
              }
            }
          }
        (l || c) &&
          Promise.resolve().then(() => {
            l && this.state == l.startState && this.dispatch(l), c && !AD(this, c) && h.force && hr(this.contentDOM, h.key, h.keyCode);
          });
      }
      setState(e) {
        if (this.updateState != 0) throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");
        if (this.destroyed) {
          this.viewState.state = e;
          return;
        }
        this.updateState = 2;
        var t = this.hasFocus;
        try {
          var _iteratorNormalCompletion = true,
            _didIteratorError = false,
            _iteratorError = undefined;
          try {
            for (var _iterator = this.plugins[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
              var r = _step.value;
              r.destroy(this);
            }
          } catch (err) {
            _didIteratorError = true;
            _iteratorError = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion && _iterator.return != null) {
                _iterator.return();
              }
            } finally {
              if (_didIteratorError) {
                throw _iteratorError;
              }
            }
          }
          (this.viewState = new lo(e)), (this.plugins = e.facet(Qr).map((r) => new tn(r))), this.pluginMap.clear();
          var _iteratorNormalCompletion1 = true,
            _didIteratorError1 = false,
            _iteratorError1 = undefined;
          try {
            for (var _iterator1 = this.plugins[Symbol.iterator](), _step1; !(_iteratorNormalCompletion1 = (_step1 = _iterator1.next()).done); _iteratorNormalCompletion1 = true) {
              var r1 = _step1.value;
              r1.update(this);
            }
          } catch (err) {
            _didIteratorError1 = true;
            _iteratorError1 = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion1 && _iterator1.return != null) {
                _iterator1.return();
              }
            } finally {
              if (_didIteratorError1) {
                throw _iteratorError1;
              }
            }
          }
          (this.docView = new so(this)), this.inputState.ensureHandlers(this, this.plugins), this.mountStyles(), this.updateAttrs(), (this.bidiCache = []);
        } finally {
          this.updateState = 0;
        }
        t && this.focus(), this.requestMeasure();
      }
      updatePlugins(e) {
        var t = e.startState.facet(Qr),
          r = e.state.facet(Qr);
        var _iteratorNormalCompletion = true,
          _didIteratorError = false,
          _iteratorError = undefined;
        if (t != r) {
          var n = [];
          var _iteratorNormalCompletion1 = true,
            _didIteratorError1 = false,
            _iteratorError1 = undefined;
          try {
            for (var _iterator = r[Symbol.iterator](), _step; !(_iteratorNormalCompletion1 = (_step = _iterator.next()).done); _iteratorNormalCompletion1 = true) {
              var s = _step.value;
              var o = t.indexOf(s);
              if (o < 0) n.push(new tn(s));
              else {
                var u = this.plugins[o];
                (u.mustUpdate = e), n.push(u);
              }
            }
          } catch (err) {
            _didIteratorError1 = true;
            _iteratorError1 = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion1 && _iterator.return != null) {
                _iterator.return();
              }
            } finally {
              if (_didIteratorError1) {
                throw _iteratorError1;
              }
            }
          }
          var _iteratorNormalCompletion2 = true,
            _didIteratorError2 = false,
            _iteratorError2 = undefined;
          try {
            for (var _iterator1 = this.plugins[Symbol.iterator](), _step1; !(_iteratorNormalCompletion2 = (_step1 = _iterator1.next()).done); _iteratorNormalCompletion2 = true) {
              var s1 = _step1.value;
              s1.mustUpdate != e && s1.destroy(this);
            }
          } catch (err) {
            _didIteratorError2 = true;
            _iteratorError2 = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion2 && _iterator1.return != null) {
                _iterator1.return();
              }
            } finally {
              if (_didIteratorError2) {
                throw _iteratorError2;
              }
            }
          }
          (this.plugins = n), this.pluginMap.clear(), this.inputState.ensureHandlers(this, this.plugins);
        } else
          try {
            for (var _iterator2 = this.plugins[Symbol.iterator](), _step2; !(_iteratorNormalCompletion = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion = true) {
              var n1 = _step2.value;
              n1.mustUpdate = e;
            }
          } catch (err) {
            _didIteratorError = true;
            _iteratorError = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion && _iterator2.return != null) {
                _iterator2.return();
              }
            } finally {
              if (_didIteratorError) {
                throw _iteratorError;
              }
            }
          }
        for (var n2 = 0; n2 < this.plugins.length; n2++) this.plugins[n2].update(this);
      }
      measure() {
        var e = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : !0;
        if (this.destroyed) return;
        this.measureScheduled > -1 && this.win.cancelAnimationFrame(this.measureScheduled), (this.measureScheduled = 0), e && this.observer.forceFlush();
        var t = null,
          r = this.scrollDOM,
          n = r.scrollTop,
          _this_viewState = this.viewState,
          s = _this_viewState.scrollAnchorPos,
          o = _this_viewState.scrollAnchorHeight;
        if (((this.viewState.scrollAnchorHeight = -1), o < 0 || n != this.viewState.scrollTop))
          if (n > r.scrollHeight - r.clientHeight - 4) (s = -1), (o = this.viewState.heightMap.height);
          else {
            var u = this.viewState.lineBlockAtHeight(n);
            (s = u.from), (o = u.top);
          }
        try {
          var _this = this,
            _loop = function (u1) {
              _this.updateState = 1;
              var l = _this.viewport,
                h = _this.viewState.measure(_this);
              if (!h && !_this.measureRequests.length && _this.viewState.scrollTarget == null) return "break";
              if (u1 > 5) {
                console.warn(_this.measureRequests.length ? "Measure loop restarted more than 5 times" : "Viewport failed to stabilize");
                return "break";
              }
              var c = [];
              var ref;
              h & 4 || ((ref = [c, _this.measureRequests]), (_this.measureRequests = ref[0]), (c = ref[1]), ref);
              var f = c.map((b) => {
                  try {
                    return b.read(_this);
                  } catch (g) {
                    return ht(_this.state, g), Eg;
                  }
                }),
                d = io.create(_this, _this.state, []),
                p = !1,
                m = !1;
              (d.flags |= h), t ? (t.flags |= h) : (t = d), (_this.updateState = 2), d.empty || (_this.updatePlugins(d), _this.inputState.update(d), _this.updateAttrs(), (p = _this.docView.update(d)));
              for (var b = 0; b < c.length; b++)
                if (f[b] != Eg)
                  try {
                    var _$g = c[b];
                    _$g.write && _$g.write(f[b], _this);
                  } catch (g) {
                    ht(_this.state, g);
                  }
              if (_this.viewState.editorHeight) {
                if (_this.viewState.scrollTarget) _this.docView.scrollIntoView(_this.viewState.scrollTarget), (_this.viewState.scrollTarget = null), (m = !0);
                else if (o > -1) {
                  var _$g1 = (s < 0 ? _this.viewState.heightMap.height : _this.viewState.lineBlockAt(s).top) - o;
                  (_$g1 > 1 || _$g1 < -1) && ((r.scrollTop = n + _$g1), (m = !0));
                }
              }
              if ((p && _this.docView.updateSelection(!0), _this.viewport.from == l.from && _this.viewport.to == l.to && !m && _this.measureRequests.length == 0)) return "break";
              o = -1;
            };
          for (var u1 = 0; ; u1++) {
            var _ret = _loop(u1);
            if (_ret === "break") break;
          }
        } finally {
          (this.updateState = 0), (this.measureScheduled = -1);
        }
        var _iteratorNormalCompletion = true,
          _didIteratorError = false,
          _iteratorError = undefined;
        if (t && !t.empty)
          try {
            for (var _iterator = this.state.facet(na)[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
              var u2 = _step.value;
              u2(t);
            }
          } catch (err) {
            _didIteratorError = true;
            _iteratorError = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion && _iterator.return != null) {
                _iterator.return();
              }
            } finally {
              if (_didIteratorError) {
                throw _iteratorError;
              }
            }
          }
      }
      get themeClasses() {
        return Ea + " " + (this.state.facet(Aa) ? yD : FD) + " " + this.state.facet(Is);
      }
      updateAttrs() {
        var e = vg(this, tD, { class: "cm-editor" + (this.hasFocus ? " cm-focused " : " ") + this.themeClasses }),
          t = { spellcheck: "false", autocorrect: "off", autocapitalize: "off", translate: "no", contenteditable: this.state.facet(Do) ? "true" : "false", class: "cm-content", style: "".concat(W.tabSize, ": ").concat(this.state.tabSize), role: "textbox", "aria-multiline": "true" };
        this.state.readOnly && (t["aria-readonly"] = "true"), vg(this, Pa, t);
        var r = this.observer.ignore(() => {
          var n = ta(this.contentDOM, this.contentAttrs, t),
            s = ta(this.dom, this.editorAttrs, e);
          return n || s;
        });
        return (this.editorAttrs = e), (this.contentAttrs = t), r;
      }
      showAnnouncements(e) {
        var t = !0;
        var _iteratorNormalCompletion = true,
          _didIteratorError = false,
          _iteratorError = undefined,
          _iteratorNormalCompletion1 = true,
          _didIteratorError1 = false,
          _iteratorError1 = undefined;
        try {
          for (var _iterator = e[Symbol.iterator](), _step; !(_iteratorNormalCompletion1 = (_step = _iterator.next()).done); _iteratorNormalCompletion1 = true) {
            var r = _step.value;
            try {
              for (var _iterator1 = r.effects[Symbol.iterator](), _step1; !(_iteratorNormalCompletion = (_step1 = _iterator1.next()).done); _iteratorNormalCompletion = true) {
                var n = _step1.value;
                if (n.is(i.announce)) {
                  t && (this.announceDOM.textContent = ""), (t = !1);
                  var s = this.announceDOM.appendChild(document.createElement("div"));
                  s.textContent = n.value;
                }
              }
            } catch (err) {
              _didIteratorError = true;
              _iteratorError = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion && _iterator1.return != null) {
                  _iterator1.return();
                }
              } finally {
                if (_didIteratorError) {
                  throw _iteratorError;
                }
              }
            }
          }
        } catch (err) {
          _didIteratorError1 = true;
          _iteratorError1 = err;
        } finally {
          try {
            if (!_iteratorNormalCompletion1 && _iterator.return != null) {
              _iterator.return();
            }
          } finally {
            if (_didIteratorError1) {
              throw _iteratorError1;
            }
          }
        }
      }
      mountStyles() {
        (this.styleModules = this.state.facet(Jr)), ut.mount(this.root, this.styleModules.concat(kk).reverse());
      }
      readMeasured() {
        if (this.updateState == 2) throw new Error("Reading the editor layout isn't allowed during an update");
        this.updateState == 0 && this.measureScheduled > -1 && this.measure(!1);
      }
      requestMeasure(e) {
        if ((this.measureScheduled < 0 && (this.measureScheduled = this.win.requestAnimationFrame(() => this.measure())), e)) {
          if (this.measureRequests.indexOf(e) > -1) return;
          if (e.key != null) {
            for (var t = 0; t < this.measureRequests.length; t++)
              if (this.measureRequests[t].key === e.key) {
                this.measureRequests[t] = e;
                return;
              }
          }
          this.measureRequests.push(e);
        }
      }
      plugin(e) {
        var t = this.pluginMap.get(e);
        return (t === void 0 || (t && t.spec != e)) && this.pluginMap.set(e, (t = this.plugins.find((r) => r.spec == e) || null)), t && t.update(this).value;
      }
      get documentTop() {
        return this.contentDOM.getBoundingClientRect().top + this.viewState.paddingTop;
      }
      get documentPadding() {
        return { top: this.viewState.paddingTop, bottom: this.viewState.paddingBottom };
      }
      elementAtHeight(e) {
        return this.readMeasured(), this.viewState.elementAtHeight(e);
      }
      lineBlockAtHeight(e) {
        return this.readMeasured(), this.viewState.lineBlockAtHeight(e);
      }
      get viewportLineBlocks() {
        return this.viewState.viewportLines;
      }
      lineBlockAt(e) {
        return this.viewState.lineBlockAt(e);
      }
      get contentHeight() {
        return this.viewState.contentHeight;
      }
      moveByChar(e, t, r) {
        return Wl(this, e, hg(this, e, t, r));
      }
      moveByGroup(e, t) {
        return Wl(
          this,
          e,
          hg(this, e, t, (r) => ok(this, e.head, r))
        );
      }
      moveToLineBoundary(e, t) {
        var r = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : !0;
        return sk(this, e, t, r);
      }
      moveVertically(e, t, r) {
        return Wl(this, e, uk(this, e, t, r));
      }
      domAtPos(e) {
        return this.docView.domAtPos(e);
      }
      posAtDOM(e) {
        var t = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0;
        return this.docView.posFromDOM(e, t);
      }
      posAtCoords(e) {
        var t = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : !0;
        return this.readMeasured(), aD(this, e, t);
      }
      coordsAtPos(e) {
        var t = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 1;
        this.readMeasured();
        var r = this.docView.coordsAt(e, t);
        if (!r || r.left == r.right) return r;
        var n = this.state.doc.lineAt(e),
          s = this.bidiSpans(n),
          o = s[ti.find(s, e - n.from, -1, t)];
        return Ra(r, (o.dir == Se.LTR) == t > 0);
      }
      get defaultCharacterWidth() {
        return this.viewState.heightOracle.charWidth;
      }
      get defaultLineHeight() {
        return this.viewState.heightOracle.lineHeight;
      }
      get textDirection() {
        return this.viewState.defaultTextDirection;
      }
      textDirectionAt(e) {
        return !this.state.facet(Zg) || e < this.viewport.from || e > this.viewport.to ? this.textDirection : (this.readMeasured(), this.docView.textDirectionAt(e));
      }
      get lineWrapping() {
        return this.viewState.heightOracle.lineWrapping;
      }
      bidiSpans(e) {
        if (e.length > Ok) return sD(e.length);
        var t = this.textDirectionAt(e.from);
        var _iteratorNormalCompletion = true,
          _didIteratorError = false,
          _iteratorError = undefined;
        try {
          for (var _iterator = this.bidiCache[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
            var n = _step.value;
            if (n.from == e.from && n.dir == t) return n.order;
          }
        } catch (err) {
          _didIteratorError = true;
          _iteratorError = err;
        } finally {
          try {
            if (!_iteratorNormalCompletion && _iterator.return != null) {
              _iterator.return();
            }
          } finally {
            if (_didIteratorError) {
              throw _iteratorError;
            }
          }
        }
        var r = Gv(e.text, t);
        return this.bidiCache.push(new ao(e.from, e.to, t, r)), r;
      }
      get hasFocus() {
        var e;
        return (this.dom.ownerDocument.hasFocus() || (W.safari && ((e = this.inputState) === null || e === void 0 ? void 0 : e.lastContextMenu) > Date.now() - 3e4)) && this.root.activeElement == this.contentDOM;
      }
      focus() {
        this.observer.ignore(() => {
          Mg(this.contentDOM), this.docView.updateSelection();
        });
      }
      setRoot(e) {
        this._root != e && ((this._root = e), this.observer.setWindow((e.nodeType == 9 ? e : e.ownerDocument).defaultView || window), this.mountStyles());
      }
      destroy() {
        var _iteratorNormalCompletion = true,
          _didIteratorError = false,
          _iteratorError = undefined;
        try {
          for (var _iterator = this.plugins[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
            var e = _step.value;
            e.destroy(this);
          }
        } catch (err) {
          _didIteratorError = true;
          _iteratorError = err;
        } finally {
          try {
            if (!_iteratorNormalCompletion && _iterator.return != null) {
              _iterator.return();
            }
          } finally {
            if (_didIteratorError) {
              throw _iteratorError;
            }
          }
        }
        (this.plugins = []), this.inputState.destroy(), this.dom.remove(), this.observer.destroy(), this.measureScheduled > -1 && this.win.cancelAnimationFrame(this.measureScheduled), (this.destroyed = !0);
      }
      static scrollIntoView(e) {
        var t = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};
        return ng.of(new to(typeof e == "number" ? Q.cursor(e) : e, t.y, t.x, t.yMargin, t.xMargin));
      }
      static domEventHandlers(e) {
        return Ye.define(() => ({}), { eventHandlers: e });
      }
      static theme(e, t) {
        var r = ut.newName(),
          n = [Is.of(r), Jr.of(va(".".concat(r), e))];
        return t && t.dark && n.push(Aa.of(!0)), n;
      }
      static baseTheme(e) {
        return rr.lowest(Jr.of(va("." + Ea, e, CD)));
      }
      static findFromDOM(e) {
        var _n;
        var t;
        var r = e.querySelector(".cm-content"),
          n = (r && Ce.get(r)) || Ce.get(e);
        return ((t = (_n = n) === null || _n === void 0 ? void 0 : _n.rootView) === null || t === void 0 ? void 0 : t.view) || null;
      }
      constructor(ref) {
        var e = ref === void 0 ? {} : ref;
        (this.plugins = []),
          (this.pluginMap = new Map()),
          (this.editorAttrs = {}),
          (this.contentAttrs = {}),
          (this.bidiCache = []),
          (this.destroyed = !1),
          (this.updateState = 2),
          (this.measureScheduled = -1),
          (this.measureRequests = []),
          (this.contentDOM = document.createElement("div")),
          (this.scrollDOM = document.createElement("div")),
          (this.scrollDOM.tabIndex = -1),
          (this.scrollDOM.className = "cm-scroller"),
          this.scrollDOM.appendChild(this.contentDOM),
          (this.announceDOM = document.createElement("div")),
          (this.announceDOM.style.cssText = "position: fixed; top: -10000px"),
          this.announceDOM.setAttribute("aria-live", "polite"),
          (this.dom = document.createElement("div")),
          this.dom.appendChild(this.announceDOM),
          this.dom.appendChild(this.scrollDOM),
          (this._dispatch = e.dispatch || ((t) => this.update([t]))),
          (this.dispatch = this.dispatch.bind(this)),
          (this._root = e.root || Pv(e.parent) || document),
          (this.viewState = new lo(e.state || Ae.create(e))),
          (this.plugins = this.state.facet(Qr).map((t) => new tn(t)));
        var _iteratorNormalCompletion = true,
          _didIteratorError = false,
          _iteratorError = undefined;
        try {
          for (var _iterator = this.plugins[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
            var t = _step.value;
            t.update(this);
          }
        } catch (err) {
          _didIteratorError = true;
          _iteratorError = err;
        } finally {
          try {
            if (!_iteratorNormalCompletion && _iterator.return != null) {
              _iterator.return();
            }
          } finally {
            if (_didIteratorError) {
              throw _iteratorError;
            }
          }
        }
        (this.observer = new wa(this)), (this.inputState = new ca(this)), this.inputState.ensureHandlers(this, this.plugins), (this.docView = new so(this)), this.mountStyles(), this.updateAttrs(), (this.updateState = 0), this.requestMeasure(), e.parent && e.parent.appendChild(this.dom);
      }
    }),
    (() => {
      a(_i41, "EditorView");
    })(),
    _i41);
  re.styleModule = Jr;
  re.inputHandler = Qg;
  re.focusChangeEffect = Jg;
  re.perLineTextDirection = Zg;
  re.exceptionSink = Xg;
  re.updateListener = na;
  re.editable = Do;
  re.mouseSelectionStyle = Kg;
  re.dragMovesSelection = Yg;
  re.clickAddsSelectionRange = Gg;
  re.decorations = hn;
  re.atomicRanges = La;
  re.scrollMargins = iD;
  re.darkTheme = Aa;
  re.contentAttributes = Pa;
  re.editorAttributes = tD;
  re.lineWrapping = re.contentAttributes.of({ class: "cm-lineWrapping" });
  re.announce = pe.define();
  var Ok = 4096,
    Eg = {},
    ao =
      ((_i42 = class i {
        static update(e, t) {
          if (t.empty) return e;
          var r = [],
            n = e.length ? e[e.length - 1].dir : Se.LTR;
          for (var s = Math.max(0, e.length - 10); s < e.length; s++) {
            var o = e[s];
            o.dir == n && !t.touchesRange(o.from, o.to) && r.push(new i(t.mapPos(o.from, 1), t.mapPos(o.to, -1), o.dir, o.order));
          }
          return r;
        }
        constructor(e, t, r, n) {
          (this.from = e), (this.to = t), (this.dir = r), (this.order = n);
        }
      }),
      (() => {
        a(_i42, "CachedOrder");
      })(),
      _i42);
  function vg(i, e, t) {
    for (var r = i.state.facet(e), n = r.length - 1; n >= 0; n--) {
      var s = r[n],
        o = typeof s == "function" ? s(i) : s;
      o && ea(o, t);
    }
    return t;
  }
  a(vg, "attrsFromFacet");
  var Tk = W.mac ? "mac" : W.windows ? "win" : W.linux ? "linux" : "key";
  function Rk(i, e) {
    var t = i.split(/-(?!$)/),
      r = t[t.length - 1];
    r == "Space" && (r = " ");
    var n, s, o, u;
    for (var l = 0; l < t.length - 1; ++l) {
      var h = t[l];
      if (/^(cmd|meta|m)$/i.test(h)) u = !0;
      else if (/^a(lt)?$/i.test(h)) n = !0;
      else if (/^(c|ctrl|control)$/i.test(h)) s = !0;
      else if (/^s(hift)?$/i.test(h)) o = !0;
      else if (/^mod$/i.test(h)) e == "mac" ? (u = !0) : (s = !0);
      else throw new Error("Unrecognized modifier name: " + h);
    }
    return n && (r = "Alt-" + r), s && (r = "Ctrl-" + r), u && (r = "Meta-" + r), o && (r = "Shift-" + r), r;
  }
  a(Rk, "normalizeKeyName");
  function Ns(i, e, t) {
    return e.altKey && (i = "Alt-" + i), e.ctrlKey && (i = "Ctrl-" + i), e.metaKey && (i = "Meta-" + i), t !== !1 && e.shiftKey && (i = "Shift-" + i), i;
  }
  a(Ns, "modifiers");
  var Mk = rr.default(
      re.domEventHandlers({
        keydown(i, e) {
          return qk($k(e.state), i, e, "editor");
        },
      })
    ),
    qa = G.define({ enables: Mk }),
    kg = new WeakMap();
  function $k(i) {
    var e = i.facet(qa),
      t = kg.get(e);
    return t || kg.set(e, (t = Lk(e.reduce((r, n) => r.concat(n), [])))), t;
  }
  a($k, "getKeymap");
  var Zt = null,
    Pk = 4e3;
  function Lk(i) {
    var e = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : Tk;
    var t = Object.create(null),
      r = Object.create(null),
      n = a((o, u) => {
        var l = r[o];
        if (l == null) r[o] = u;
        else if (l != u) throw new Error("Key binding " + o + " is used both as a regular binding and as a multi-stroke prefix");
      }, "checkPrefix"),
      s = a((o, u, l, h) => {
        var _loop = function (g) {
          var D = p.slice(0, g).join(" ");
          n(D, !0),
            d[D] ||
              (d[D] = {
                preventDefault: !0,
                run: [
                  (F) => {
                    var w = (Zt = { view: F, prefix: D, scope: o });
                    return (
                      setTimeout(() => {
                        Zt == w && (Zt = null);
                      }, Pk),
                      !0
                    );
                  },
                ],
              });
        };
        var c, f;
        var d = t[o] || (t[o] = Object.create(null)),
          p = u.split(/ (?!$)/).map((g) => Rk(g, e));
        for (var g = 1; g < p.length; g++) _loop(g);
        var m = p.join(" ");
        n(m, !1);
        var b = d[m] || (d[m] = { preventDefault: !1, run: ((f = (c = d._any) === null || c === void 0 ? void 0 : c.run) === null || f === void 0 ? void 0 : f.slice()) || [] });
        l && b.run.push(l), h && (b.preventDefault = !0);
      }, "add");
    var _iteratorNormalCompletion = true,
      _didIteratorError = false,
      _iteratorError = undefined;
    try {
      for (var _iterator = i[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
        var o = _step.value;
        var u = o.scope ? o.scope.split(" ") : ["editor"];
        var _iteratorNormalCompletion1 = true,
          _didIteratorError1 = false,
          _iteratorError1 = undefined;
        if (o.any)
          try {
            for (var _iterator1 = u[Symbol.iterator](), _step1; !(_iteratorNormalCompletion1 = (_step1 = _iterator1.next()).done); _iteratorNormalCompletion1 = true) {
              var h = _step1.value;
              var c = t[h] || (t[h] = Object.create(null));
              c._any || (c._any = { preventDefault: !1, run: [] });
              for (var f in c) c[f].run.push(o.any);
            }
          } catch (err) {
            _didIteratorError1 = true;
            _iteratorError1 = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion1 && _iterator1.return != null) {
                _iterator1.return();
              }
            } finally {
              if (_didIteratorError1) {
                throw _iteratorError1;
              }
            }
          }
        var l = o[e] || o.key;
        var _iteratorNormalCompletion2 = true,
          _didIteratorError2 = false,
          _iteratorError2 = undefined;
        if (l)
          try {
            for (var _iterator2 = u[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {
              var h1 = _step2.value;
              s(h1, l, o.run, o.preventDefault), o.shift && s(h1, "Shift-" + l, o.shift, o.preventDefault);
            }
          } catch (err) {
            _didIteratorError2 = true;
            _iteratorError2 = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion2 && _iterator2.return != null) {
                _iterator2.return();
              }
            } finally {
              if (_didIteratorError2) {
                throw _iteratorError2;
              }
            }
          }
      }
    } catch (err) {
      _didIteratorError = true;
      _iteratorError = err;
    } finally {
      try {
        if (!_iteratorNormalCompletion && _iterator.return != null) {
          _iterator.return();
        }
      } finally {
        if (_didIteratorError) {
          throw _iteratorError;
        }
      }
    }
    return t;
  }
  a(Lk, "buildKeymap");
  function qk(i, e, t, r) {
    var n = Q0(e),
      s = Ur(n, 0),
      o = ws(s) == n.length && n != " ",
      u = "",
      l = !1;
    Zt && Zt.view == t && Zt.scope == r && ((u = Zt.prefix + " "), (l = cD.indexOf(e.keyCode) < 0) && (Zt = null));
    var h = new Set(),
      c = a((m) => {
        if (m) {
          var _iteratorNormalCompletion = true,
            _didIteratorError = false,
            _iteratorError = undefined;
          try {
            for (var _iterator = m.run[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
              var b = _step.value;
              if (!h.has(b) && (h.add(b), b(t, e))) return !0;
            }
          } catch (err) {
            _didIteratorError = true;
            _iteratorError = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion && _iterator.return != null) {
                _iterator.return();
              }
            } finally {
              if (_didIteratorError) {
                throw _iteratorError;
              }
            }
          }
          m.preventDefault && (l = !0);
        }
        return !1;
      }, "runFor"),
      f = i[r],
      d,
      p;
    if (f) {
      if (c(f[u + Ns(n, e, !o)])) return !0;
      if (o && (e.altKey || e.metaKey || e.ctrlKey) && !(W.windows && e.ctrlKey && e.altKey) && (d = jt[e.keyCode]) && d != n) {
        if (c(f[u + Ns(d, e, !0)])) return !0;
        if (e.shiftKey && (p = nr[e.keyCode]) != n && p != d && c(f[u + Ns(p, e, !1)])) return !0;
      } else if (o && e.shiftKey && c(f[u + Ns(n, e, !0)])) return !0;
      if (c(f._any)) return !0;
    }
    return l;
  }
  a(qk, "runHandlers");
  var cn =
    ((_i43 = class i {
      draw() {
        var e = document.createElement("div");
        return (e.className = this.className), this.adjust(e), e;
      }
      update(e, t) {
        return t.className != this.className ? !1 : (this.adjust(e), !0);
      }
      adjust(e) {
        (e.style.left = this.left + "px"), (e.style.top = this.top + "px"), this.width != null && (e.style.width = this.width + "px"), (e.style.height = this.height + "px");
      }
      eq(e) {
        return this.left == e.left && this.top == e.top && this.width == e.width && this.height == e.height && this.className == e.className;
      }
      static forRange(e, t, r) {
        if (r.empty) {
          var n = e.coordsAtPos(r.head, r.assoc || 1);
          if (!n) return [];
          var s = ED(e);
          return [new i(t, n.left - s.left, n.top - s.top, null, n.bottom - n.top)];
        } else return Ik(e, t, r);
      }
      constructor(e, t, r, n, s) {
        (this.className = e), (this.left = t), (this.top = r), (this.width = n), (this.height = s);
      }
    }),
    (() => {
      a(_i43, "RectangleMarker");
    })(),
    _i43);
  function ED(i) {
    var e = i.scrollDOM.getBoundingClientRect();
    return { left: (i.textDirection == Se.LTR ? e.left : e.right - i.scrollDOM.clientWidth) - i.scrollDOM.scrollLeft, top: e.top - i.scrollDOM.scrollTop };
  }
  a(ED, "getBase");
  function wg(i, e, t) {
    var r = Q.cursor(e);
    return { from: Math.max(t.from, i.moveToLineBoundary(r, !1, !0).from), to: Math.min(t.to, i.moveToLineBoundary(r, !0, !0).from), type: xe.Text };
  }
  a(wg, "wrappedLine");
  function Ik(i, e, t) {
    if (t.to <= i.viewport.from || t.from >= i.viewport.to) return [];
    var r = Math.max(t.from, i.viewport.from),
      n = Math.min(t.to, i.viewport.to),
      s = i.textDirection == Se.LTR,
      o = i.contentDOM,
      u = o.getBoundingClientRect(),
      l = ED(i),
      h = o.querySelector(".cm-line"),
      c = h && window.getComputedStyle(h),
      f = u.left + (c ? parseInt(c.paddingLeft) + Math.min(0, parseInt(c.textIndent)) : 0),
      d = u.right - (c ? parseInt(c.paddingRight) : 0),
      p = ha(i, r),
      m = ha(i, n),
      b = p.type == xe.Text ? p : null,
      g = m.type == xe.Text ? m : null;
    if ((b && (i.lineWrapping || p.widgetLineBreaks) && (b = wg(i, r, b)), g && (i.lineWrapping || m.widgetLineBreaks) && (g = wg(i, n, g)), b && g && b.from == g.from)) return F(w(t.from, t.to, b));
    {
      var E = b ? w(t.from, null, b) : x(p, !1),
        _ = g ? w(null, t.to, g) : x(m, !0),
        I = [];
      return (b || p).to < (g || m).from - (b && g ? 1 : 0) || (p.widgetLineBreaks > 1 && E.bottom + i.defaultLineHeight / 2 < _.top) ? I.push(D(f, E.bottom, d, _.top)) : E.bottom < _.top && i.elementAtHeight((E.bottom + _.top) / 2).type == xe.Text && (E.bottom = _.top = (E.bottom + _.top) / 2), F(E).concat(I).concat(F(_));
    }
    function D(E, _, I, J) {
      return new cn(e, E - l.left, _ - l.top - 0.01, I - E, J - _ + 0.01);
    }
    a(D, "piece");
    function F(param) {
      var E = param.top,
        _ = param.bottom,
        I = param.horizontal;
      var J = [];
      for (var z = 0; z < I.length; z += 2) J.push(D(I[z], E, I[z + 1], _));
      return J;
    }
    a(F, "pieces");
    function w(E, _, I) {
      var J = 1e9,
        z = -1e9,
        U = [];
      function N(H, T, Z, ge, De) {
        var ce = i.coordsAtPos(H, H == I.to ? -2 : 2),
          ae = i.coordsAtPos(Z, Z == I.from ? 2 : -2);
        !ce || !ae || ((J = Math.min(ce.top, ae.top, J)), (z = Math.max(ce.bottom, ae.bottom, z)), De == Se.LTR ? U.push(s && T ? f : ce.left, s && ge ? d : ae.right) : U.push(!s && ge ? f : ae.left, !s && T ? d : ce.right));
      }
      a(N, "addSpan");
      var ne = E !== null && E !== void 0 ? E : I.from,
        le = _ !== null && _ !== void 0 ? _ : I.to;
      var _iteratorNormalCompletion = true,
        _didIteratorError = false,
        _iteratorError = undefined;
      try {
        for (var _iterator = i.visibleRanges[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
          var H = _step.value;
          if (H.to > ne && H.from < le)
            for (var T = Math.max(H.from, ne), Z = Math.min(H.to, le); ; ) {
              var ge = i.state.doc.lineAt(T);
              var _iteratorNormalCompletion1 = true,
                _didIteratorError1 = false,
                _iteratorError1 = undefined;
              try {
                for (var _iterator1 = i.bidiSpans(ge)[Symbol.iterator](), _step1; !(_iteratorNormalCompletion1 = (_step1 = _iterator1.next()).done); _iteratorNormalCompletion1 = true) {
                  var De = _step1.value;
                  var ce = De.from + ge.from,
                    ae = De.to + ge.from;
                  if (ce >= Z) break;
                  ae > T && N(Math.max(ce, T), E == null && ce <= ne, Math.min(ae, Z), _ == null && ae >= le, De.dir);
                }
              } catch (err) {
                _didIteratorError1 = true;
                _iteratorError1 = err;
              } finally {
                try {
                  if (!_iteratorNormalCompletion1 && _iterator1.return != null) {
                    _iterator1.return();
                  }
                } finally {
                  if (_didIteratorError1) {
                    throw _iteratorError1;
                  }
                }
              }
              if (((T = ge.to + 1), T >= Z)) break;
            }
        }
      } catch (err) {
        _didIteratorError = true;
        _iteratorError = err;
      } finally {
        try {
          if (!_iteratorNormalCompletion && _iterator.return != null) {
            _iterator.return();
          }
        } finally {
          if (_didIteratorError) {
            throw _iteratorError;
          }
        }
      }
      return U.length == 0 && N(ne, E == null, le, _ == null, i.textDirection), { top: J, bottom: z, horizontal: U };
    }
    a(w, "drawForLine");
    function x(E, _) {
      var I = u.top + (_ ? E.top : E.bottom);
      return { top: I, bottom: I, horizontal: [] };
    }
    a(x, "drawForWidget");
  }
  a(Ik, "rectanglesForRange");
  function Nk(i, e) {
    return i.constructor == e.constructor && i.eq(e);
  }
  a(Nk, "sameMarker");
  var xa =
      ((_class62 = class _class {
        update(e) {
          e.startState.facet(js) != e.state.facet(js) && this.setOrder(e.state), (this.layer.update(e, this.dom) || e.geometryChanged) && e.view.requestMeasure(this.measureReq);
        }
        setOrder(e) {
          var t = 0,
            r = e.facet(js);
          for (; t < r.length && r[t] != this.layer; ) t++;
          this.dom.style.zIndex = String((this.layer.above ? 150 : -1) - t);
        }
        measure() {
          return this.layer.markers(this.view);
        }
        draw(e) {
          if (e.length != this.drawn.length || e.some((t, r) => !Nk(t, this.drawn[r]))) {
            var t = this.dom.firstChild,
              r = 0;
            var _iteratorNormalCompletion = true,
              _didIteratorError = false,
              _iteratorError = undefined;
            try {
              for (var _iterator = e[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
                var n = _step.value;
                n.update && t && n.constructor && this.drawn[r].constructor && n.update(t, this.drawn[r]) ? ((t = t.nextSibling), r++) : this.dom.insertBefore(n.draw(), t);
              }
            } catch (err) {
              _didIteratorError = true;
              _iteratorError = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion && _iterator.return != null) {
                  _iterator.return();
                }
              } finally {
                if (_didIteratorError) {
                  throw _iteratorError;
                }
              }
            }
            for (; t; ) {
              var n1 = t.nextSibling;
              t.remove(), (t = n1);
            }
            this.drawn = e;
          }
        }
        destroy() {
          this.layer.destroy && this.layer.destroy(this.dom, this.view), this.dom.remove();
        }
        constructor(e, t) {
          (this.view = e),
            (this.layer = t),
            (this.drawn = []),
            (this.measureReq = { read: this.measure.bind(this), write: this.draw.bind(this) }),
            (this.dom = e.scrollDOM.appendChild(document.createElement("div"))),
            this.dom.classList.add("cm-layer"),
            t.above && this.dom.classList.add("cm-layer-above"),
            t.class && this.dom.classList.add(t.class),
            this.dom.setAttribute("aria-hidden", "true"),
            this.setOrder(e.state),
            e.requestMeasure(this.measureReq),
            t.mount && t.mount(this.dom, e);
        }
      }),
      (() => {
        a(_class62, "LayerView");
      })(),
      _class62),
    js = G.define();
  function vD(i) {
    return [Ye.define((e) => new xa(e, i)), js.of(i)];
  }
  a(vD, "layer");
  var kD = !W.ios,
    fn = G.define({
      combine(i) {
        return Wt(i, { cursorBlinkRate: 1200, drawRangeCursor: !0 }, { cursorBlinkRate: (e, t) => Math.min(e, t), drawRangeCursor: (e, t) => e || t });
      },
    });
  function wD() {
    var i = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};
    return [fn.of(i), Vk, zk, Hk, eD.of(!0)];
  }
  a(wD, "drawSelection");
  function xD(i) {
    return i.startState.facet(fn) != i.state.facet(fn);
  }
  a(xD, "configChanged");
  var Vk = vD({
    above: !0,
    markers(i) {
      var e = i.state,
        t = e.facet(fn),
        r = [];
      var _iteratorNormalCompletion = true,
        _didIteratorError = false,
        _iteratorError = undefined;
      try {
        for (var _iterator = e.selection.ranges[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
          var n = _step.value;
          var s = n == e.selection.main;
          if (n.empty ? !s || kD : t.drawRangeCursor) {
            var o = s ? "cm-cursor cm-cursor-primary" : "cm-cursor cm-cursor-secondary",
              u = n.empty ? n : Q.cursor(n.head, n.head > n.anchor ? -1 : 1);
            var _iteratorNormalCompletion1 = true,
              _didIteratorError1 = false,
              _iteratorError1 = undefined;
            try {
              for (var _iterator1 = cn.forRange(i, o, u)[Symbol.iterator](), _step1; !(_iteratorNormalCompletion1 = (_step1 = _iterator1.next()).done); _iteratorNormalCompletion1 = true) {
                var l = _step1.value;
                r.push(l);
              }
            } catch (err) {
              _didIteratorError1 = true;
              _iteratorError1 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion1 && _iterator1.return != null) {
                  _iterator1.return();
                }
              } finally {
                if (_didIteratorError1) {
                  throw _iteratorError1;
                }
              }
            }
          }
        }
      } catch (err) {
        _didIteratorError = true;
        _iteratorError = err;
      } finally {
        try {
          if (!_iteratorNormalCompletion && _iterator.return != null) {
            _iterator.return();
          }
        } finally {
          if (_didIteratorError) {
            throw _iteratorError;
          }
        }
      }
      return r;
    },
    update(i, e) {
      i.transactions.some((r) => r.selection) && (e.style.animationName = e.style.animationName == "cm-blink" ? "cm-blink2" : "cm-blink");
      var t = xD(i);
      return t && xg(i.state, e), i.docChanged || i.selectionSet || t;
    },
    mount(i, e) {
      xg(e.state, i);
    },
    class: "cm-cursorLayer",
  });
  function xg(i, e) {
    e.style.animationDuration = i.facet(fn).cursorBlinkRate + "ms";
  }
  a(xg, "setBlinkRate");
  var zk = vD({
      above: !1,
      markers(i) {
        return i.state.selection.ranges.map((e) => (e.empty ? [] : cn.forRange(i, "cm-selectionBackground", e))).reduce((e, t) => e.concat(t));
      },
      update(i, e) {
        return i.docChanged || i.selectionSet || i.viewportChanged || xD(i);
      },
      class: "cm-selectionLayer",
    }),
    SD = { ".cm-line": { "& ::selection": { backgroundColor: "transparent !important" }, "&::selection": { backgroundColor: "transparent !important" } } };
  kD && (SD[".cm-line"].caretColor = "transparent !important");
  var Hk = rr.highest(re.theme(SD)),
    BD = pe.define({
      map(i, e) {
        return i == null ? null : e.mapPos(i);
      },
    }),
    en = Ie.define({
      create() {
        return null;
      },
      update(i, e) {
        return i != null && (i = e.changes.mapPos(i)), e.effects.reduce((t, r) => (r.is(BD) ? r.value : t), i);
      },
    }),
    Wk = Ye.fromClass(
      class {
        update(i) {
          var e;
          var t = i.state.field(en);
          t == null ? this.cursor != null && ((e = this.cursor) === null || e === void 0 || e.remove(), (this.cursor = null)) : (this.cursor || ((this.cursor = this.view.scrollDOM.appendChild(document.createElement("div"))), (this.cursor.className = "cm-dropCursor")), (i.startState.field(en) != t || i.docChanged || i.geometryChanged) && this.view.requestMeasure(this.measureReq));
        }
        readPos() {
          var i = this.view.state.field(en),
            e = i != null && this.view.coordsAtPos(i);
          if (!e) return null;
          var t = this.view.scrollDOM.getBoundingClientRect();
          return { left: e.left - t.left + this.view.scrollDOM.scrollLeft, top: e.top - t.top + this.view.scrollDOM.scrollTop, height: e.bottom - e.top };
        }
        drawCursor(i) {
          this.cursor && (i ? ((this.cursor.style.left = i.left + "px"), (this.cursor.style.top = i.top + "px"), (this.cursor.style.height = i.height + "px")) : (this.cursor.style.left = "-100000px"));
        }
        destroy() {
          this.cursor && this.cursor.remove();
        }
        setDropPos(i) {
          this.view.state.field(en) != i && this.view.dispatch({ effects: BD.of(i) });
        }
        constructor(i) {
          (this.view = i), (this.cursor = null), (this.measureReq = { read: this.readPos.bind(this), write: this.drawCursor.bind(this) });
        }
      },
      {
        eventHandlers: {
          dragover(i) {
            this.setDropPos(this.view.posAtCoords({ x: i.clientX, y: i.clientY }));
          },
          dragleave(i) {
            (i.target == this.view.contentDOM || !this.view.contentDOM.contains(i.relatedTarget)) && this.setDropPos(null);
          },
          dragend() {
            this.setDropPos(null);
          },
          drop() {
            this.setDropPos(null);
          },
        },
      }
    );
  function _D() {
    return [en, Wk];
  }
  a(_D, "dropCursor");
  var CB = /x/.unicode != null ? "gu" : "g";
  var Vs = "-10000px",
    ho =
      ((_class63 = class _class {
        update(e) {
          var t;
          var r = e.state.facet(this.facet),
            n = r.filter((o) => o);
          if (r === this.input) {
            var _iteratorNormalCompletion = true,
              _didIteratorError = false,
              _iteratorError = undefined;
            try {
              for (var _iterator = this.tooltipViews[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
                var o = _step.value;
                o.update && o.update(e);
              }
            } catch (err) {
              _didIteratorError = true;
              _iteratorError = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion && _iterator.return != null) {
                  _iterator.return();
                }
              } finally {
                if (_didIteratorError) {
                  throw _iteratorError;
                }
              }
            }
            return !1;
          }
          var s = [];
          for (var o1 = 0; o1 < n.length; o1++) {
            var u = n[o1],
              l = -1;
            if (u) {
              for (var h = 0; h < this.tooltips.length; h++) {
                var c = this.tooltips[h];
                c && c.create == u.create && (l = h);
              }
              if (l < 0) s[o1] = this.createTooltipView(u);
              else {
                var h1 = (s[o1] = this.tooltipViews[l]);
                h1.update && h1.update(e);
              }
            }
          }
          var _iteratorNormalCompletion1 = true,
            _didIteratorError1 = false,
            _iteratorError1 = undefined;
          try {
            for (var _iterator1 = this.tooltipViews[Symbol.iterator](), _step1; !(_iteratorNormalCompletion1 = (_step1 = _iterator1.next()).done); _iteratorNormalCompletion1 = true) {
              var o2 = _step1.value;
              s.indexOf(o2) < 0 && (o2.dom.remove(), (t = o2.destroy) === null || t === void 0 || t.call(o2));
            }
          } catch (err) {
            _didIteratorError1 = true;
            _iteratorError1 = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion1 && _iterator1.return != null) {
                _iterator1.return();
              }
            } finally {
              if (_didIteratorError1) {
                throw _iteratorError1;
              }
            }
          }
          return (this.input = r), (this.tooltips = n), (this.tooltipViews = s), !0;
        }
        constructor(e, t, r) {
          (this.facet = t), (this.createTooltipView = r), (this.input = e.state.facet(t)), (this.tooltips = this.input.filter((n) => n)), (this.tooltipViews = this.tooltips.map(r));
        }
      }),
      (() => {
        a(_class63, "TooltipViewManager");
      })(),
      _class63);
  function jk(i) {
    var e = i.win;
    return { top: 0, left: 0, bottom: e.innerHeight, right: e.innerWidth };
  }
  a(jk, "windowSpace");
  var Ul = G.define({
      combine: (i) => {
        var e, t, r;
        return { position: W.ios ? "absolute" : ((e = i.find((n) => n.position)) === null || e === void 0 ? void 0 : e.position) || "fixed", parent: ((t = i.find((n) => n.parent)) === null || t === void 0 ? void 0 : t.parent) || null, tooltipSpace: ((r = i.find((n) => n.tooltipSpace)) === null || r === void 0 ? void 0 : r.tooltipSpace) || jk };
      },
    }),
    Sg = new WeakMap(),
    Uk = Ye.fromClass(
      class {
        createContainer() {
          this.parent ? ((this.container = document.createElement("div")), (this.container.style.position = "relative"), (this.container.className = this.view.themeClasses), this.parent.appendChild(this.container)) : (this.container = this.view.dom);
        }
        observeIntersection() {
          if (this.intersectionObserver) {
            this.intersectionObserver.disconnect();
            var _iteratorNormalCompletion = true,
              _didIteratorError = false,
              _iteratorError = undefined;
            try {
              for (var _iterator = this.manager.tooltipViews[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
                var i = _step.value;
                this.intersectionObserver.observe(i.dom);
              }
            } catch (err) {
              _didIteratorError = true;
              _iteratorError = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion && _iterator.return != null) {
                  _iterator.return();
                }
              } finally {
                if (_didIteratorError) {
                  throw _iteratorError;
                }
              }
            }
          }
        }
        measureSoon() {
          this.measureTimeout < 0 &&
            (this.measureTimeout = setTimeout(() => {
              (this.measureTimeout = -1), this.maybeMeasure();
            }, 50));
        }
        update(i) {
          i.transactions.length && (this.lastTransaction = Date.now());
          var e = this.manager.update(i);
          e && this.observeIntersection();
          var t = e || i.geometryChanged,
            r = i.state.facet(Ul);
          if (r.position != this.position) {
            this.position = r.position;
            var _iteratorNormalCompletion = true,
              _didIteratorError = false,
              _iteratorError = undefined;
            try {
              for (var _iterator = this.manager.tooltipViews[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
                var n = _step.value;
                n.dom.style.position = this.position;
              }
            } catch (err) {
              _didIteratorError = true;
              _iteratorError = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion && _iterator.return != null) {
                  _iterator.return();
                }
              } finally {
                if (_didIteratorError) {
                  throw _iteratorError;
                }
              }
            }
            t = !0;
          }
          if (r.parent != this.parent) {
            this.parent && this.container.remove(), (this.parent = r.parent), this.createContainer();
            var _iteratorNormalCompletion1 = true,
              _didIteratorError1 = false,
              _iteratorError1 = undefined;
            try {
              for (var _iterator1 = this.manager.tooltipViews[Symbol.iterator](), _step1; !(_iteratorNormalCompletion1 = (_step1 = _iterator1.next()).done); _iteratorNormalCompletion1 = true) {
                var n1 = _step1.value;
                this.container.appendChild(n1.dom);
              }
            } catch (err) {
              _didIteratorError1 = true;
              _iteratorError1 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion1 && _iterator1.return != null) {
                  _iterator1.return();
                }
              } finally {
                if (_didIteratorError1) {
                  throw _iteratorError1;
                }
              }
            }
            t = !0;
          } else this.parent && this.view.themeClasses != this.classes && (this.classes = this.container.className = this.view.themeClasses);
          t && this.maybeMeasure();
        }
        createTooltip(i) {
          var e = i.create(this.view);
          if ((e.dom.classList.add("cm-tooltip"), i.arrow && !e.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow"))) {
            var t = document.createElement("div");
            (t.className = "cm-tooltip-arrow"), e.dom.appendChild(t);
          }
          return (e.dom.style.position = this.position), (e.dom.style.top = Vs), this.container.appendChild(e.dom), e.mount && e.mount(this.view), e;
        }
        destroy() {
          var i, e;
          this.view.win.removeEventListener("resize", this.measureSoon);
          var _iteratorNormalCompletion = true,
            _didIteratorError = false,
            _iteratorError = undefined;
          try {
            for (var _iterator = this.manager.tooltipViews[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
              var t = _step.value;
              t.dom.remove(), (i = t.destroy) === null || i === void 0 || i.call(t);
            }
          } catch (err) {
            _didIteratorError = true;
            _iteratorError = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion && _iterator.return != null) {
                _iterator.return();
              }
            } finally {
              if (_didIteratorError) {
                throw _iteratorError;
              }
            }
          }
          (e = this.intersectionObserver) === null || e === void 0 || e.disconnect(), clearTimeout(this.measureTimeout);
        }
        readMeasure() {
          var i = this.view.dom.getBoundingClientRect();
          return {
            editor: i,
            parent: this.parent ? this.container.getBoundingClientRect() : i,
            pos: this.manager.tooltips.map((e, t) => {
              var r = this.manager.tooltipViews[t];
              return r.getCoords ? r.getCoords(e.pos) : this.view.coordsAtPos(e.pos);
            }),
            size: this.manager.tooltipViews.map((param) => {
              var e = param.dom;
              return e.getBoundingClientRect();
            }),
            space: this.view.state.facet(Ul).tooltipSpace(this.view),
          };
        }
        writeMeasure(i) {
          var e;
          var t = i.editor,
            r = i.space,
            n = [];
          for (var s = 0; s < this.manager.tooltips.length; s++) {
            var o = this.manager.tooltips[s],
              u = this.manager.tooltipViews[s],
              l = u.dom,
              h = i.pos[s],
              c = i.size[s];
            if (!h || h.bottom <= Math.max(t.top, r.top) || h.top >= Math.min(t.bottom, r.bottom) || h.right < Math.max(t.left, r.left) - 0.1 || h.left > Math.min(t.right, r.right) + 0.1) {
              l.style.top = Vs;
              continue;
            }
            var f = o.arrow ? u.dom.querySelector(".cm-tooltip-arrow") : null,
              d = f ? 7 : 0,
              p = c.right - c.left,
              m = (e = Sg.get(u)) !== null && e !== void 0 ? e : c.bottom - c.top,
              b = u.offset || Yk,
              g = this.view.textDirection == Se.LTR,
              D = c.width > r.right - r.left ? (g ? r.left : r.right - c.width) : g ? Math.min(h.left - (f ? 14 : 0) + b.x, r.right - p) : Math.max(r.left, h.left - p + (f ? 14 : 0) - b.x),
              F = !!o.above;
            !o.strictSide && (F ? h.top - (c.bottom - c.top) - b.y < r.top : h.bottom + (c.bottom - c.top) + b.y > r.bottom) && F == r.bottom - h.bottom > h.top - r.top && (F = !F);
            var w = (F ? h.top - r.top : r.bottom - h.bottom) - d;
            if (w < m && u.resize !== !1) {
              if (w < this.view.defaultLineHeight) {
                l.style.top = Vs;
                continue;
              }
              Sg.set(u, m), (l.style.height = (m = w) + "px");
            } else l.style.height && (l.style.height = "");
            var x = F ? h.top - m - d - b.y : h.bottom + d + b.y,
              E = D + p;
            var _iteratorNormalCompletion = true,
              _didIteratorError = false,
              _iteratorError = undefined;
            if (u.overlap !== !0)
              try {
                for (var _iterator = n[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
                  var _ = _step.value;
                  _.left < E && _.right > D && _.top < x + m && _.bottom > x && (x = F ? _.top - m - 2 - d : _.bottom + d + 2);
                }
              } catch (err) {
                _didIteratorError = true;
                _iteratorError = err;
              } finally {
                try {
                  if (!_iteratorNormalCompletion && _iterator.return != null) {
                    _iterator.return();
                  }
                } finally {
                  if (_didIteratorError) {
                    throw _iteratorError;
                  }
                }
              }
            this.position == "absolute" ? ((l.style.top = x - i.parent.top + "px"), (l.style.left = D - i.parent.left + "px")) : ((l.style.top = x + "px"), (l.style.left = D + "px")),
              f && (f.style.left = "".concat(h.left + (g ? b.x : -b.x) - (D + 14 - 7), "px")),
              u.overlap !== !0 && n.push({ left: D, top: x, right: E, bottom: x + m }),
              l.classList.toggle("cm-tooltip-above", F),
              l.classList.toggle("cm-tooltip-below", !F),
              u.positioned && u.positioned(i.space);
          }
        }
        maybeMeasure() {
          var _iteratorNormalCompletion = true,
            _didIteratorError = false,
            _iteratorError = undefined;
          if (this.manager.tooltips.length && (this.view.inView && this.view.requestMeasure(this.measureReq), this.inView != this.view.inView && ((this.inView = this.view.inView), !this.inView)))
            try {
              for (var _iterator = this.manager.tooltipViews[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
                var i = _step.value;
                i.dom.style.top = Vs;
              }
            } catch (err) {
              _didIteratorError = true;
              _iteratorError = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion && _iterator.return != null) {
                  _iterator.return();
                }
              } finally {
                if (_didIteratorError) {
                  throw _iteratorError;
                }
              }
            }
        }
        constructor(i) {
          (this.view = i), (this.inView = !0), (this.lastTransaction = 0), (this.measureTimeout = -1);
          var e = i.state.facet(Ul);
          (this.position = e.position),
            (this.parent = e.parent),
            (this.classes = i.themeClasses),
            this.createContainer(),
            (this.measureReq = { read: this.readMeasure.bind(this), write: this.writeMeasure.bind(this), key: this }),
            (this.manager = new ho(i, Ia, (t) => this.createTooltip(t))),
            (this.intersectionObserver =
              typeof IntersectionObserver == "function"
                ? new IntersectionObserver(
                    (t) => {
                      Date.now() > this.lastTransaction - 50 && t.length > 0 && t[t.length - 1].intersectionRatio < 1 && this.measureSoon();
                    },
                    { threshold: [1] }
                  )
                : null),
            this.observeIntersection(),
            i.win.addEventListener("resize", (this.measureSoon = this.measureSoon.bind(this))),
            this.maybeMeasure();
        }
      },
      {
        eventHandlers: {
          scroll() {
            this.maybeMeasure();
          },
        },
      }
    ),
    Gk = re.baseTheme({
      ".cm-tooltip": { zIndex: 100, boxSizing: "border-box" },
      "&light .cm-tooltip": { border: "1px solid #bbb", backgroundColor: "#f5f5f5" },
      "&light .cm-tooltip-section:not(:first-child)": { borderTop: "1px solid #bbb" },
      "&dark .cm-tooltip": { backgroundColor: "#333338", color: "white" },
      ".cm-tooltip-arrow": {
        height: "7px",
        width: "".concat(7 * 2, "px"),
        position: "absolute",
        zIndex: -1,
        overflow: "hidden",
        "&:before, &:after": { content: "''", position: "absolute", width: 0, height: 0, borderLeft: "7px solid transparent", borderRight: "7px solid transparent" },
        ".cm-tooltip-above &": { bottom: "-7px", "&:before": { borderTop: "7px solid #bbb" }, "&:after": { borderTop: "7px solid #f5f5f5", bottom: "1px" } },
        ".cm-tooltip-below &": { top: "-7px", "&:before": { borderBottom: "7px solid #bbb" }, "&:after": { borderBottom: "7px solid #f5f5f5", top: "1px" } },
      },
      "&dark .cm-tooltip .cm-tooltip-arrow": { "&:before": { borderTopColor: "#333338", borderBottomColor: "#333338" }, "&:after": { borderTopColor: "transparent", borderBottomColor: "transparent" } },
    }),
    Yk = { x: 0, y: 0 },
    Ia = G.define({ enables: [Uk, Gk] }),
    co = G.define(),
    Sa =
      ((_i44 = class i {
        static create(e) {
          return new i(e);
        }
        createHostedView(e) {
          var t = e.create(this.view);
          return t.dom.classList.add("cm-tooltip-section"), this.dom.appendChild(t.dom), this.mounted && t.mount && t.mount(this.view), t;
        }
        mount(e) {
          var _iteratorNormalCompletion = true,
            _didIteratorError = false,
            _iteratorError = undefined;
          try {
            for (var _iterator = this.manager.tooltipViews[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
              var t = _step.value;
              t.mount && t.mount(e);
            }
          } catch (err) {
            _didIteratorError = true;
            _iteratorError = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion && _iterator.return != null) {
                _iterator.return();
              }
            } finally {
              if (_didIteratorError) {
                throw _iteratorError;
              }
            }
          }
          this.mounted = !0;
        }
        positioned(e) {
          var _iteratorNormalCompletion = true,
            _didIteratorError = false,
            _iteratorError = undefined;
          try {
            for (var _iterator = this.manager.tooltipViews[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
              var t = _step.value;
              t.positioned && t.positioned(e);
            }
          } catch (err) {
            _didIteratorError = true;
            _iteratorError = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion && _iterator.return != null) {
                _iterator.return();
              }
            } finally {
              if (_didIteratorError) {
                throw _iteratorError;
              }
            }
          }
        }
        update(e) {
          this.manager.update(e);
        }
        destroy() {
          var e;
          var _iteratorNormalCompletion = true,
            _didIteratorError = false,
            _iteratorError = undefined;
          try {
            for (var _iterator = this.manager.tooltipViews[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
              var t = _step.value;
              (e = t.destroy) === null || e === void 0 || e.call(t);
            }
          } catch (err) {
            _didIteratorError = true;
            _iteratorError = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion && _iterator.return != null) {
                _iterator.return();
              }
            } finally {
              if (_didIteratorError) {
                throw _iteratorError;
              }
            }
          }
        }
        constructor(e) {
          (this.view = e), (this.mounted = !1), (this.dom = document.createElement("div")), this.dom.classList.add("cm-tooltip-hover"), (this.manager = new ho(e, co, (t) => this.createHostedView(t)));
        }
      }),
      (() => {
        a(_i44, "HoverTooltipHost");
      })(),
      _i44),
    Kk = Ia.compute([co], (i) => {
      var e = i.facet(co).filter((t) => t);
      return e.length === 0 ? null : { pos: Math.min(...e.map((t) => t.pos)), end: Math.max(...e.filter((t) => t.end != null).map((t) => t.end)), create: Sa.create, above: e[0].above, arrow: e.some((t) => t.arrow) };
    }),
    Ba =
      ((_class64 = class _class {
        update() {
          this.pending && ((this.pending = null), clearTimeout(this.restartTimeout), (this.restartTimeout = setTimeout(() => this.startHover(), 20)));
        }
        get active() {
          return this.view.state.field(this.field);
        }
        checkHover() {
          if (((this.hoverTimeout = -1), this.active)) return;
          var e = Date.now() - this.lastMove.time;
          e < this.hoverTime ? (this.hoverTimeout = setTimeout(this.checkHover, this.hoverTime - e)) : this.startHover();
        }
        startHover() {
          var _$_o;
          clearTimeout(this.restartTimeout);
          var _this = this,
            e = _this.lastMove,
            t = this.view.contentDOM.contains(e.target) ? this.view.posAtCoords(e) : null;
          if (t == null) return;
          var r = this.view.coordsAtPos(t);
          if (r == null || e.y < r.top || e.y > r.bottom || e.x < r.left - this.view.defaultCharacterWidth || e.x > r.right + this.view.defaultCharacterWidth) return;
          var n = this.view.bidiSpans(this.view.state.doc.lineAt(t)).find((u) => u.from <= t && u.to >= t),
            s = n && n.dir == Se.RTL ? -1 : 1,
            o = this.source(this.view, t, e.x < r.left ? -s : s);
          if ((_$_o = o) === null || _$_o === void 0 ? void 0 : _$_o.then) {
            var u = (this.pending = { pos: t });
            o.then(
              (l) => {
                this.pending == u && ((this.pending = null), l && this.view.dispatch({ effects: this.setHover.of(l) }));
              },
              (l) => ht(this.view.state, l, "hover tooltip")
            );
          } else o && this.view.dispatch({ effects: this.setHover.of(o) });
        }
        mousemove(e) {
          var t;
          (this.lastMove = { x: e.clientX, y: e.clientY, target: e.target, time: Date.now() }), this.hoverTimeout < 0 && (this.hoverTimeout = setTimeout(this.checkHover, this.hoverTime));
          var r = this.active;
          if ((r && !Bg(this.lastMove.target)) || this.pending) {
            var _r;
            var _ref = r || this.pending,
              n = _ref.pos,
              s = (t = (_r = r) === null || _r === void 0 ? void 0 : _r.end) !== null && t !== void 0 ? t : n;
            (n == s ? this.view.posAtCoords(this.lastMove) != n : !Xk(this.view, n, s, e.clientX, e.clientY, 6)) && (this.view.dispatch({ effects: this.setHover.of(null) }), (this.pending = null));
          }
        }
        mouseleave(e) {
          clearTimeout(this.hoverTimeout), (this.hoverTimeout = -1), this.active && !Bg(e.relatedTarget) && this.view.dispatch({ effects: this.setHover.of(null) });
        }
        destroy() {
          clearTimeout(this.hoverTimeout), this.view.dom.removeEventListener("mouseleave", this.mouseleave), this.view.dom.removeEventListener("mousemove", this.mousemove);
        }
        constructor(e, t, r, n, s) {
          (this.view = e),
            (this.source = t),
            (this.field = r),
            (this.setHover = n),
            (this.hoverTime = s),
            (this.hoverTimeout = -1),
            (this.restartTimeout = -1),
            (this.pending = null),
            (this.lastMove = { x: 0, y: 0, target: e.dom, time: 0 }),
            (this.checkHover = this.checkHover.bind(this)),
            e.dom.addEventListener("mouseleave", (this.mouseleave = this.mouseleave.bind(this))),
            e.dom.addEventListener("mousemove", (this.mousemove = this.mousemove.bind(this)));
        }
      }),
      (() => {
        a(_class64, "HoverPlugin");
      })(),
      _class64);
  function Bg(i) {
    for (var e = i; e; e = e.parentNode) if (e.nodeType == 1 && e.classList.contains("cm-tooltip")) return !0;
    return !1;
  }
  a(Bg, "isInTooltip");
  function Xk(i, e, t, r, n, s) {
    var o = document.createRange(),
      u = i.domAtPos(e),
      l = i.domAtPos(t);
    o.setEnd(l.node, l.offset), o.setStart(u.node, u.offset);
    var h = o.getClientRects();
    o.detach();
    for (var c = 0; c < h.length; c++) {
      var f = h[c];
      if (Math.max(f.top - n, n - f.bottom, f.left - r, r - f.right) <= s) return !0;
    }
    return !1;
  }
  a(Xk, "isOverRange");
  function OD(i) {
    var e = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};
    var t = pe.define(),
      r = Ie.define({
        create() {
          return null;
        },
        update(n, s) {
          if (n && ((e.hideOnChange && (s.docChanged || s.selection)) || (e.hideOn && e.hideOn(s, n)))) return null;
          if (n && s.docChanged) {
            var o = s.changes.mapPos(n.pos, -1, je.TrackDel);
            if (o == null) return null;
            var u = Object.assign(Object.create(null), n);
            (u.pos = o), n.end != null && (u.end = s.changes.mapPos(n.end)), (n = u);
          }
          var _iteratorNormalCompletion = true,
            _didIteratorError = false,
            _iteratorError = undefined;
          try {
            for (var _iterator = s.effects[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
              var o1 = _step.value;
              o1.is(t) && (n = o1.value), o1.is(Qk) && (n = null);
            }
          } catch (err) {
            _didIteratorError = true;
            _iteratorError = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion && _iterator.return != null) {
                _iterator.return();
              }
            } finally {
              if (_didIteratorError) {
                throw _iteratorError;
              }
            }
          }
          return n;
        },
        provide: (n) => co.from(n),
      });
    return [r, Ye.define((n) => new Ba(n, i, r, t, e.hoverTime || 300)), Kk];
  }
  a(OD, "hoverTooltip");
  var Qk = pe.define();
  var _g = G.define({
    combine(i) {
      var e, t;
      var _iteratorNormalCompletion = true,
        _didIteratorError = false,
        _iteratorError = undefined;
      try {
        for (var _iterator = i[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
          var r = _step.value;
          (e = e || r.topContainer), (t = t || r.bottomContainer);
        }
      } catch (err) {
        _didIteratorError = true;
        _iteratorError = err;
      } finally {
        try {
          if (!_iteratorNormalCompletion && _iterator.return != null) {
            _iterator.return();
          }
        } finally {
          if (_didIteratorError) {
            throw _iteratorError;
          }
        }
      }
      return { topContainer: e, bottomContainer: t };
    },
  });
  var Jk = Ye.fromClass(
      class {
        update(i) {
          var e = i.state.facet(_g);
          this.top.container != e.topContainer && (this.top.sync([]), (this.top = new lr(i.view, !0, e.topContainer))), this.bottom.container != e.bottomContainer && (this.bottom.sync([]), (this.bottom = new lr(i.view, !1, e.bottomContainer))), this.top.syncClasses(), this.bottom.syncClasses();
          var t = i.state.facet(fo);
          var _iteratorNormalCompletion = true,
            _didIteratorError = false,
            _iteratorError = undefined;
          if (t != this.input) {
            var r = t.filter((l) => l),
              n = [],
              s = [],
              o = [],
              u = [];
            var _iteratorNormalCompletion1 = true,
              _didIteratorError1 = false,
              _iteratorError1 = undefined;
            try {
              for (var _iterator = r[Symbol.iterator](), _step; !(_iteratorNormalCompletion1 = (_step = _iterator.next()).done); _iteratorNormalCompletion1 = true) {
                var l = _step.value;
                var h = this.specs.indexOf(l),
                  c = void 0;
                h < 0 ? ((c = l(i.view)), u.push(c)) : ((c = this.panels[h]), c.update && c.update(i)), n.push(c), (c.top ? s : o).push(c);
              }
            } catch (err) {
              _didIteratorError1 = true;
              _iteratorError1 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion1 && _iterator.return != null) {
                  _iterator.return();
                }
              } finally {
                if (_didIteratorError1) {
                  throw _iteratorError1;
                }
              }
            }
            (this.specs = r), (this.panels = n), this.top.sync(s), this.bottom.sync(o);
            var _iteratorNormalCompletion2 = true,
              _didIteratorError2 = false,
              _iteratorError2 = undefined;
            try {
              for (var _iterator1 = u[Symbol.iterator](), _step1; !(_iteratorNormalCompletion2 = (_step1 = _iterator1.next()).done); _iteratorNormalCompletion2 = true) {
                var l1 = _step1.value;
                l1.dom.classList.add("cm-panel"), l1.mount && l1.mount();
              }
            } catch (err) {
              _didIteratorError2 = true;
              _iteratorError2 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion2 && _iterator1.return != null) {
                  _iterator1.return();
                }
              } finally {
                if (_didIteratorError2) {
                  throw _iteratorError2;
                }
              }
            }
          } else
            try {
              for (var _iterator2 = this.panels[Symbol.iterator](), _step2; !(_iteratorNormalCompletion = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion = true) {
                var r1 = _step2.value;
                r1.update && r1.update(i);
              }
            } catch (err) {
              _didIteratorError = true;
              _iteratorError = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion && _iterator2.return != null) {
                  _iterator2.return();
                }
              } finally {
                if (_didIteratorError) {
                  throw _iteratorError;
                }
              }
            }
        }
        destroy() {
          this.top.sync([]), this.bottom.sync([]);
        }
        constructor(i) {
          (this.input = i.state.facet(fo)), (this.specs = this.input.filter((t) => t)), (this.panels = this.specs.map((t) => t(i)));
          var e = i.state.facet(_g);
          (this.top = new lr(i, !0, e.topContainer)), (this.bottom = new lr(i, !1, e.bottomContainer)), this.top.sync(this.panels.filter((t) => t.top)), this.bottom.sync(this.panels.filter((t) => !t.top));
          var _iteratorNormalCompletion = true,
            _didIteratorError = false,
            _iteratorError = undefined;
          try {
            for (var _iterator = this.panels[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
              var t = _step.value;
              t.dom.classList.add("cm-panel"), t.mount && t.mount();
            }
          } catch (err) {
            _didIteratorError = true;
            _iteratorError = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion && _iterator.return != null) {
                _iterator.return();
              }
            } finally {
              if (_didIteratorError) {
                throw _iteratorError;
              }
            }
          }
        }
      },
      {
        provide: (i) =>
          re.scrollMargins.of((e) => {
            var t = e.plugin(i);
            return t && { top: t.top.scrollMargin(), bottom: t.bottom.scrollMargin() };
          }),
      }
    ),
    lr =
      ((_class65 = class _class {
        sync(e) {
          var _iteratorNormalCompletion = true,
            _didIteratorError = false,
            _iteratorError = undefined;
          try {
            for (var _iterator = this.panels[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
              var t = _step.value;
              t.destroy && e.indexOf(t) < 0 && t.destroy();
            }
          } catch (err) {
            _didIteratorError = true;
            _iteratorError = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion && _iterator.return != null) {
                _iterator.return();
              }
            } finally {
              if (_didIteratorError) {
                throw _iteratorError;
              }
            }
          }
          (this.panels = e), this.syncDOM();
        }
        syncDOM() {
          if (this.panels.length == 0) {
            this.dom && (this.dom.remove(), (this.dom = void 0));
            return;
          }
          if (!this.dom) {
            (this.dom = document.createElement("div")), (this.dom.className = this.top ? "cm-panels cm-panels-top" : "cm-panels cm-panels-bottom"), (this.dom.style[this.top ? "top" : "bottom"] = "0");
            var t = this.container || this.view.dom;
            t.insertBefore(this.dom, this.top ? t.firstChild : null);
          }
          var e = this.dom.firstChild;
          var _iteratorNormalCompletion = true,
            _didIteratorError = false,
            _iteratorError = undefined;
          try {
            for (var _iterator = this.panels[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
              var t1 = _step.value;
              if (t1.dom.parentNode == this.dom) {
                for (; e != t1.dom; ) e = Og(e);
                e = e.nextSibling;
              } else this.dom.insertBefore(t1.dom, e);
            }
          } catch (err) {
            _didIteratorError = true;
            _iteratorError = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion && _iterator.return != null) {
                _iterator.return();
              }
            } finally {
              if (_didIteratorError) {
                throw _iteratorError;
              }
            }
          }
          for (; e; ) e = Og(e);
        }
        scrollMargin() {
          return !this.dom || this.container ? 0 : Math.max(0, this.top ? this.dom.getBoundingClientRect().bottom - Math.max(0, this.view.scrollDOM.getBoundingClientRect().top) : Math.min(innerHeight, this.view.scrollDOM.getBoundingClientRect().bottom) - this.dom.getBoundingClientRect().top);
        }
        syncClasses() {
          if (!(!this.container || this.classes == this.view.themeClasses)) {
            var _iteratorNormalCompletion = true,
              _didIteratorError = false,
              _iteratorError = undefined;
            try {
              for (var _iterator = this.classes.split(" ")[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
                var e = _step.value;
                e && this.container.classList.remove(e);
              }
            } catch (err) {
              _didIteratorError = true;
              _iteratorError = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion && _iterator.return != null) {
                  _iterator.return();
                }
              } finally {
                if (_didIteratorError) {
                  throw _iteratorError;
                }
              }
            }
            var _iteratorNormalCompletion1 = true,
              _didIteratorError1 = false,
              _iteratorError1 = undefined;
            try {
              for (var _iterator1 = (this.classes = this.view.themeClasses).split(" ")[Symbol.iterator](), _step1; !(_iteratorNormalCompletion1 = (_step1 = _iterator1.next()).done); _iteratorNormalCompletion1 = true) {
                var e1 = _step1.value;
                e1 && this.container.classList.add(e1);
              }
            } catch (err) {
              _didIteratorError1 = true;
              _iteratorError1 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion1 && _iterator1.return != null) {
                  _iterator1.return();
                }
              } finally {
                if (_didIteratorError1) {
                  throw _iteratorError1;
                }
              }
            }
          }
        }
        constructor(e, t, r) {
          (this.view = e), (this.top = t), (this.container = r), (this.dom = void 0), (this.classes = ""), (this.panels = []), this.syncClasses();
        }
      }),
      (() => {
        a(_class65, "PanelGroup");
      })(),
      _class65);
  function Og(i) {
    var e = i.nextSibling;
    return i.remove(), e;
  }
  a(Og, "rm");
  var fo = G.define({ enables: Jk }),
    ct =
      ((_class66 = class _class extends Ht {
        compare(e) {
          return this == e || (this.constructor == e.constructor && this.eq(e));
        }
        eq(e) {
          return !1;
        }
        destroy(e) {}
      }),
      (() => {
        a(_class66, "GutterMarker");
      })(),
      _class66);
  ct.prototype.elementClass = "";
  ct.prototype.toDOM = void 0;
  ct.prototype.mapMode = je.TrackBefore;
  ct.prototype.startSide = ct.prototype.endSide = -1;
  ct.prototype.point = !0;
  var Us = G.define();
  var Gs = G.define();
  var _a = G.define({ combine: (i) => i.some((e) => e) });
  function Zk(i) {
    var e = [ew];
    return i && i.fixed === !1 && e.push(_a.of(!0)), e;
  }
  a(Zk, "gutters");
  var ew = Ye.fromClass(
    class {
      update(i) {
        if (this.updateGutters(i)) {
          var e = this.prevViewport,
            t = i.view.viewport,
            r = Math.min(e.to, t.to) - Math.max(e.from, t.from);
          this.syncGutters(r < (t.to - t.from) * 0.8);
        }
        i.geometryChanged && (this.dom.style.minHeight = this.view.contentHeight + "px"), this.view.state.facet(_a) != !this.fixed && ((this.fixed = !this.fixed), (this.dom.style.position = this.fixed ? "sticky" : "")), (this.prevViewport = i.view.viewport);
      }
      syncGutters(i) {
        var e = this.dom.nextSibling;
        i && this.dom.remove();
        var t = Ee.iter(this.view.state.facet(Us), this.view.viewport.from),
          r = [],
          n = this.gutters.map((s) => new Ta(s, this.view.viewport, -this.view.documentPadding.top));
        var _iteratorNormalCompletion = true,
          _didIteratorError = false,
          _iteratorError = undefined;
        try {
          for (var _iterator = this.view.viewportLineBlocks[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
            var s = _step.value;
            if ((r.length && (r = []), Array.isArray(s.type))) {
              var o = !0;
              var _iteratorNormalCompletion1 = true,
                _didIteratorError1 = false,
                _iteratorError1 = undefined,
                _iteratorNormalCompletion2 = true,
                _didIteratorError2 = false,
                _iteratorError2 = undefined;
              try {
                for (var _iterator1 = s.type[Symbol.iterator](), _step1; !(_iteratorNormalCompletion2 = (_step1 = _iterator1.next()).done); _iteratorNormalCompletion2 = true) {
                  var u = _step1.value;
                  if (u.type == xe.Text && o) {
                    Oa(t, r, u.from);
                    var _iteratorNormalCompletion3 = true,
                      _didIteratorError3 = false,
                      _iteratorError3 = undefined;
                    try {
                      for (var _iterator2 = n[Symbol.iterator](), _step2; !(_iteratorNormalCompletion3 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion3 = true) {
                        var l = _step2.value;
                        l.line(this.view, u, r);
                      }
                    } catch (err) {
                      _didIteratorError3 = true;
                      _iteratorError3 = err;
                    } finally {
                      try {
                        if (!_iteratorNormalCompletion3 && _iterator2.return != null) {
                          _iterator2.return();
                        }
                      } finally {
                        if (_didIteratorError3) {
                          throw _iteratorError3;
                        }
                      }
                    }
                    o = !1;
                  } else if (u.widget)
                    try {
                      for (var _iterator3 = n[Symbol.iterator](), _step3; !(_iteratorNormalCompletion1 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion1 = true) {
                        var l1 = _step3.value;
                        l1.widget(this.view, u);
                      }
                    } catch (err) {
                      _didIteratorError1 = true;
                      _iteratorError1 = err;
                    } finally {
                      try {
                        if (!_iteratorNormalCompletion1 && _iterator3.return != null) {
                          _iterator3.return();
                        }
                      } finally {
                        if (_didIteratorError1) {
                          throw _iteratorError1;
                        }
                      }
                    }
                }
              } catch (err) {
                _didIteratorError2 = true;
                _iteratorError2 = err;
              } finally {
                try {
                  if (!_iteratorNormalCompletion2 && _iterator1.return != null) {
                    _iterator1.return();
                  }
                } finally {
                  if (_didIteratorError2) {
                    throw _iteratorError2;
                  }
                }
              }
            } else if (s.type == xe.Text) {
              Oa(t, r, s.from);
              var _iteratorNormalCompletion4 = true,
                _didIteratorError4 = false,
                _iteratorError4 = undefined;
              try {
                for (var _iterator4 = n[Symbol.iterator](), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {
                  var o1 = _step4.value;
                  o1.line(this.view, s, r);
                }
              } catch (err) {
                _didIteratorError4 = true;
                _iteratorError4 = err;
              } finally {
                try {
                  if (!_iteratorNormalCompletion4 && _iterator4.return != null) {
                    _iterator4.return();
                  }
                } finally {
                  if (_didIteratorError4) {
                    throw _iteratorError4;
                  }
                }
              }
            }
          }
        } catch (err) {
          _didIteratorError = true;
          _iteratorError = err;
        } finally {
          try {
            if (!_iteratorNormalCompletion && _iterator.return != null) {
              _iterator.return();
            }
          } finally {
            if (_didIteratorError) {
              throw _iteratorError;
            }
          }
        }
        var _iteratorNormalCompletion5 = true,
          _didIteratorError5 = false,
          _iteratorError5 = undefined;
        try {
          for (var _iterator5 = n[Symbol.iterator](), _step5; !(_iteratorNormalCompletion5 = (_step5 = _iterator5.next()).done); _iteratorNormalCompletion5 = true) {
            var s1 = _step5.value;
            s1.finish();
          }
        } catch (err) {
          _didIteratorError5 = true;
          _iteratorError5 = err;
        } finally {
          try {
            if (!_iteratorNormalCompletion5 && _iterator5.return != null) {
              _iterator5.return();
            }
          } finally {
            if (_didIteratorError5) {
              throw _iteratorError5;
            }
          }
        }
        i && this.view.scrollDOM.insertBefore(this.dom, e);
      }
      updateGutters(i) {
        var e = i.startState.facet(Gs),
          t = i.state.facet(Gs),
          r = i.docChanged || i.heightChanged || i.viewportChanged || !Ee.eq(i.startState.facet(Us), i.state.facet(Us), i.view.viewport.from, i.view.viewport.to);
        var _iteratorNormalCompletion = true,
          _didIteratorError = false,
          _iteratorError = undefined;
        if (e == t)
          try {
            for (var _iterator = this.gutters[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
              var n = _step.value;
              n.update(i) && (r = !0);
            }
          } catch (err) {
            _didIteratorError = true;
            _iteratorError = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion && _iterator.return != null) {
                _iterator.return();
              }
            } finally {
              if (_didIteratorError) {
                throw _iteratorError;
              }
            }
          }
        else {
          r = !0;
          var n1 = [];
          var _iteratorNormalCompletion1 = true,
            _didIteratorError1 = false,
            _iteratorError1 = undefined;
          try {
            for (var _iterator1 = t[Symbol.iterator](), _step1; !(_iteratorNormalCompletion1 = (_step1 = _iterator1.next()).done); _iteratorNormalCompletion1 = true) {
              var s = _step1.value;
              var o = e.indexOf(s);
              o < 0 ? n1.push(new po(this.view, s)) : (this.gutters[o].update(i), n1.push(this.gutters[o]));
            }
          } catch (err) {
            _didIteratorError1 = true;
            _iteratorError1 = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion1 && _iterator1.return != null) {
                _iterator1.return();
              }
            } finally {
              if (_didIteratorError1) {
                throw _iteratorError1;
              }
            }
          }
          var _iteratorNormalCompletion2 = true,
            _didIteratorError2 = false,
            _iteratorError2 = undefined;
          try {
            for (var _iterator2 = this.gutters[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {
              var s1 = _step2.value;
              s1.dom.remove(), n1.indexOf(s1) < 0 && s1.destroy();
            }
          } catch (err) {
            _didIteratorError2 = true;
            _iteratorError2 = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion2 && _iterator2.return != null) {
                _iterator2.return();
              }
            } finally {
              if (_didIteratorError2) {
                throw _iteratorError2;
              }
            }
          }
          var _iteratorNormalCompletion3 = true,
            _didIteratorError3 = false,
            _iteratorError3 = undefined;
          try {
            for (var _iterator3 = n1[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {
              var s2 = _step3.value;
              this.dom.appendChild(s2.dom);
            }
          } catch (err) {
            _didIteratorError3 = true;
            _iteratorError3 = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion3 && _iterator3.return != null) {
                _iterator3.return();
              }
            } finally {
              if (_didIteratorError3) {
                throw _iteratorError3;
              }
            }
          }
          this.gutters = n1;
        }
        return r;
      }
      destroy() {
        var _iteratorNormalCompletion = true,
          _didIteratorError = false,
          _iteratorError = undefined;
        try {
          for (var _iterator = this.gutters[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
            var i = _step.value;
            i.destroy();
          }
        } catch (err) {
          _didIteratorError = true;
          _iteratorError = err;
        } finally {
          try {
            if (!_iteratorNormalCompletion && _iterator.return != null) {
              _iterator.return();
            }
          } finally {
            if (_didIteratorError) {
              throw _iteratorError;
            }
          }
        }
        this.dom.remove();
      }
      constructor(i) {
        (this.view = i), (this.prevViewport = i.viewport), (this.dom = document.createElement("div")), (this.dom.className = "cm-gutters"), this.dom.setAttribute("aria-hidden", "true"), (this.dom.style.minHeight = this.view.contentHeight + "px"), (this.gutters = i.state.facet(Gs).map((e) => new po(i, e)));
        var _iteratorNormalCompletion = true,
          _didIteratorError = false,
          _iteratorError = undefined;
        try {
          for (var _iterator = this.gutters[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
            var e = _step.value;
            this.dom.appendChild(e.dom);
          }
        } catch (err) {
          _didIteratorError = true;
          _iteratorError = err;
        } finally {
          try {
            if (!_iteratorNormalCompletion && _iterator.return != null) {
              _iterator.return();
            }
          } finally {
            if (_didIteratorError) {
              throw _iteratorError;
            }
          }
        }
        (this.fixed = !i.state.facet(_a)), this.fixed && (this.dom.style.position = "sticky"), this.syncGutters(!1), i.scrollDOM.insertBefore(this.dom, i.contentDOM);
      }
    },
    {
      provide: (i) =>
        re.scrollMargins.of((e) => {
          var t = e.plugin(i);
          return !t || t.gutters.length == 0 || !t.fixed ? null : e.textDirection == Se.LTR ? { left: t.dom.offsetWidth } : { right: t.dom.offsetWidth };
        }),
    }
  );
  function Tg(i) {
    return Array.isArray(i) ? i : [i];
  }
  a(Tg, "asArray");
  function Oa(i, e, t) {
    for (; i.value && i.from <= t; ) i.from == t && e.push(i.value), i.next();
  }
  a(Oa, "advanceCursor");
  var Ta =
      ((_class67 = class _class {
        addElement(e, t, r) {
          var _this = this,
            n = _this.gutter,
            s = t.top - this.height;
          if (this.i == n.elements.length) {
            var o = new mo(e, t.height, s, r);
            n.elements.push(o), n.dom.appendChild(o.dom);
          } else n.elements[this.i].update(e, t.height, s, r);
          (this.height = t.bottom), this.i++;
        }
        line(e, t, r) {
          var n = [];
          Oa(this.cursor, n, t.from), r.length && (n = n.concat(r));
          var s = this.gutter.config.lineMarker(e, t, n);
          s && n.unshift(s);
          var o = this.gutter;
          (n.length == 0 && !o.config.renderEmptyElements) || this.addElement(e, t, n);
        }
        widget(e, t) {
          var r = this.gutter.config.widgetMarker(e, t.widget, t);
          r && this.addElement(e, t, [r]);
        }
        finish() {
          var e = this.gutter;
          for (; e.elements.length > this.i; ) {
            var t = e.elements.pop();
            e.dom.removeChild(t.dom), t.destroy();
          }
        }
        constructor(e, t, r) {
          (this.gutter = e), (this.height = r), (this.i = 0), (this.cursor = Ee.iter(e.markers, t.from));
        }
      }),
      (() => {
        a(_class67, "UpdateContext");
      })(),
      _class67),
    po =
      ((_class68 = class _class {
        update(e) {
          var t = this.markers;
          if (((this.markers = Tg(this.config.markers(e.view))), this.spacer && this.config.updateSpacer)) {
            var n = this.config.updateSpacer(this.spacer.markers[0], e);
            n != this.spacer.markers[0] && this.spacer.update(e.view, 0, 0, [n]);
          }
          var r = e.view.viewport;
          return !Ee.eq(this.markers, t, r.from, r.to) || (this.config.lineMarkerChange ? this.config.lineMarkerChange(e) : !1);
        }
        destroy() {
          var _iteratorNormalCompletion = true,
            _didIteratorError = false,
            _iteratorError = undefined;
          try {
            for (var _iterator = this.elements[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
              var e = _step.value;
              e.destroy();
            }
          } catch (err) {
            _didIteratorError = true;
            _iteratorError = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion && _iterator.return != null) {
                _iterator.return();
              }
            } finally {
              if (_didIteratorError) {
                throw _iteratorError;
              }
            }
          }
        }
        constructor(e, t) {
          var _this = this,
            _loop = function (r) {
              _this.dom.addEventListener(r, (n) => {
                var s = n.target,
                  o;
                if (s != _this.dom && _this.dom.contains(s)) {
                  for (; s.parentNode != _this.dom; ) s = s.parentNode;
                  var l = s.getBoundingClientRect();
                  o = (l.top + l.bottom) / 2;
                } else o = n.clientY;
                var u = e.lineBlockAtHeight(o - e.documentTop);
                t.domEventHandlers[r](e, u, n) && n.preventDefault();
              });
            };
          (this.view = e), (this.config = t), (this.elements = []), (this.spacer = null), (this.dom = document.createElement("div")), (this.dom.className = "cm-gutter" + (this.config.class ? " " + this.config.class : ""));
          for (var r in t.domEventHandlers) _loop(r);
          (this.markers = Tg(t.markers(e))), t.initialSpacer && ((this.spacer = new mo(e, 0, 0, [t.initialSpacer(e)])), this.dom.appendChild(this.spacer.dom), (this.spacer.dom.style.cssText += "visibility: hidden; pointer-events: none"));
        }
      }),
      (() => {
        a(_class68, "SingleGutterView");
      })(),
      _class68),
    mo =
      ((_class69 = class _class {
        update(e, t, r, n) {
          this.height != t && (this.dom.style.height = (this.height = t) + "px"), this.above != r && (this.dom.style.marginTop = (this.above = r) ? r + "px" : ""), tw(this.markers, n) || this.setMarkers(e, n);
        }
        setMarkers(e, t) {
          var r = "cm-gutterElement",
            n = this.dom.firstChild;
          for (var s = 0, o = 0; ; ) {
            var u = o,
              l = s < t.length ? t[s++] : null,
              h = !1;
            if (l) {
              var c = l.elementClass;
              c && (r += " " + c);
              for (var f = o; f < this.markers.length; f++)
                if (this.markers[f].compare(l)) {
                  (u = f), (h = !0);
                  break;
                }
            } else u = this.markers.length;
            for (; o < u; ) {
              var c1 = this.markers[o++];
              if (c1.toDOM) {
                c1.destroy(n);
                var f1 = n.nextSibling;
                n.remove(), (n = f1);
              }
            }
            if (!l) break;
            l.toDOM && (h ? (n = n.nextSibling) : this.dom.insertBefore(l.toDOM(e), n)), h && o++;
          }
          (this.dom.className = r), (this.markers = t);
        }
        destroy() {
          this.setMarkers(null, []);
        }
        constructor(e, t, r, n) {
          (this.height = -1), (this.above = 0), (this.markers = []), (this.dom = document.createElement("div")), (this.dom.className = "cm-gutterElement"), this.update(e, t, r, n);
        }
      }),
      (() => {
        a(_class69, "GutterElement");
      })(),
      _class69);
  function tw(i, e) {
    if (i.length != e.length) return !1;
    for (var t = 0; t < i.length; t++) if (!i[t].compare(e[t])) return !1;
    return !0;
  }
  a(tw, "sameMarkers");
  var iw = G.define(),
    ar = G.define({
      combine(i) {
        return Wt(
          i,
          { formatNumber: String, domEventHandlers: {} },
          {
            domEventHandlers(e, t) {
              var _loop = function (n) {
                var s = r[n],
                  o = t[n];
                r[n] = s ? (u, l, h) => s(u, l, h) || o(u, l, h) : o;
              };
              var r = Object.assign({}, e);
              for (var n in t) _loop(n);
              return r;
            },
          }
        );
      },
    }),
    nn =
      ((_class70 = class _class extends ct {
        eq(e) {
          return this.number == e.number;
        }
        toDOM() {
          return document.createTextNode(this.number);
        }
        constructor(e) {
          super(), (this.number = e);
        }
      }),
      (() => {
        a(_class70, "NumberMarker");
      })(),
      _class70);
  function Gl(i, e) {
    return i.state.facet(ar).formatNumber(e, i.state);
  }
  a(Gl, "formatNumber");
  var rw = Gs.compute([ar], (i) => ({
    class: "cm-lineNumbers",
    renderEmptyElements: !1,
    markers(e) {
      return e.state.facet(iw);
    },
    lineMarker(e, t, r) {
      return r.some((n) => n.toDOM) ? null : new nn(Gl(e, e.state.doc.lineAt(t.from).number));
    },
    widgetMarker: () => null,
    lineMarkerChange: (e) => e.startState.facet(ar) != e.state.facet(ar),
    initialSpacer(e) {
      return new nn(Gl(e, Rg(e.state.doc.lines)));
    },
    updateSpacer(e, t) {
      var r = Gl(t.view, Rg(t.view.state.doc.lines));
      return r == e.number ? e : new nn(r);
    },
    domEventHandlers: i.facet(ar).domEventHandlers,
  }));
  function TD() {
    var i = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};
    return [ar.of(i), Zk(), rw];
  }
  a(TD, "lineNumbers");
  function Rg(i) {
    var e = 9;
    for (; e < i; ) e = e * 10 + 9;
    return e;
  }
  a(Rg, "maxLineNumber");
  var nw = new (class extends ct {
      constructor() {
        super(...arguments), (this.elementClass = "cm-activeLineGutter");
      }
    })(),
    sw = Us.compute(["selection"], (i) => {
      var e = [],
        t = -1;
      var _iteratorNormalCompletion = true,
        _didIteratorError = false,
        _iteratorError = undefined;
      try {
        for (var _iterator = i.selection.ranges[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
          var r = _step.value;
          var n = i.doc.lineAt(r.head).from;
          n > t && ((t = n), e.push(nw.range(n)));
        }
      } catch (err) {
        _didIteratorError = true;
        _iteratorError = err;
      } finally {
        try {
          if (!_iteratorNormalCompletion && _iterator.return != null) {
            _iterator.return();
          }
        } finally {
          if (_didIteratorError) {
            throw _iteratorError;
          }
        }
      }
      return Ee.of(e);
    });
  function RD() {
    return sw;
  }
  a(RD, "highlightActiveLineGutter");
  var ow = 0,
    dn =
      ((_class71 = class _class {
        constructor(e, t) {
          (this.from = e), (this.to = t);
        }
      }),
      (() => {
        a(_class71, "Range");
      })(),
      _class71),
    ue =
      ((_class72 = class _class {
        add(e) {
          if (this.perNode) throw new RangeError("Can't add per-node props to node types");
          return (
            typeof e != "function" && (e = Ve.match(e)),
            (t) => {
              var r = e(t);
              return r === void 0 ? null : [this, r];
            }
          );
        }
        constructor(ref) {
          var e = ref === void 0 ? {} : ref;
          (this.id = ow++),
            (this.perNode = !!e.perNode),
            (this.deserialize =
              e.deserialize ||
              (() => {
                throw new Error("This node type doesn't define a deserialize function");
              }));
        }
      }),
      (() => {
        a(_class72, "NodeProp");
      })(),
      _class72);
  ue.closedBy = new ue({ deserialize: (i) => i.split(" ") });
  ue.openedBy = new ue({ deserialize: (i) => i.split(" ") });
  ue.group = new ue({ deserialize: (i) => i.split(" ") });
  ue.contextHash = new ue({ perNode: !0 });
  ue.lookAhead = new ue({ perNode: !0 });
  ue.mounted = new ue({ perNode: !0 });
  var uw = Object.create(null),
    Ve =
      ((_i45 = class i {
        static define(e) {
          var t = e.props && e.props.length ? Object.create(null) : uw,
            r = (e.top ? 1 : 0) | (e.skipped ? 2 : 0) | (e.error ? 4 : 0) | (e.name == null ? 8 : 0),
            n = new i(e.name || "", t, e.id, r);
          if (e.props) {
            var _iteratorNormalCompletion = true,
              _didIteratorError = false,
              _iteratorError = undefined;
            try {
              for (var _iterator = e.props[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
                var s = _step.value;
                if ((Array.isArray(s) || (s = s(n)), s)) {
                  if (s[0].perNode) throw new RangeError("Can't store a per-node prop on a node type");
                  t[s[0].id] = s[1];
                }
              }
            } catch (err) {
              _didIteratorError = true;
              _iteratorError = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion && _iterator.return != null) {
                  _iterator.return();
                }
              } finally {
                if (_didIteratorError) {
                  throw _iteratorError;
                }
              }
            }
          }
          return n;
        }
        prop(e) {
          return this.props[e.id];
        }
        get isTop() {
          return (this.flags & 1) > 0;
        }
        get isSkipped() {
          return (this.flags & 2) > 0;
        }
        get isError() {
          return (this.flags & 4) > 0;
        }
        get isAnonymous() {
          return (this.flags & 8) > 0;
        }
        is(e) {
          if (typeof e == "string") {
            if (this.name == e) return !0;
            var t = this.prop(ue.group);
            return t ? t.indexOf(e) > -1 : !1;
          }
          return this.id == e;
        }
        static match(e) {
          var t = Object.create(null);
          var _iteratorNormalCompletion = true,
            _didIteratorError = false,
            _iteratorError = undefined;
          for (var r in e)
            try {
              for (var _iterator = r.split(" ")[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
                var n = _step.value;
                t[n] = e[r];
              }
            } catch (err) {
              _didIteratorError = true;
              _iteratorError = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion && _iterator.return != null) {
                  _iterator.return();
                }
              } finally {
                if (_didIteratorError) {
                  throw _iteratorError;
                }
              }
            }
          return (r) => {
            for (var n = r.prop(ue.group), s = -1; s < (n ? n.length : 0); s++) {
              var o = t[s < 0 ? r.name : n[s]];
              if (o) return o;
            }
          };
        }
        constructor(e, t, r, ref) {
          var n = ref === void 0 ? 0 : ref;
          (this.name = e), (this.props = t), (this.id = r), (this.flags = n);
        }
      }),
      (() => {
        a(_i45, "NodeType");
      })(),
      _i45);
  Ve.none = new Ve("", Object.create(null), 0, 8);
  var pn =
      ((_i46 = class i {
        extend() {
          for (var _len = arguments.length, e = new Array(_len), _key = 0; _key < _len; _key++) {
            e[_key] = arguments[_key];
          }
          var t = [];
          var _iteratorNormalCompletion = true,
            _didIteratorError = false,
            _iteratorError = undefined;
          try {
            for (var _iterator = this.types[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
              var r = _step.value;
              var n = null;
              var _iteratorNormalCompletion1 = true,
                _didIteratorError1 = false,
                _iteratorError1 = undefined;
              try {
                for (var _iterator1 = e[Symbol.iterator](), _step1; !(_iteratorNormalCompletion1 = (_step1 = _iterator1.next()).done); _iteratorNormalCompletion1 = true) {
                  var s = _step1.value;
                  var o = s(r);
                  o && (n || (n = Object.assign({}, r.props)), (n[o[0].id] = o[1]));
                }
              } catch (err) {
                _didIteratorError1 = true;
                _iteratorError1 = err;
              } finally {
                try {
                  if (!_iteratorNormalCompletion1 && _iterator1.return != null) {
                    _iterator1.return();
                  }
                } finally {
                  if (_didIteratorError1) {
                    throw _iteratorError1;
                  }
                }
              }
              t.push(n ? new Ve(r.name, n, r.id, r.flags) : r);
            }
          } catch (err) {
            _didIteratorError = true;
            _iteratorError = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion && _iterator.return != null) {
                _iterator.return();
              }
            } finally {
              if (_didIteratorError) {
                throw _iteratorError;
              }
            }
          }
          return new i(t);
        }
        constructor(e) {
          this.types = e;
          for (var t = 0; t < e.length; t++) if (e[t].id != t) throw new RangeError("Node type ids should correspond to array positions when creating a node set");
        }
      }),
      (() => {
        a(_i46, "NodeSet");
      })(),
      _i46),
    bo = new WeakMap(),
    MD = new WeakMap(),
    Re;
  (function (i) {
    (i[(i.ExcludeBuffers = 1)] = "ExcludeBuffers"), (i[(i.IncludeAnonymous = 2)] = "IncludeAnonymous"), (i[(i.IgnoreMounts = 4)] = "IgnoreMounts"), (i[(i.IgnoreOverlays = 8)] = "IgnoreOverlays");
  })(Re || (Re = {}));
  var Be =
    ((_i47 = class i {
      toString() {
        var e = this.prop(ue.mounted);
        if (e && !e.overlay) return e.tree.toString();
        var t = "";
        var _iteratorNormalCompletion = true,
          _didIteratorError = false,
          _iteratorError = undefined;
        try {
          for (var _iterator = this.children[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
            var r = _step.value;
            var n = r.toString();
            n && (t && (t += ","), (t += n));
          }
        } catch (err) {
          _didIteratorError = true;
          _iteratorError = err;
        } finally {
          try {
            if (!_iteratorNormalCompletion && _iterator.return != null) {
              _iterator.return();
            }
          } finally {
            if (_didIteratorError) {
              throw _iteratorError;
            }
          }
        }
        return this.type.name ? (/\W/.test(this.type.name) && !this.type.isError ? JSON.stringify(this.type.name) : this.type.name) + (t.length ? "(" + t + ")" : "") : t;
      }
      cursor() {
        var e = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 0;
        return new mr(this.topNode, e);
      }
      cursorAt(e) {
        var t = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0,
          r = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : 0;
        var n = bo.get(this) || this.topNode,
          s = new mr(n);
        return s.moveTo(e, t), bo.set(this, s._tree), s;
      }
      get topNode() {
        return new Ei(this, 0, 0, null);
      }
      resolve(e) {
        var t = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0;
        var r = pr(bo.get(this) || this.topNode, e, t, !1);
        return bo.set(this, r), r;
      }
      resolveInner(e) {
        var t = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0;
        var r = pr(MD.get(this) || this.topNode, e, t, !0);
        return MD.set(this, r), r;
      }
      iterate(e) {
        var t = e.enter,
          r = e.leave,
          tmp = e.from,
          n = tmp === void 0 ? 0 : tmp,
          tmp1 = e.to,
          s = tmp1 === void 0 ? this.length : tmp1;
        for (var o = this.cursor((e.mode || 0) | Re.IncludeAnonymous); ; ) {
          var u = !1;
          if (o.from <= s && o.to >= n && (o.type.isAnonymous || t(o) !== !1)) {
            if (o.firstChild()) continue;
            u = !0;
          }
          for (; u && r && !o.type.isAnonymous && r(o), !o.nextSibling(); ) {
            if (!o.parent()) return;
            u = !0;
          }
        }
      }
      prop(e) {
        return e.perNode ? (this.props ? this.props[e.id] : void 0) : this.type.prop(e);
      }
      get propValues() {
        var e = [];
        if (this.props) for (var t in this.props) e.push([+t, this.props[t]]);
        return e;
      }
      balance() {
        var e = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};
        return this.children.length <= 8 ? this : Wa(Ve.none, this.children, this.positions, 0, this.children.length, 0, this.length, (t, r, n) => new i(this.type, t, r, n, this.propValues), e.makeTree || ((t, r, n) => new i(Ve.none, t, r, n)));
      }
      static build(e) {
        return lw(e);
      }
      constructor(e, t, r, n, s) {
        if (((this.type = e), (this.children = t), (this.positions = r), (this.length = n), (this.props = null), s && s.length)) {
          this.props = Object.create(null);
          var _iteratorNormalCompletion = true,
            _didIteratorError = false,
            _iteratorError = undefined;
          try {
            for (var _iterator = s[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
              var _step_value = _sliced_to_array(_step.value, 2),
                o = _step_value[0],
                u = _step_value[1];
              this.props[typeof o == "number" ? o : o.id] = u;
            }
          } catch (err) {
            _didIteratorError = true;
            _iteratorError = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion && _iterator.return != null) {
                _iterator.return();
              }
            } finally {
              if (_didIteratorError) {
                throw _iteratorError;
              }
            }
          }
        }
      }
    }),
    (() => {
      a(_i47, "Tree");
    })(),
    _i47);
  Be.empty = new Be(Ve.none, [], [], 0);
  var Na =
      ((_i48 = class i {
        get id() {
          return this.buffer[this.index - 4];
        }
        get start() {
          return this.buffer[this.index - 3];
        }
        get end() {
          return this.buffer[this.index - 2];
        }
        get size() {
          return this.buffer[this.index - 1];
        }
        get pos() {
          return this.index;
        }
        next() {
          this.index -= 4;
        }
        fork() {
          return new i(this.buffer, this.index);
        }
        constructor(e, t) {
          (this.buffer = e), (this.index = t);
        }
      }),
      (() => {
        a(_i48, "FlatBufferCursor");
      })(),
      _i48),
    Ai =
      ((_i49 = class i {
        get type() {
          return Ve.none;
        }
        toString() {
          var e = [];
          for (var t = 0; t < this.buffer.length; ) e.push(this.childString(t)), (t = this.buffer[t + 3]);
          return e.join(",");
        }
        childString(e) {
          var t = this.buffer[e],
            r = this.buffer[e + 3],
            n = this.set.types[t],
            s = n.name;
          if ((/\W/.test(s) && !n.isError && (s = JSON.stringify(s)), (e += 4), r == e)) return s;
          var o = [];
          for (; e < r; ) o.push(this.childString(e)), (e = this.buffer[e + 3]);
          return s + "(" + o.join(",") + ")";
        }
        findChild(e, t, r, n, s) {
          var _this = this,
            o = _this.buffer,
            u = -1;
          for (var l = e; l != t && !(PD(s, n, o[l + 1], o[l + 2]) && ((u = l), r > 0)); l = o[l + 3]);
          return u;
        }
        slice(e, t, r) {
          var n = this.buffer,
            s = new Uint16Array(t - e),
            o = 0;
          for (var u = e, l = 0; u < t; ) {
            (s[l++] = n[u++]), (s[l++] = n[u++] - r);
            var h = (s[l++] = n[u++] - r);
            (s[l++] = n[u++] - e), (o = Math.max(o, h));
          }
          return new i(s, o, this.set);
        }
        constructor(e, t, r) {
          (this.buffer = e), (this.length = t), (this.set = r);
        }
      }),
      (() => {
        a(_i49, "TreeBuffer");
      })(),
      _i49);
  function PD(i, e, t, r) {
    switch (i) {
      case -2:
        return t < e;
      case -1:
        return r >= e && t < e;
      case 0:
        return t < e && r > e;
      case 1:
        return t <= e && r > e;
      case 2:
        return r > e;
      case 4:
        return !0;
    }
  }
  a(PD, "checkSide");
  function LD(i, e) {
    var t = i.childBefore(e);
    for (; t; ) {
      var r = t.lastChild;
      if (!r || r.to != t.to) break;
      r.type.isError && r.from == r.to ? ((i = t), (t = r.prevSibling)) : (t = r);
    }
    return i;
  }
  a(LD, "enterUnfinishedNodesBefore");
  function pr(i, e, t, r) {
    for (var n; i.from == i.to || (t < 1 ? i.from >= e : i.from > e) || (t > -1 ? i.to <= e : i.to < e); ) {
      var o = !r && i instanceof Ei && i.index < 0 ? null : i.parent;
      if (!o) return i;
      i = o;
    }
    var s = r ? 0 : Re.IgnoreOverlays;
    if (r) for (var o1 = i, u = o1.parent; u; o1 = u, u = o1.parent) o1 instanceof Ei && o1.index < 0 && ((n = u.enter(e, t, s)) === null || n === void 0 ? void 0 : n.from) != o1.from && (i = u);
    for (;;) {
      var o2 = i.enter(e, t, s);
      if (!o2) return i;
      i = o2;
    }
  }
  a(pr, "resolveNode");
  var Ei =
    ((_i50 = class i {
      get type() {
        return this._tree.type;
      }
      get name() {
        return this._tree.type.name;
      }
      get to() {
        return this.from + this._tree.length;
      }
      nextChild(e, t, r, n) {
        var s = arguments.length > 4 && arguments[4] !== void 0 ? arguments[4] : 0;
        for (var o = this; ; ) {
          for (var _o__tree = o._tree, u = _o__tree.children, l = _o__tree.positions, h = t > 0 ? u.length : -1; e != h; e += t) {
            var c = u[e],
              f = l[e] + o.from;
            if (PD(n, r, f, f + c.length)) {
              if (c instanceof Ai) {
                if (s & Re.ExcludeBuffers) continue;
                var d = c.findChild(0, c.buffer.length, t, r - f, n);
                if (d > -1) return new mn(new Va(o, c, e, f), null, d);
              } else if (s & Re.IncludeAnonymous || !c.type.isAnonymous || Ha(c)) {
                var d1 = void 0;
                if (!(s & Re.IgnoreMounts) && c.props && (d1 = c.prop(ue.mounted)) && !d1.overlay) return new i(d1.tree, f, e, o);
                var p = new i(c, f, e, o);
                return s & Re.IncludeAnonymous || !p.type.isAnonymous ? p : p.nextChild(t < 0 ? c.children.length - 1 : 0, t, r, n);
              }
            }
          }
          if (s & Re.IncludeAnonymous || !o.type.isAnonymous || (o.index >= 0 ? (e = o.index + t) : (e = t < 0 ? -1 : o._parent._tree.children.length), (o = o._parent), !o)) return null;
        }
      }
      get firstChild() {
        return this.nextChild(0, 1, 0, 4);
      }
      get lastChild() {
        return this.nextChild(this._tree.children.length - 1, -1, 0, 4);
      }
      childAfter(e) {
        return this.nextChild(0, 1, e, 2);
      }
      childBefore(e) {
        return this.nextChild(this._tree.children.length - 1, -1, e, -2);
      }
      enter(e, t) {
        var r = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : 0;
        var n;
        if (!(r & Re.IgnoreOverlays) && (n = this._tree.prop(ue.mounted)) && n.overlay) {
          var s = e - this.from;
          var _iteratorNormalCompletion = true,
            _didIteratorError = false,
            _iteratorError = undefined;
          try {
            for (var _iterator = n.overlay[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
              var _step_value = _step.value,
                o = _step_value.from,
                u = _step_value.to;
              if ((t > 0 ? o <= s : o < s) && (t < 0 ? u >= s : u > s)) return new i(n.tree, n.overlay[0].from + this.from, -1, this);
            }
          } catch (err) {
            _didIteratorError = true;
            _iteratorError = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion && _iterator.return != null) {
                _iterator.return();
              }
            } finally {
              if (_didIteratorError) {
                throw _iteratorError;
              }
            }
          }
        }
        return this.nextChild(0, 1, e, t, r);
      }
      nextSignificantParent() {
        var e = this;
        for (; e.type.isAnonymous && e._parent; ) e = e._parent;
        return e;
      }
      get parent() {
        return this._parent ? this._parent.nextSignificantParent() : null;
      }
      get nextSibling() {
        return this._parent && this.index >= 0 ? this._parent.nextChild(this.index + 1, 1, 0, 4) : null;
      }
      get prevSibling() {
        return this._parent && this.index >= 0 ? this._parent.nextChild(this.index - 1, -1, 0, 4) : null;
      }
      cursor() {
        var e = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 0;
        return new mr(this, e);
      }
      get tree() {
        return this._tree;
      }
      toTree() {
        return this._tree;
      }
      resolve(e) {
        var t = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0;
        return pr(this, e, t, !1);
      }
      resolveInner(e) {
        var t = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0;
        return pr(this, e, t, !0);
      }
      enterUnfinishedNodesBefore(e) {
        return LD(this, e);
      }
      getChild(e) {
        var t = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : null,
          r = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : null;
        var n = yo(this, e, t, r);
        return n.length ? n[0] : null;
      }
      getChildren(e) {
        var t = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : null,
          r = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : null;
        return yo(this, e, t, r);
      }
      toString() {
        return this._tree.toString();
      }
      get node() {
        return this;
      }
      matchContext(e) {
        return Co(this, e);
      }
      constructor(e, t, r, n) {
        (this._tree = e), (this.from = t), (this.index = r), (this._parent = n);
      }
    }),
    (() => {
      a(_i50, "TreeNode");
    })(),
    _i50);
  function yo(i, e, t, r) {
    var n = i.cursor(),
      s = [];
    if (!n.firstChild()) return s;
    if (t != null) {
      for (; !n.type.is(t); ) if (!n.nextSibling()) return s;
    }
    for (;;) {
      if (r != null && n.type.is(r)) return s;
      if ((n.type.is(e) && s.push(n.node), !n.nextSibling())) return r == null ? s : [];
    }
  }
  a(yo, "getChildren");
  function Co(i, e) {
    var t = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : e.length - 1;
    for (var r = i.parent; t >= 0; r = r.parent) {
      if (!r) return !1;
      if (!r.type.isAnonymous) {
        if (e[t] && e[t] != r.name) return !1;
        t--;
      }
    }
    return !0;
  }
  a(Co, "matchNodeContext");
  var Va =
      ((_class73 = class _class {
        constructor(e, t, r, n) {
          (this.parent = e), (this.buffer = t), (this.index = r), (this.start = n);
        }
      }),
      (() => {
        a(_class73, "BufferContext");
      })(),
      _class73),
    mn =
      ((_i51 = class i {
        get name() {
          return this.type.name;
        }
        get from() {
          return this.context.start + this.context.buffer.buffer[this.index + 1];
        }
        get to() {
          return this.context.start + this.context.buffer.buffer[this.index + 2];
        }
        child(e, t, r) {
          var _this_context = this.context,
            n = _this_context.buffer,
            s = n.findChild(this.index + 4, n.buffer[this.index + 3], e, t - this.context.start, r);
          return s < 0 ? null : new i(this.context, this, s);
        }
        get firstChild() {
          return this.child(1, 0, 4);
        }
        get lastChild() {
          return this.child(-1, 0, 4);
        }
        childAfter(e) {
          return this.child(1, e, 2);
        }
        childBefore(e) {
          return this.child(-1, e, -2);
        }
        enter(e, t) {
          var r = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : 0;
          if (r & Re.ExcludeBuffers) return null;
          var _this_context = this.context,
            n = _this_context.buffer,
            s = n.findChild(this.index + 4, n.buffer[this.index + 3], t > 0 ? 1 : -1, e - this.context.start, t);
          return s < 0 ? null : new i(this.context, this, s);
        }
        get parent() {
          return this._parent || this.context.parent.nextSignificantParent();
        }
        externalSibling(e) {
          return this._parent ? null : this.context.parent.nextChild(this.context.index + e, e, 0, 4);
        }
        get nextSibling() {
          var _this_context = this.context,
            e = _this_context.buffer,
            t = e.buffer[this.index + 3];
          return t < (this._parent ? e.buffer[this._parent.index + 3] : e.buffer.length) ? new i(this.context, this._parent, t) : this.externalSibling(1);
        }
        get prevSibling() {
          var _this_context = this.context,
            e = _this_context.buffer,
            t = this._parent ? this._parent.index + 4 : 0;
          return this.index == t ? this.externalSibling(-1) : new i(this.context, this._parent, e.findChild(t, this.index, -1, 0, 4));
        }
        cursor() {
          var e = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 0;
          return new mr(this, e);
        }
        get tree() {
          return null;
        }
        toTree() {
          var e = [],
            t = [],
            _this_context = this.context,
            r = _this_context.buffer,
            n = this.index + 4,
            s = r.buffer[this.index + 3];
          if (s > n) {
            var o = r.buffer[this.index + 1];
            e.push(r.slice(n, s, o)), t.push(0);
          }
          return new Be(this.type, e, t, this.to - this.from);
        }
        resolve(e) {
          var t = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0;
          return pr(this, e, t, !1);
        }
        resolveInner(e) {
          var t = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0;
          return pr(this, e, t, !0);
        }
        enterUnfinishedNodesBefore(e) {
          return LD(this, e);
        }
        toString() {
          return this.context.buffer.childString(this.index);
        }
        getChild(e) {
          var t = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : null,
            r = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : null;
          var n = yo(this, e, t, r);
          return n.length ? n[0] : null;
        }
        getChildren(e) {
          var t = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : null,
            r = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : null;
          return yo(this, e, t, r);
        }
        get node() {
          return this;
        }
        matchContext(e) {
          return Co(this, e);
        }
        constructor(e, t, r) {
          (this.context = e), (this._parent = t), (this.index = r), (this.type = e.buffer.set.types[e.buffer.buffer[r]]);
        }
      }),
      (() => {
        a(_i51, "BufferNode");
      })(),
      _i51),
    mr =
      ((_class74 = class _class {
        get name() {
          return this.type.name;
        }
        yieldNode(e) {
          return e ? ((this._tree = e), (this.type = e.type), (this.from = e.from), (this.to = e.to), !0) : !1;
        }
        yieldBuf(e, t) {
          this.index = e;
          var _this_buffer = this.buffer,
            r = _this_buffer.start,
            n = _this_buffer.buffer;
          return (this.type = t || n.set.types[n.buffer[e]]), (this.from = r + n.buffer[e + 1]), (this.to = r + n.buffer[e + 2]), !0;
        }
        yield(e) {
          return e ? (e instanceof Ei ? ((this.buffer = null), this.yieldNode(e)) : ((this.buffer = e.context), this.yieldBuf(e.index, e.type))) : !1;
        }
        toString() {
          return this.buffer ? this.buffer.buffer.childString(this.index) : this._tree.toString();
        }
        enterChild(e, t, r) {
          if (!this.buffer) return this.yield(this._tree.nextChild(e < 0 ? this._tree._tree.children.length - 1 : 0, e, t, r, this.mode));
          var _this_buffer = this.buffer,
            n = _this_buffer.buffer,
            s = n.findChild(this.index + 4, n.buffer[this.index + 3], e, t - this.buffer.start, r);
          return s < 0 ? !1 : (this.stack.push(this.index), this.yieldBuf(s));
        }
        firstChild() {
          return this.enterChild(1, 0, 4);
        }
        lastChild() {
          return this.enterChild(-1, 0, 4);
        }
        childAfter(e) {
          return this.enterChild(1, e, 2);
        }
        childBefore(e) {
          return this.enterChild(-1, e, -2);
        }
        enter(e, t) {
          var r = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : this.mode;
          return this.buffer ? (r & Re.ExcludeBuffers ? !1 : this.enterChild(1, e, t)) : this.yield(this._tree.enter(e, t, r));
        }
        parent() {
          if (!this.buffer) return this.yieldNode(this.mode & Re.IncludeAnonymous ? this._tree._parent : this._tree.parent);
          if (this.stack.length) return this.yieldBuf(this.stack.pop());
          var e = this.mode & Re.IncludeAnonymous ? this.buffer.parent : this.buffer.parent.nextSignificantParent();
          return (this.buffer = null), this.yieldNode(e);
        }
        sibling(e) {
          if (!this.buffer) return this._tree._parent ? this.yield(this._tree.index < 0 ? null : this._tree._parent.nextChild(this._tree.index + e, e, 0, 4, this.mode)) : !1;
          var _this_buffer = this.buffer,
            t = _this_buffer.buffer,
            r = this.stack.length - 1;
          if (e < 0) {
            var n = r < 0 ? 0 : this.stack[r] + 4;
            if (this.index != n) return this.yieldBuf(t.findChild(n, this.index, -1, 0, 4));
          } else {
            var n1 = t.buffer[this.index + 3];
            if (n1 < (r < 0 ? t.buffer.length : t.buffer[this.stack[r] + 3])) return this.yieldBuf(n1);
          }
          return r < 0 ? this.yield(this.buffer.parent.nextChild(this.buffer.index + e, e, 0, 4, this.mode)) : !1;
        }
        nextSibling() {
          return this.sibling(1);
        }
        prevSibling() {
          return this.sibling(-1);
        }
        atLastNode(e) {
          var t,
            r,
            _this = this,
            n = _this.buffer;
          var ref;
          if (n) {
            if (e > 0) {
              if (this.index < n.buffer.buffer.length) return !1;
            } else for (var s = 0; s < this.index; s++) if (n.buffer.buffer[s + 3] < this.index) return !1;
            var ref1;
            (ref1 = n), (t = ref1.index), (r = ref1.parent), ref1;
          } else (ref = this._tree), (t = ref.index), (r = ref._parent), ref;
          var ref2;
          for (; r; ref2 = r, t = ref2.index, r = ref2._parent, ref2)
            if (t > -1)
              for (var s1 = t + e, o = e < 0 ? -1 : r._tree.children.length; s1 != o; s1 += e) {
                var u = r._tree.children[s1];
                if (this.mode & Re.IncludeAnonymous || u instanceof Ai || !u.type.isAnonymous || Ha(u)) return !1;
              }
          return !0;
        }
        move(e, t) {
          if (t && this.enterChild(e, 0, 4)) return !0;
          for (;;) {
            if (this.sibling(e)) return !0;
            if (this.atLastNode(e) || !this.parent()) return !1;
          }
        }
        next() {
          var e = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : !0;
          return this.move(1, e);
        }
        prev() {
          var e = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : !0;
          return this.move(-1, e);
        }
        moveTo(e) {
          var t = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0;
          for (; (this.from == this.to || (t < 1 ? this.from >= e : this.from > e) || (t > -1 ? this.to <= e : this.to < e)) && this.parent(); );
          for (; this.enterChild(1, e, t); );
          return this;
        }
        get node() {
          if (!this.buffer) return this._tree;
          var e = this.bufferNode,
            t = null,
            r = 0;
          if (e && e.context == this.buffer)
            e: for (var n = this.index, s = this.stack.length; s >= 0; ) {
              for (var o = e; o; o = o._parent)
                if (o.index == n) {
                  if (n == this.index) return o;
                  (t = o), (r = s + 1);
                  break e;
                }
              n = this.stack[--s];
            }
          for (var n1 = r; n1 < this.stack.length; n1++) t = new mn(this.buffer, t, this.stack[n1]);
          return (this.bufferNode = new mn(this.buffer, t, this.index));
        }
        get tree() {
          return this.buffer ? null : this._tree._tree;
        }
        iterate(e, t) {
          for (var r = 0; ; ) {
            var n = !1;
            if (this.type.isAnonymous || e(this) !== !1) {
              if (this.firstChild()) {
                r++;
                continue;
              }
              this.type.isAnonymous || (n = !0);
            }
            for (; n && t && t(this), (n = this.type.isAnonymous), !this.nextSibling(); ) {
              if (!r) return;
              this.parent(), r--, (n = !0);
            }
          }
        }
        matchContext(e) {
          if (!this.buffer) return Co(this.node, e);
          var _this_buffer = this.buffer,
            t = _this_buffer.buffer,
            _t_set = t.set,
            r = _t_set.types;
          for (var n = e.length - 1, s = this.stack.length - 1; n >= 0; s--) {
            if (s < 0) return Co(this.node, e, n);
            var o = r[t.buffer[this.stack[s]]];
            if (!o.isAnonymous) {
              if (e[n] && e[n] != o.name) return !1;
              n--;
            }
          }
          return !0;
        }
        constructor(e, ref) {
          var t = ref === void 0 ? 0 : ref;
          if (((this.mode = t), (this.buffer = null), (this.stack = []), (this.index = 0), (this.bufferNode = null), e instanceof Ei)) this.yieldNode(e);
          else {
            (this._tree = e.context.parent), (this.buffer = e.context);
            for (var r = e._parent; r; r = r._parent) this.stack.unshift(r.index);
            (this.bufferNode = e), this.yieldBuf(e.index);
          }
        }
      }),
      (() => {
        a(_class74, "TreeCursor");
      })(),
      _class74);
  function Ha(i) {
    return i.children.some((e) => e instanceof Ai || !e.type.isAnonymous || Ha(e));
  }
  a(Ha, "hasChild");
  function lw(i) {
    var e;
    var t = i.buffer,
      r = i.nodeSet,
      tmp = i.maxBufferLength,
      n = tmp === void 0 ? 1024 : tmp,
      tmp1 = i.reused,
      s = tmp1 === void 0 ? [] : tmp1,
      tmp2 = i.minRepeatType,
      o = tmp2 === void 0 ? r.types.length : tmp2,
      u = Array.isArray(t) ? new Na(t, t.length) : t,
      l = r.types,
      h = 0,
      c = 0;
    function f(x, E, _, I, J) {
      var z = u.id,
        U = u.start,
        N = u.end,
        ne = u.size,
        le = c;
      for (; ne < 0; )
        if ((u.next(), ne == -1)) {
          var De = s[z];
          _.push(De), I.push(U - x);
          return;
        } else if (ne == -3) {
          h = z;
          return;
        } else if (ne == -4) {
          c = z;
          return;
        } else throw new RangeError("Unrecognized record size: ".concat(ne));
      var H = l[z],
        T,
        Z,
        ge = U - x;
      if (N - U <= n && (Z = b(u.pos - E, J))) {
        var De1 = new Uint16Array(Z.size - Z.skip),
          ce = u.pos - Z.size,
          ae = De1.length;
        for (; u.pos > ce; ) ae = g(Z.start, De1, ae);
        (T = new Ai(De1, N - Z.start, r)), (ge = Z.start - x);
      } else {
        var De2 = u.pos - ne;
        u.next();
        var ce1 = [],
          ae1 = [],
          _e = z >= o ? z : -1,
          Me = 0,
          pt = N;
        for (; u.pos > De2; ) _e >= 0 && u.id == _e && u.size >= 0 ? (u.end <= pt - n && (p(ce1, ae1, U, Me, u.end, pt, _e, le), (Me = ce1.length), (pt = u.end)), u.next()) : f(U, De2, ce1, ae1, _e);
        if ((_e >= 0 && Me > 0 && Me < ce1.length && p(ce1, ae1, U, Me, U, pt, _e, le), ce1.reverse(), ae1.reverse(), _e > -1 && Me > 0)) {
          var $t = d(H);
          T = Wa(H, ce1, ae1, 0, ce1.length, 0, N - U, $t, $t);
        } else T = m(H, ce1, ae1, N - U, le - N);
      }
      _.push(T), I.push(ge);
    }
    a(f, "takeNode");
    function d(x) {
      return (E, _, I) => {
        var J = 0,
          z = E.length - 1,
          U,
          N;
        if (z >= 0 && (U = E[z]) instanceof Be) {
          if (!z && U.type == x && U.length == I) return U;
          (N = U.prop(ue.lookAhead)) && (J = _[z] + U.length + N);
        }
        return m(x, E, _, I, J);
      };
    }
    a(d, "makeBalanced");
    function p(x, E, _, I, J, z, U, N) {
      var ne = [],
        le = [];
      for (; x.length > I; ) ne.push(x.pop()), le.push(E.pop() + _ - J);
      x.push(m(r.types[U], ne, le, z - J, N - z)), E.push(J - _);
    }
    a(p, "makeRepeatLeaf");
    function m(x, E, _, I) {
      var J = arguments.length > 4 && arguments[4] !== void 0 ? arguments[4] : 0,
        z = arguments.length > 5 ? arguments[5] : void 0;
      if (h) {
        var U = [ue.contextHash, h];
        z = z ? [U].concat(z) : [U];
      }
      if (J > 25) {
        var U1 = [ue.lookAhead, J];
        z = z ? [U1].concat(z) : [U1];
      }
      return new Be(x, E, _, I, z);
    }
    a(m, "makeTree");
    function b(x, E) {
      var _ = u.fork(),
        I = 0,
        J = 0,
        z = 0,
        U = _.end - n,
        N = { size: 0, start: 0, skip: 0 };
      e: for (var ne = _.pos - x; _.pos > ne; ) {
        var le = _.size;
        if (_.id == E && le >= 0) {
          (N.size = I), (N.start = J), (N.skip = z), (z += 4), (I += 4), _.next();
          continue;
        }
        var H = _.pos - le;
        if (le < 0 || H < ne || _.start < U) break;
        var T = _.id >= o ? 4 : 0,
          Z = _.start;
        for (_.next(); _.pos > H; ) {
          if (_.size < 0)
            if (_.size == -3) T += 4;
            else break e;
          else _.id >= o && (T += 4);
          _.next();
        }
        (J = Z), (I += le), (z += T);
      }
      return (E < 0 || I == x) && ((N.size = I), (N.start = J), (N.skip = z)), N.size > 4 ? N : void 0;
    }
    a(b, "findBufferSize");
    function g(x, E, _) {
      var I = u.id,
        J = u.start,
        z = u.end,
        U = u.size;
      if ((u.next(), U >= 0 && I < o)) {
        var N = _;
        if (U > 4) {
          var ne = u.pos - (U - 4);
          for (; u.pos > ne; ) _ = g(x, E, _);
        }
        (E[--_] = N), (E[--_] = z - x), (E[--_] = J - x), (E[--_] = I);
      } else U == -3 ? (h = I) : U == -4 && (c = I);
      return _;
    }
    a(g, "copyToBuffer");
    var D = [],
      F = [];
    for (; u.pos > 0; ) f(i.start || 0, i.bufferStart || 0, D, F, -1);
    var w = (e = i.length) !== null && e !== void 0 ? e : D.length ? F[0] + D[0].length : 0;
    return new Be(l[i.topID], D.reverse(), F.reverse(), w);
  }
  a(lw, "buildTree");
  var $D = new WeakMap();
  function Fo(i, e) {
    if (!i.isAnonymous || e instanceof Ai || e.type != i) return 1;
    var t = $D.get(e);
    if (t == null) {
      t = 1;
      var _iteratorNormalCompletion = true,
        _didIteratorError = false,
        _iteratorError = undefined;
      try {
        for (var _iterator = e.children[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
          var r = _step.value;
          if (r.type != i || !(r instanceof Be)) {
            t = 1;
            break;
          }
          t += Fo(i, r);
        }
      } catch (err) {
        _didIteratorError = true;
        _iteratorError = err;
      } finally {
        try {
          if (!_iteratorNormalCompletion && _iterator.return != null) {
            _iterator.return();
          }
        } finally {
          if (_didIteratorError) {
            throw _iteratorError;
          }
        }
      }
      $D.set(e, t);
    }
    return t;
  }
  a(Fo, "nodeSize");
  function Wa(i, e, t, r, n, s, o, u, l) {
    var h = 0;
    for (var m = r; m < n; m++) h += Fo(i, e[m]);
    var c = Math.ceil((h * 1.5) / 8),
      f = [],
      d = [];
    function p(m, b, g, D, F) {
      for (var w = g; w < D; ) {
        var x = w,
          E = b[w],
          _ = Fo(i, m[w]);
        for (w++; w < D; w++) {
          var I = Fo(i, m[w]);
          if (_ + I >= c) break;
          _ += I;
        }
        if (w == x + 1) {
          if (_ > c) {
            var I1 = m[x];
            p(I1.children, I1.positions, 0, I1.children.length, b[x] + F);
            continue;
          }
          f.push(m[x]);
        } else {
          var I2 = b[w - 1] + m[w - 1].length - E;
          f.push(Wa(i, m, b, x, w, E, I2, null, l));
        }
        d.push(E + F - s);
      }
    }
    return a(p, "divide"), p(e, t, r, n, 0), (u || l)(f, d, o);
  }
  a(Wa, "balanceRange");
  var vi =
      ((_i52 = class i {
        get openStart() {
          return (this.open & 1) > 0;
        }
        get openEnd() {
          return (this.open & 2) > 0;
        }
        static addTree(e) {
          var t = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : [],
            r = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : !1;
          var n = [new i(0, e.length, e, 0, !1, r)];
          var _iteratorNormalCompletion = true,
            _didIteratorError = false,
            _iteratorError = undefined;
          try {
            for (var _iterator = t[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
              var s = _step.value;
              s.to > e.length && n.push(s);
            }
          } catch (err) {
            _didIteratorError = true;
            _iteratorError = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion && _iterator.return != null) {
                _iterator.return();
              }
            } finally {
              if (_didIteratorError) {
                throw _iteratorError;
              }
            }
          }
          return n;
        }
        static applyChanges(e, t) {
          var r = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : 128;
          if (!t.length) return e;
          var n = [],
            s = 1,
            o = e.length ? e[0] : null;
          for (var u = 0, l = 0, h = 0; ; u++) {
            var c = u < t.length ? t[u] : null,
              f = c ? c.fromA : 1e9;
            if (f - l >= r)
              for (; o && o.from < f; ) {
                var d = o;
                if (l >= d.from || f <= d.to || h) {
                  var p = Math.max(d.from, l) - h,
                    m = Math.min(d.to, f) - h;
                  d = p >= m ? null : new i(p, m, d.tree, d.offset + h, u > 0, !!c);
                }
                if ((d && n.push(d), o.to > f)) break;
                o = s < e.length ? e[s++] : null;
              }
            if (!c) break;
            (l = c.toA), (h = c.toA - c.toB);
          }
          return n;
        }
        constructor(e, t, r, n, ref, ref1) {
          var s = ref === void 0 ? !1 : ref,
            o = ref1 === void 0 ? !1 : ref1;
          (this.from = e), (this.to = t), (this.tree = r), (this.offset = n), (this.open = (s ? 1 : 0) | (o ? 2 : 0));
        }
      }),
      (() => {
        a(_i52, "TreeFragment");
      })(),
      _i52),
    gr =
      ((_class75 = class _class {
        startParse(e, t, r) {
          return typeof e == "string" && (e = new za(e)), (r = r ? (r.length ? r.map((n) => new dn(n.from, n.to)) : [new dn(0, 0)]) : [new dn(0, e.length)]), this.createParse(e, t || [], r);
        }
        parse(e, t, r) {
          var n = this.startParse(e, t, r);
          for (;;) {
            var s = n.advance();
            if (s) return s;
          }
        }
      }),
      (() => {
        a(_class75, "Parser");
      })(),
      _class75),
    za =
      ((_class76 = class _class {
        get length() {
          return this.string.length;
        }
        chunk(e) {
          return this.string.slice(e);
        }
        get lineChunks() {
          return !1;
        }
        read(e, t) {
          return this.string.slice(e, t);
        }
        constructor(e) {
          this.string = e;
        }
      }),
      (() => {
        a(_class76, "StringInput");
      })(),
      _class76);
  var BB = new ue({ perNode: !0 });
  var aw = 0,
    Mt =
      ((_i53 = class i {
        static define(e) {
          var _e;
          if ((_e = e) === null || _e === void 0 ? void 0 : _e.base) throw new Error("Can not derive from a modified tag");
          var t = new i([], null, []);
          var _iteratorNormalCompletion = true,
            _didIteratorError = false,
            _iteratorError = undefined;
          if ((t.set.push(t), e))
            try {
              for (var _iterator = e.set[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
                var r = _step.value;
                t.set.push(r);
              }
            } catch (err) {
              _didIteratorError = true;
              _iteratorError = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion && _iterator.return != null) {
                  _iterator.return();
                }
              } finally {
                if (_didIteratorError) {
                  throw _iteratorError;
                }
              }
            }
          return t;
        }
        static defineModifier() {
          var e = new ko();
          return (t) =>
            t.modified.indexOf(e) > -1
              ? t
              : ko.get(
                  t.base || t,
                  t.modified.concat(e).sort((r, n) => r.id - n.id)
                );
        }
        constructor(e, t, r) {
          (this.set = e), (this.base = t), (this.modified = r), (this.id = aw++);
        }
      }),
      (() => {
        a(_i53, "Tag");
      })(),
      _i53),
    hw = 0,
    ko =
      ((_i54 = class i {
        static get(e, t) {
          if (!t.length) return e;
          var r = t[0].instances.find((u) => u.base == e && cw(t, u.modified));
          if (r) return r;
          var n = [],
            s = new Mt(n, e, t);
          var _iteratorNormalCompletion = true,
            _didIteratorError = false,
            _iteratorError = undefined;
          try {
            for (var _iterator = t[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
              var u = _step.value;
              u.instances.push(s);
            }
          } catch (err) {
            _didIteratorError = true;
            _iteratorError = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion && _iterator.return != null) {
                _iterator.return();
              }
            } finally {
              if (_didIteratorError) {
                throw _iteratorError;
              }
            }
          }
          var o = fw(t);
          var _iteratorNormalCompletion1 = true,
            _didIteratorError1 = false,
            _iteratorError1 = undefined,
            _iteratorNormalCompletion2 = true,
            _didIteratorError2 = false,
            _iteratorError2 = undefined;
          try {
            for (var _iterator1 = e.set[Symbol.iterator](), _step1; !(_iteratorNormalCompletion2 = (_step1 = _iterator1.next()).done); _iteratorNormalCompletion2 = true) {
              var u1 = _step1.value;
              if (!u1.modified.length)
                try {
                  for (var _iterator2 = o[Symbol.iterator](), _step2; !(_iteratorNormalCompletion1 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion1 = true) {
                    var l = _step2.value;
                    n.push(i.get(u1, l));
                  }
                } catch (err) {
                  _didIteratorError1 = true;
                  _iteratorError1 = err;
                } finally {
                  try {
                    if (!_iteratorNormalCompletion1 && _iterator2.return != null) {
                      _iterator2.return();
                    }
                  } finally {
                    if (_didIteratorError1) {
                      throw _iteratorError1;
                    }
                  }
                }
            }
          } catch (err) {
            _didIteratorError2 = true;
            _iteratorError2 = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion2 && _iterator1.return != null) {
                _iterator1.return();
              }
            } finally {
              if (_didIteratorError2) {
                throw _iteratorError2;
              }
            }
          }
          return s;
        }
        constructor() {
          (this.instances = []), (this.id = hw++);
        }
      }),
      (() => {
        a(_i54, "Modifier");
      })(),
      _i54);
  function cw(i, e) {
    return i.length == e.length && i.every((t, r) => t == e[r]);
  }
  a(cw, "sameArray");
  function fw(i) {
    var e = [[]];
    for (var t = 0; t < i.length; t++) for (var r = 0, n = e.length; r < n; r++) e.push(e[r].concat(i[t]));
    return e.sort((t, r) => r.length - t.length);
  }
  a(fw, "powerSet");
  function wo(i) {
    var e = Object.create(null);
    for (var t in i) {
      var r = i[t];
      Array.isArray(r) || (r = [r]);
      var _iteratorNormalCompletion = true,
        _didIteratorError = false,
        _iteratorError = undefined;
      try {
        for (var _iterator = t.split(" ")[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
          var n = _step.value;
          if (n) {
            var s = [],
              o = 2,
              u = n;
            for (var f = 0; ; ) {
              if (u == "..." && f > 0 && f + 3 == n.length) {
                o = 1;
                break;
              }
              var d = /^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(u);
              if (!d) throw new RangeError("Invalid path: " + n);
              if ((s.push(d[0] == "*" ? "" : d[0][0] == '"' ? JSON.parse(d[0]) : d[0]), (f += d[0].length), f == n.length)) break;
              var p = n[f++];
              if (f == n.length && p == "!") {
                o = 0;
                break;
              }
              if (p != "/") throw new RangeError("Invalid path: " + n);
              u = n.slice(f);
            }
            var l = s.length - 1,
              h = s[l];
            if (!h) throw new RangeError("Invalid path: " + n);
            var c = new Dr(r, o, l > 0 ? s.slice(0, l) : null);
            e[h] = c.sort(e[h]);
          }
        }
      } catch (err) {
        _didIteratorError = true;
        _iteratorError = err;
      } finally {
        try {
          if (!_iteratorNormalCompletion && _iterator.return != null) {
            _iterator.return();
          }
        } finally {
          if (_didIteratorError) {
            throw _iteratorError;
          }
        }
      }
    }
    return ND.add(e);
  }
  a(wo, "styleTags");
  var ND = new ue(),
    Dr =
      ((_class77 = class _class {
        get opaque() {
          return this.mode == 0;
        }
        get inherit() {
          return this.mode == 1;
        }
        sort(e) {
          return !e || e.depth < this.depth ? ((this.next = e), this) : ((e.next = this.sort(e.next)), e);
        }
        get depth() {
          return this.context ? this.context.length : 0;
        }
        constructor(e, t, r, n) {
          (this.tags = e), (this.mode = t), (this.context = r), (this.next = n);
        }
      }),
      (() => {
        a(_class77, "Rule");
      })(),
      _class77);
  Dr.empty = new Dr([], 2, null);
  function Ya(i, e) {
    var t = Object.create(null);
    var _iteratorNormalCompletion = true,
      _didIteratorError = false,
      _iteratorError = undefined,
      _iteratorNormalCompletion1 = true,
      _didIteratorError1 = false,
      _iteratorError1 = undefined;
    try {
      for (var _iterator = i[Symbol.iterator](), _step; !(_iteratorNormalCompletion1 = (_step = _iterator.next()).done); _iteratorNormalCompletion1 = true) {
        var s = _step.value;
        if (!Array.isArray(s.tag)) t[s.tag.id] = s.class;
        else
          try {
            for (var _iterator1 = s.tag[Symbol.iterator](), _step1; !(_iteratorNormalCompletion = (_step1 = _iterator1.next()).done); _iteratorNormalCompletion = true) {
              var o = _step1.value;
              t[o.id] = s.class;
            }
          } catch (err) {
            _didIteratorError = true;
            _iteratorError = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion && _iterator1.return != null) {
                _iterator1.return();
              }
            } finally {
              if (_didIteratorError) {
                throw _iteratorError;
              }
            }
          }
      }
    } catch (err) {
      _didIteratorError1 = true;
      _iteratorError1 = err;
    } finally {
      try {
        if (!_iteratorNormalCompletion1 && _iterator.return != null) {
          _iterator.return();
        }
      } finally {
        if (_didIteratorError1) {
          throw _iteratorError1;
        }
      }
    }
    var _ref = e || {},
      r = _ref.scope,
      tmp = _ref.all,
      n = tmp === void 0 ? null : tmp;
    return {
      style: (s) => {
        var o = n;
        var _iteratorNormalCompletion = true,
          _didIteratorError = false,
          _iteratorError = undefined,
          _iteratorNormalCompletion1 = true,
          _didIteratorError1 = false,
          _iteratorError1 = undefined;
        try {
          for (var _iterator = s[Symbol.iterator](), _step; !(_iteratorNormalCompletion1 = (_step = _iterator.next()).done); _iteratorNormalCompletion1 = true) {
            var u = _step.value;
            try {
              for (var _iterator1 = u.set[Symbol.iterator](), _step1; !(_iteratorNormalCompletion = (_step1 = _iterator1.next()).done); _iteratorNormalCompletion = true) {
                var l = _step1.value;
                var h = t[l.id];
                if (h) {
                  o = o ? o + " " + h : h;
                  break;
                }
              }
            } catch (err) {
              _didIteratorError = true;
              _iteratorError = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion && _iterator1.return != null) {
                  _iterator1.return();
                }
              } finally {
                if (_didIteratorError) {
                  throw _iteratorError;
                }
              }
            }
          }
        } catch (err) {
          _didIteratorError1 = true;
          _iteratorError1 = err;
        } finally {
          try {
            if (!_iteratorNormalCompletion1 && _iterator.return != null) {
              _iterator.return();
            }
          } finally {
            if (_didIteratorError1) {
              throw _iteratorError1;
            }
          }
        }
        return o;
      },
      scope: r,
    };
  }
  a(Ya, "tagHighlighter");
  function dw(i, e) {
    var t = null;
    var _iteratorNormalCompletion = true,
      _didIteratorError = false,
      _iteratorError = undefined;
    try {
      for (var _iterator = i[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
        var r = _step.value;
        var n = r.style(e);
        n && (t = t ? t + " " + n : n);
      }
    } catch (err) {
      _didIteratorError = true;
      _iteratorError = err;
    } finally {
      try {
        if (!_iteratorNormalCompletion && _iterator.return != null) {
          _iterator.return();
        }
      } finally {
        if (_didIteratorError) {
          throw _iteratorError;
        }
      }
    }
    return t;
  }
  a(dw, "highlightTags");
  function VD(i, e, t) {
    var r = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : 0,
      n = arguments.length > 4 && arguments[4] !== void 0 ? arguments[4] : i.length;
    var s = new Ua(r, Array.isArray(e) ? e : [e], t);
    s.highlightRange(i.cursor(), r, n, "", s.highlighters), s.flush(n);
  }
  a(VD, "highlightTree");
  var Ua =
    ((_class78 = class _class {
      startSpan(e, t) {
        t != this.class && (this.flush(e), e > this.at && (this.at = e), (this.class = t));
      }
      flush(e) {
        e > this.at && this.class && this.span(this.at, e, this.class);
      }
      highlightRange(e, t, r, n, s) {
        var o = e.type,
          u = e.from,
          l = e.to;
        if (u >= r || l <= t) return;
        o.isTop && (s = this.highlighters.filter((p) => !p.scope || p.scope(o)));
        var h = n,
          c = pw(e) || Dr.empty,
          f = dw(s, c.tags);
        if ((f && (h && (h += " "), (h += f), c.mode == 1 && (n += (n ? " " : "") + f)), this.startSpan(Math.max(t, u), h), c.opaque)) return;
        var d = e.tree && e.tree.prop(ue.mounted);
        if (d && d.overlay) {
          var p = e.node.enter(d.overlay[0].from + u, 1),
            m = this.highlighters.filter((g) => !g.scope || g.scope(d.tree.type)),
            b = e.firstChild();
          for (var g = 0, D = u; ; g++) {
            var F = g < d.overlay.length ? d.overlay[g] : null,
              w = F ? F.from + u : l,
              x = Math.max(t, D),
              E = Math.min(r, w);
            if (x < E && b) for (; e.from < E && (this.highlightRange(e, x, E, n, s), this.startSpan(Math.min(E, e.to), h), !(e.to >= w || !e.nextSibling())); );
            if (!F || w > r) break;
            (D = F.to + u), D > t && (this.highlightRange(p.cursor(), Math.max(t, F.from + u), Math.min(r, D), "", m), this.startSpan(Math.min(r, D), h));
          }
          b && e.parent();
        } else if (e.firstChild()) {
          d && (n = "");
          do
            if (!(e.to <= t)) {
              if (e.from >= r) break;
              this.highlightRange(e, t, r, n, s), this.startSpan(Math.min(r, e.to), h);
            }
          while (e.nextSibling());
          e.parent();
        }
      }
      constructor(e, t, r) {
        (this.at = e), (this.highlighters = t), (this.span = r), (this.class = "");
      }
    }),
    (() => {
      a(_class78, "HighlightBuilder");
    })(),
    _class78);
  function pw(i) {
    var e = i.type.prop(ND);
    for (; e && e.context && !i.matchContext(e.context); ) e = e.next;
    return e || null;
  }
  a(pw, "getStyleTags");
  var L = Mt.define,
    Ao = L(),
    oi = L(),
    qD = L(oi),
    ID = L(oi),
    ui = L(),
    Eo = L(ui),
    ja = L(ui),
    Rt = L(),
    ki = L(Rt),
    Ot = L(),
    Tt = L(),
    Ga = L(),
    gn = L(Ga),
    vo = L(),
    O = {
      comment: Ao,
      lineComment: L(Ao),
      blockComment: L(Ao),
      docComment: L(Ao),
      name: oi,
      variableName: L(oi),
      typeName: qD,
      tagName: L(qD),
      propertyName: ID,
      attributeName: L(ID),
      className: L(oi),
      labelName: L(oi),
      namespace: L(oi),
      macroName: L(oi),
      literal: ui,
      string: Eo,
      docString: L(Eo),
      character: L(Eo),
      attributeValue: L(Eo),
      number: ja,
      integer: L(ja),
      float: L(ja),
      bool: L(ui),
      regexp: L(ui),
      escape: L(ui),
      color: L(ui),
      url: L(ui),
      keyword: Ot,
      self: L(Ot),
      null: L(Ot),
      atom: L(Ot),
      unit: L(Ot),
      modifier: L(Ot),
      operatorKeyword: L(Ot),
      controlKeyword: L(Ot),
      definitionKeyword: L(Ot),
      moduleKeyword: L(Ot),
      operator: Tt,
      derefOperator: L(Tt),
      arithmeticOperator: L(Tt),
      logicOperator: L(Tt),
      bitwiseOperator: L(Tt),
      compareOperator: L(Tt),
      updateOperator: L(Tt),
      definitionOperator: L(Tt),
      typeOperator: L(Tt),
      controlOperator: L(Tt),
      punctuation: Ga,
      separator: L(Ga),
      bracket: gn,
      angleBracket: L(gn),
      squareBracket: L(gn),
      paren: L(gn),
      brace: L(gn),
      content: Rt,
      heading: ki,
      heading1: L(ki),
      heading2: L(ki),
      heading3: L(ki),
      heading4: L(ki),
      heading5: L(ki),
      heading6: L(ki),
      contentSeparator: L(Rt),
      list: L(Rt),
      quote: L(Rt),
      emphasis: L(Rt),
      strong: L(Rt),
      link: L(Rt),
      monospace: L(Rt),
      strikethrough: L(Rt),
      inserted: L(),
      deleted: L(),
      changed: L(),
      invalid: L(),
      meta: vo,
      documentMeta: L(vo),
      annotation: L(vo),
      processingInstruction: L(vo),
      definition: Mt.defineModifier(),
      constant: Mt.defineModifier(),
      function: Mt.defineModifier(),
      standard: Mt.defineModifier(),
      local: Mt.defineModifier(),
      special: Mt.defineModifier(),
    },
    RB = Ya([
      { tag: O.link, class: "tok-link" },
      { tag: O.heading, class: "tok-heading" },
      { tag: O.emphasis, class: "tok-emphasis" },
      { tag: O.strong, class: "tok-strong" },
      { tag: O.keyword, class: "tok-keyword" },
      { tag: O.atom, class: "tok-atom" },
      { tag: O.bool, class: "tok-bool" },
      { tag: O.url, class: "tok-url" },
      { tag: O.labelName, class: "tok-labelName" },
      { tag: O.inserted, class: "tok-inserted" },
      { tag: O.deleted, class: "tok-deleted" },
      { tag: O.literal, class: "tok-literal" },
      { tag: O.string, class: "tok-string" },
      { tag: O.number, class: "tok-number" },
      { tag: [O.regexp, O.escape, O.special(O.string)], class: "tok-string2" },
      { tag: O.variableName, class: "tok-variableName" },
      { tag: O.local(O.variableName), class: "tok-variableName tok-local" },
      { tag: O.definition(O.variableName), class: "tok-variableName tok-definition" },
      { tag: O.special(O.variableName), class: "tok-variableName2" },
      { tag: O.definition(O.propertyName), class: "tok-propertyName tok-definition" },
      { tag: O.typeName, class: "tok-typeName" },
      { tag: O.namespace, class: "tok-namespace" },
      { tag: O.className, class: "tok-className" },
      { tag: O.macroName, class: "tok-macroName" },
      { tag: O.propertyName, class: "tok-propertyName" },
      { tag: O.operator, class: "tok-operator" },
      { tag: O.comment, class: "tok-comment" },
      { tag: O.meta, class: "tok-meta" },
      { tag: O.invalid, class: "tok-invalid" },
      { tag: O.punctuation, class: "tok-punctuation" },
    ]);
  var Ka,
    br = new ue();
  function gw(i) {
    return G.define({ combine: i ? (e) => e.concat(i) : void 0 });
  }
  a(gw, "defineLanguageFacet");
  var Dw = new ue(),
    tt =
      ((_class79 = class _class {
        isActiveAt(e, t) {
          var r = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : -1;
          return zD(e, t, r).type.prop(br) == this.data;
        }
        findRegions(e) {
          var _t;
          var t = e.facet(Fr);
          if (((_t = t) === null || _t === void 0 ? void 0 : _t.data) == this.data) return [{ from: 0, to: e.doc.length }];
          if (!t || !t.allowsNesting) return [];
          var r = [],
            n = a((s, o) => {
              if (s.prop(br) == this.data) {
                r.push({ from: o, to: o + s.length });
                return;
              }
              var u = s.prop(ue.mounted);
              if (u) {
                if (u.tree.prop(br) == this.data) {
                  var _iteratorNormalCompletion = true,
                    _didIteratorError = false,
                    _iteratorError = undefined;
                  if (u.overlay)
                    try {
                      for (var _iterator = u.overlay[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
                        var l = _step.value;
                        r.push({ from: l.from + o, to: l.to + o });
                      }
                    } catch (err) {
                      _didIteratorError = true;
                      _iteratorError = err;
                    } finally {
                      try {
                        if (!_iteratorNormalCompletion && _iterator.return != null) {
                          _iterator.return();
                        }
                      } finally {
                        if (_didIteratorError) {
                          throw _iteratorError;
                        }
                      }
                    }
                  else r.push({ from: o, to: o + s.length });
                  return;
                } else if (u.overlay) {
                  var l1 = r.length;
                  if ((n(u.tree, u.overlay[0].from + o), r.length > l1)) return;
                }
              }
              for (var l2 = 0; l2 < s.children.length; l2++) {
                var h = s.children[l2];
                h instanceof Be && n(h, s.positions[l2] + o);
              }
            }, "explore");
          return n(wi(e), 0), r;
        }
        get allowsNesting() {
          return !0;
        }
        constructor(e, t, ref, ref1) {
          var r = ref === void 0 ? [] : ref,
            n = ref1 === void 0 ? "" : ref1;
          (this.data = e),
            (this.name = n),
            Ae.prototype.hasOwnProperty("tree") ||
              Object.defineProperty(Ae.prototype, "tree", {
                get() {
                  return wi(this);
                },
              }),
            (this.parser = t),
            (this.extension = [
              Fr.of(this),
              Ae.languageData.of((s, o, u) => {
                var l = zD(s, o, u),
                  h = l.type.prop(br);
                if (!h) return [];
                var c = s.facet(h),
                  f = l.type.prop(Dw);
                if (f) {
                  var d = l.resolve(o - l.from, u);
                  var _iteratorNormalCompletion = true,
                    _didIteratorError = false,
                    _iteratorError = undefined;
                  try {
                    for (var _iterator = f[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
                      var p = _step.value;
                      if (p.test(d, s)) {
                        var m = s.facet(p.facet);
                        return p.type == "replace" ? m : m.concat(c);
                      }
                    }
                  } catch (err) {
                    _didIteratorError = true;
                    _iteratorError = err;
                  } finally {
                    try {
                      if (!_iteratorNormalCompletion && _iterator.return != null) {
                        _iterator.return();
                      }
                    } finally {
                      if (_didIteratorError) {
                        throw _iteratorError;
                      }
                    }
                  }
                }
                return c;
              }),
            ].concat(r));
        }
      }),
      (() => {
        a(_class79, "Language");
      })(),
      _class79);
  tt.setState = pe.define();
  function zD(i, e, t) {
    var r = i.facet(Fr),
      n = wi(i).topNode;
    if (!r || r.allowsNesting) for (var s = n; s; s = s.enter(e, t, Re.ExcludeBuffers)) s.type.isTop && (n = s);
    return n;
  }
  a(zD, "topNodeAt");
  var xo =
    ((_i55 = class i extends tt {
      static define(e) {
        var t = gw(e.languageData);
        return new i(t, e.parser.configure({ props: [br.add((r) => (r.isTop ? t : void 0))] }), e.name);
      }
      configure(e, t) {
        return new i(this.data, this.parser.configure(e), t || this.name);
      }
      get allowsNesting() {
        return this.parser.hasWrappers();
      }
      constructor(e, t, r) {
        super(e, t, [], r), (this.parser = t);
      }
    }),
    (() => {
      a(_i55, "LRLanguage");
    })(),
    _i55);
  function wi(i) {
    var e = i.field(tt.state, !1);
    return e ? e.tree : Be.empty;
  }
  a(wi, "syntaxTree");
  var Za =
      ((_class80 = class _class {
        get length() {
          return this.doc.length;
        }
        syncTo(e) {
          return (this.string = this.cursor.next(e - this.cursorPos).value), (this.cursorPos = e + this.string.length), this.cursorPos - this.string.length;
        }
        chunk(e) {
          return this.syncTo(e), this.string;
        }
        get lineChunks() {
          return !0;
        }
        read(e, t) {
          var r = this.cursorPos - this.string.length;
          return e < r || t >= this.cursorPos ? this.doc.sliceString(e, t) : this.string.slice(e - r, t - r);
        }
        constructor(e) {
          (this.doc = e), (this.cursorPos = 0), (this.string = ""), (this.cursor = e.iter());
        }
      }),
      (() => {
        a(_class80, "DocInput");
      })(),
      _class80),
    Dn = null,
    eh =
      ((_i56 = class i {
        static create(e, t, r) {
          return new i(e, t, [], Be.empty, 0, r, [], null);
        }
        startParse() {
          return this.parser.startParse(new Za(this.state.doc), this.fragments);
        }
        work(e, t) {
          return (
            t != null && t >= this.state.doc.length && (t = void 0),
            this.tree != Be.empty && this.isDone(t !== null && t !== void 0 ? t : this.state.doc.length)
              ? (this.takeTree(), !0)
              : this.withContext(() => {
                  var r;
                  if (typeof e == "number") {
                    var n = Date.now() + e;
                    e = a(() => Date.now() > n, "until");
                  }
                  for (this.parse || (this.parse = this.startParse()), t != null && (this.parse.stoppedAt == null || this.parse.stoppedAt > t) && t < this.state.doc.length && this.parse.stopAt(t); ; ) {
                    var n1 = this.parse.advance();
                    if (n1)
                      if (((this.fragments = this.withoutTempSkipped(vi.addTree(n1, this.fragments, this.parse.stoppedAt != null))), (this.treeLen = (r = this.parse.stoppedAt) !== null && r !== void 0 ? r : this.state.doc.length), (this.tree = n1), (this.parse = null), this.treeLen < (t !== null && t !== void 0 ? t : this.state.doc.length))) this.parse = this.startParse();
                      else return !0;
                    if (e()) return !1;
                  }
                })
          );
        }
        takeTree() {
          var e, t;
          this.parse &&
            (e = this.parse.parsedPos) >= this.treeLen &&
            ((this.parse.stoppedAt == null || this.parse.stoppedAt > e) && this.parse.stopAt(e),
            this.withContext(() => {
              for (; !(t = this.parse.advance()); );
            }),
            (this.treeLen = e),
            (this.tree = t),
            (this.fragments = this.withoutTempSkipped(vi.addTree(this.tree, this.fragments, !0))),
            (this.parse = null));
        }
        withContext(e) {
          var t = Dn;
          Dn = this;
          try {
            return e();
          } finally {
            Dn = t;
          }
        }
        withoutTempSkipped(e) {
          for (var t; (t = this.tempSkipped.pop()); ) e = HD(e, t.from, t.to);
          return e;
        }
        changes(e, t) {
          var _this = this,
            r = _this.fragments,
            n = _this.tree,
            s = _this.treeLen,
            o = _this.viewport,
            u = _this.skipped;
          if ((this.takeTree(), !e.empty)) {
            var l = [];
            if ((e.iterChangedRanges((h, c, f, d) => l.push({ fromA: h, toA: c, fromB: f, toB: d })), (r = vi.applyChanges(r, l)), (n = Be.empty), (s = 0), (o = { from: e.mapPos(o.from, -1), to: e.mapPos(o.to, 1) }), this.skipped.length)) {
              u = [];
              var _iteratorNormalCompletion = true,
                _didIteratorError = false,
                _iteratorError = undefined;
              try {
                for (var _iterator = this.skipped[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
                  var h = _step.value;
                  var c = e.mapPos(h.from, 1),
                    f = e.mapPos(h.to, -1);
                  c < f && u.push({ from: c, to: f });
                }
              } catch (err) {
                _didIteratorError = true;
                _iteratorError = err;
              } finally {
                try {
                  if (!_iteratorNormalCompletion && _iterator.return != null) {
                    _iterator.return();
                  }
                } finally {
                  if (_didIteratorError) {
                    throw _iteratorError;
                  }
                }
              }
            }
          }
          return new i(this.parser, t, r, n, s, o, u, this.scheduleOn);
        }
        updateViewport(e) {
          if (this.viewport.from == e.from && this.viewport.to == e.to) return !1;
          this.viewport = e;
          var t = this.skipped.length;
          for (var r = 0; r < this.skipped.length; r++) {
            var _this_skipped_r = this.skipped[r],
              n = _this_skipped_r.from,
              s = _this_skipped_r.to;
            n < e.to && s > e.from && ((this.fragments = HD(this.fragments, n, s)), this.skipped.splice(r--, 1));
          }
          return this.skipped.length >= t ? !1 : (this.reset(), !0);
        }
        reset() {
          this.parse && (this.takeTree(), (this.parse = null));
        }
        skipUntilInView(e, t) {
          this.skipped.push({ from: e, to: t });
        }
        static getSkippingParser(e) {
          return new (class extends gr {
            createParse(t, r, n) {
              var s = n[0].from,
                o = n[n.length - 1].to;
              return {
                parsedPos: s,
                advance() {
                  var l = Dn;
                  if (l) {
                    var _iteratorNormalCompletion = true,
                      _didIteratorError = false,
                      _iteratorError = undefined;
                    try {
                      for (var _iterator = n[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
                        var h = _step.value;
                        l.tempSkipped.push(h);
                      }
                    } catch (err) {
                      _didIteratorError = true;
                      _iteratorError = err;
                    } finally {
                      try {
                        if (!_iteratorNormalCompletion && _iterator.return != null) {
                          _iterator.return();
                        }
                      } finally {
                        if (_didIteratorError) {
                          throw _iteratorError;
                        }
                      }
                    }
                    e && (l.scheduleOn = l.scheduleOn ? Promise.all([l.scheduleOn, e]) : e);
                  }
                  return (this.parsedPos = o), new Be(Ve.none, [], [], o - s);
                },
                stoppedAt: null,
                stopAt() {},
              };
            }
          })();
        }
        isDone(e) {
          e = Math.min(e, this.state.doc.length);
          var t = this.fragments;
          return this.treeLen >= e && t.length && t[0].from == 0 && t[0].to >= e;
        }
        static get() {
          return Dn;
        }
        constructor(e, t, ref, n, s, o, u, l) {
          var r = ref === void 0 ? [] : ref;
          (this.parser = e), (this.state = t), (this.fragments = r), (this.tree = n), (this.treeLen = s), (this.viewport = o), (this.skipped = u), (this.scheduleOn = l), (this.parse = null), (this.tempSkipped = []);
        }
      }),
      (() => {
        a(_i56, "ParseContext");
      })(),
      _i56);
  function HD(i, e, t) {
    return vi.applyChanges(i, [{ fromA: e, toA: t, fromB: e, toB: t }]);
  }
  a(HD, "cutFragments");
  var Fn =
    ((_i57 = class i {
      apply(e) {
        if (!e.docChanged && this.tree == this.context.tree) return this;
        var t = this.context.changes(e.changes, e.state),
          r = this.context.treeLen == e.startState.doc.length ? void 0 : Math.max(e.changes.mapPos(this.context.treeLen), t.viewport.to);
        return t.work(20, r) || t.takeTree(), new i(t);
      }
      static init(e) {
        var t = Math.min(3e3, e.doc.length),
          r = eh.create(e.facet(Fr).parser, e, { from: 0, to: t });
        return r.work(20, t) || r.takeTree(), new i(r);
      }
      constructor(e) {
        (this.context = e), (this.tree = e.tree);
      }
    }),
    (() => {
      a(_i57, "LanguageState");
    })(),
    _i57);
  tt.state = Ie.define({
    create: Fn.init,
    update(i, e) {
      var _iteratorNormalCompletion = true,
        _didIteratorError = false,
        _iteratorError = undefined;
      try {
        for (var _iterator = e.effects[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
          var t = _step.value;
          if (t.is(tt.setState)) return t.value;
        }
      } catch (err) {
        _didIteratorError = true;
        _iteratorError = err;
      } finally {
        try {
          if (!_iteratorNormalCompletion && _iterator.return != null) {
            _iterator.return();
          }
        } finally {
          if (_didIteratorError) {
            throw _iteratorError;
          }
        }
      }
      return e.startState.facet(Fr) != e.state.facet(Fr) ? Fn.init(e.state) : i.apply(e);
    },
  });
  var UD = a((i) => {
    var e = setTimeout(() => i(), 500);
    return () => clearTimeout(e);
  }, "requestIdle");
  typeof requestIdleCallback < "u" &&
    (UD = a((i) => {
      var e = -1,
        t = setTimeout(() => {
          e = requestIdleCallback(i, { timeout: 500 - 100 });
        }, 100);
      return () => (e < 0 ? clearTimeout(t) : cancelIdleCallback(e));
    }, "requestIdle"));
  var Xa = typeof navigator < "u" && !((Ka = navigator.scheduling) === null || Ka === void 0) && Ka.isInputPending ? () => navigator.scheduling.isInputPending() : null,
    bw = Ye.fromClass(
      ((_class81 = class _class {
        update(e) {
          var t = this.view.state.field(tt.state).context;
          (t.updateViewport(e.view.viewport) || this.view.viewport.to > t.treeLen) && this.scheduleWork(), e.docChanged && (this.view.hasFocus && (this.chunkBudget += 50), this.scheduleWork()), this.checkAsyncSchedule(t);
        }
        scheduleWork() {
          if (this.working) return;
          var _this_view = this.view,
            e = _this_view.state,
            t = e.field(tt.state);
          (t.tree != t.context.tree || !t.context.isDone(e.doc.length)) && (this.working = UD(this.work));
        }
        work(e) {
          this.working = null;
          var t = Date.now();
          if ((this.chunkEnd < t && (this.chunkEnd < 0 || this.view.hasFocus) && ((this.chunkEnd = t + 3e4), (this.chunkBudget = 3e3)), this.chunkBudget <= 0)) return;
          var _this_view = this.view,
            r = _this_view.state,
            _this_view_viewport = _this_view.viewport,
            n = _this_view_viewport.to,
            s = r.field(tt.state);
          if (s.tree == s.context.tree && s.context.isDone(n + 1e5)) return;
          var o = Date.now() + Math.min(this.chunkBudget, 100, e && !Xa ? Math.max(25, e.timeRemaining() - 5) : 1e9),
            u = s.context.treeLen < n && r.doc.length > n + 1e3,
            l = s.context.work(() => (Xa && Xa()) || Date.now() > o, n + (u ? 0 : 1e5));
          (this.chunkBudget -= Date.now() - t), (l || this.chunkBudget <= 0) && (s.context.takeTree(), this.view.dispatch({ effects: tt.setState.of(new Fn(s.context)) })), this.chunkBudget > 0 && !(l && !u) && this.scheduleWork(), this.checkAsyncSchedule(s.context);
        }
        checkAsyncSchedule(e) {
          e.scheduleOn &&
            (this.workScheduled++,
            e.scheduleOn
              .then(() => this.scheduleWork())
              .catch((t) => ht(this.view.state, t))
              .then(() => this.workScheduled--),
            (e.scheduleOn = null));
        }
        destroy() {
          this.working && this.working();
        }
        isWorking() {
          return !!(this.working || this.workScheduled > 0);
        }
        constructor(e) {
          (this.view = e), (this.working = null), (this.workScheduled = 0), (this.chunkEnd = -1), (this.chunkBudget = -1), (this.work = this.work.bind(this)), this.scheduleWork();
        }
      }),
      (() => {
        a(_class81, "ParseWorker");
      })(),
      _class81),
      {
        eventHandlers: {
          focus() {
            this.scheduleWork();
          },
        },
      }
    ),
    Fr = G.define({
      combine(i) {
        return i.length ? i[0] : null;
      },
      enables: (i) => [
        tt.state,
        bw,
        re.contentAttributes.compute([i], (e) => {
          var t = e.facet(i);
          return t && t.name ? { "data-language": t.name } : {};
        }),
      ],
    }),
    So =
      ((_class82 = class _class {
        constructor(e, ref) {
          var t = ref === void 0 ? [] : ref;
          (this.language = e), (this.support = t), (this.extension = [e, t]);
        }
      }),
      (() => {
        a(_class82, "LanguageSupport");
      })(),
      _class82);
  var Bo = G.define({
    combine: (i) => {
      if (!i.length) return "  ";
      var e = i[0];
      if (!e || /\S/.test(e) || Array.from(e).some((t) => t != e[0])) throw new Error("Invalid indent unit: " + JSON.stringify(i[0]));
      return e;
    },
  });
  function GD(i) {
    var e = i.facet(Bo);
    return e.charCodeAt(0) == 9 ? i.tabSize * e.length : e.length;
  }
  a(GD, "getIndentUnit");
  function YD(i, e) {
    var t = "",
      r = i.tabSize,
      n = i.facet(Bo)[0];
    if (n == "	") {
      for (; e >= r; ) (t += "	"), (e -= r);
      n = " ";
    }
    for (var s = 0; s < e; s++) t += n;
    return t;
  }
  a(YD, "indentString");
  var yr =
      ((_i58 = class i {
        static define(e, t) {
          return new i(e, t || {});
        }
        constructor(e, t) {
          this.specs = e;
          var r;
          function n(u) {
            var l = ut.newName();
            return ((r || (r = Object.create(null)))["." + l] = u), l;
          }
          a(n, "def");
          var s = typeof t.all == "string" ? t.all : t.all ? n(t.all) : void 0,
            o = t.scope;
          (this.scope = o instanceof tt ? (u) => u.prop(br) == o.data : o ? (u) => u == o : void 0),
            (this.style = Ya(
              e.map((u) => ({ tag: u.tag, class: u.class || n(Object.assign({}, u, { tag: null })) })),
              { all: s }
            ).style),
            (this.module = r ? new ut(r) : null),
            (this.themeType = t.themeType);
        }
      }),
      (() => {
        a(_i58, "HighlightStyle");
      })(),
      _i58),
    th = G.define(),
    KD = G.define({
      combine(i) {
        return i.length ? [i[0]] : null;
      },
    });
  function Qa(i) {
    var e = i.facet(th);
    return e.length ? e : i.facet(KD);
  }
  a(Qa, "getHighlighters");
  function XD(i, e) {
    var _e;
    var t = [Fw],
      r;
    return i instanceof yr && (i.module && t.push(re.styleModule.of(i.module)), (r = i.themeType)), ((_e = e) === null || _e === void 0 ? void 0 : _e.fallback) ? t.push(KD.of(i)) : r ? t.push(th.computeN([re.darkTheme], (n) => (n.facet(re.darkTheme) == (r == "dark") ? [i] : []))) : t.push(th.of(i)), t;
  }
  a(XD, "syntaxHighlighting");
  var ih =
      ((_class83 = class _class {
        update(e) {
          var t = wi(e.state),
            r = Qa(e.state),
            n = r != Qa(e.startState);
          t.length < e.view.viewport.to && !n && t.type == this.tree.type ? (this.decorations = this.decorations.map(e.changes)) : (t != this.tree || e.viewportChanged || n) && ((this.tree = t), (this.decorations = this.buildDeco(e.view, r)));
        }
        buildDeco(e, t) {
          if (!t || !this.tree.length) return he.none;
          var r = new Ci();
          var _iteratorNormalCompletion = true,
            _didIteratorError = false,
            _iteratorError = undefined;
          try {
            for (var _iterator = e.visibleRanges[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
              var _step_value = _step.value,
                n = _step_value.from,
                s = _step_value.to;
              VD(
                this.tree,
                t,
                (o, u, l) => {
                  r.add(o, u, this.markCache[l] || (this.markCache[l] = he.mark({ class: l })));
                },
                n,
                s
              );
            }
          } catch (err) {
            _didIteratorError = true;
            _iteratorError = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion && _iterator.return != null) {
                _iterator.return();
              }
            } finally {
              if (_didIteratorError) {
                throw _iteratorError;
              }
            }
          }
          return r.finish();
        }
        constructor(e) {
          (this.markCache = Object.create(null)), (this.tree = wi(e.state)), (this.decorations = this.buildDeco(e, Qa(e.state)));
        }
      }),
      (() => {
        a(_class83, "TreeHighlighter");
      })(),
      _class83),
    Fw = rr.high(Ye.fromClass(ih, { decorations: (i) => i.decorations })),
    zB = yr.define([
      { tag: O.meta, color: "#404740" },
      { tag: O.link, textDecoration: "underline" },
      { tag: O.heading, textDecoration: "underline", fontWeight: "bold" },
      { tag: O.emphasis, fontStyle: "italic" },
      { tag: O.strong, fontWeight: "bold" },
      { tag: O.strikethrough, textDecoration: "line-through" },
      { tag: O.keyword, color: "#708" },
      { tag: [O.atom, O.bool, O.url, O.contentSeparator, O.labelName], color: "#219" },
      { tag: [O.literal, O.inserted], color: "#164" },
      { tag: [O.string, O.deleted], color: "#a11" },
      { tag: [O.regexp, O.escape, O.special(O.string)], color: "#e40" },
      { tag: O.definition(O.variableName), color: "#00f" },
      { tag: O.local(O.variableName), color: "#30a" },
      { tag: [O.typeName, O.namespace], color: "#085" },
      { tag: O.className, color: "#167" },
      { tag: [O.special(O.variableName), O.macroName], color: "#256" },
      { tag: O.definition(O.propertyName), color: "#00c" },
      { tag: O.comment, color: "#940" },
      { tag: O.invalid, color: "#f00" },
    ]),
    yw = re.baseTheme({ "&.cm-focused .cm-matchingBracket": { backgroundColor: "#328c8252" }, "&.cm-focused .cm-nonmatchingBracket": { backgroundColor: "#bb555544" } }),
    QD = 1e4,
    JD = "()[]{}",
    ZD = G.define({
      combine(i) {
        return Wt(i, { afterCursor: !0, brackets: JD, maxScanDistance: QD, renderMatch: Ew });
      },
    }),
    Cw = he.mark({ class: "cm-matchingBracket" }),
    Aw = he.mark({ class: "cm-nonmatchingBracket" });
  function Ew(i) {
    var e = [],
      t = i.matched ? Cw : Aw;
    return e.push(t.range(i.start.from, i.start.to)), i.end && e.push(t.range(i.end.from, i.end.to)), e;
  }
  a(Ew, "defaultRenderMatch");
  var vw = Ie.define({
      create() {
        return he.none;
      },
      update(i, e) {
        if (!e.docChanged && !e.selection) return i;
        var t = [],
          r = e.state.facet(ZD);
        var _iteratorNormalCompletion = true,
          _didIteratorError = false,
          _iteratorError = undefined;
        try {
          for (var _iterator = e.state.selection.ranges[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
            var n = _step.value;
            if (!n.empty) continue;
            var s = bn(e.state, n.head, -1, r) || (n.head > 0 && bn(e.state, n.head - 1, 1, r)) || (r.afterCursor && (bn(e.state, n.head, 1, r) || (n.head < e.state.doc.length && bn(e.state, n.head + 1, -1, r))));
            s && (t = t.concat(r.renderMatch(s, e.state)));
          }
        } catch (err) {
          _didIteratorError = true;
          _iteratorError = err;
        } finally {
          try {
            if (!_iteratorNormalCompletion && _iterator.return != null) {
              _iterator.return();
            }
          } finally {
            if (_didIteratorError) {
              throw _iteratorError;
            }
          }
        }
        return he.set(t, !0);
      },
      provide: (i) => re.decorations.from(i),
    }),
    kw = [vw, yw];
  function e1() {
    var i = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};
    return [ZD.of(i), kw];
  }
  a(e1, "bracketMatching");
  var ww = new ue();
  function rh(i, e, t) {
    var r = i.prop(e < 0 ? ue.openedBy : ue.closedBy);
    if (r) return r;
    if (i.name.length == 1) {
      var n = t.indexOf(i.name);
      if (n > -1 && n % 2 == (e < 0 ? 1 : 0)) return [t[n + e]];
    }
    return null;
  }
  a(rh, "matchingNodes");
  function nh(i) {
    var e = i.type.prop(ww);
    return e ? e(i.node) : i;
  }
  a(nh, "findHandle");
  function bn(i, e, t) {
    var r = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : {};
    var n = r.maxScanDistance || QD,
      s = r.brackets || JD,
      o = wi(i),
      u = o.resolveInner(e, t);
    for (var l = u; l; l = l.parent) {
      var h = rh(l.type, t, s);
      if (h && l.from < l.to) {
        var c = nh(l);
        if (c && (t > 0 ? e >= c.from && e < c.to : e > c.from && e <= c.to)) return xw(i, e, t, l, c, h, s);
      }
    }
    return Sw(i, e, t, o, u.type, n, s);
  }
  a(bn, "matchBrackets");
  function xw(i, e, t, r, n, s, o) {
    var _u_cursor, _this;
    var u = r.parent,
      l = { from: n.from, to: n.to },
      h = 0,
      c = (_this = u) === null || _this === void 0 ? void 0 : (_u_cursor = _this.cursor) === null || _u_cursor === void 0 ? void 0 : _u_cursor.call(_this);
    if (c && (t < 0 ? c.childBefore(r.from) : c.childAfter(r.to)))
      do
        if (t < 0 ? c.to <= r.from : c.from >= r.to) {
          if (h == 0 && s.indexOf(c.type.name) > -1 && c.from < c.to) {
            var f = nh(c);
            return { start: l, end: f ? { from: f.from, to: f.to } : void 0, matched: !0 };
          } else if (rh(c.type, t, o)) h++;
          else if (rh(c.type, -t, o)) {
            if (h == 0) {
              var f1 = nh(c);
              return { start: l, end: f1 && f1.from < f1.to ? { from: f1.from, to: f1.to } : void 0, matched: !1 };
            }
            h--;
          }
        }
      while (t < 0 ? c.prevSibling() : c.nextSibling());
    return { start: l, matched: !1 };
  }
  a(xw, "matchMarkedBrackets");
  function Sw(i, e, t, r, n, s, o) {
    var u = t < 0 ? i.sliceDoc(e - 1, e) : i.sliceDoc(e, e + 1),
      l = o.indexOf(u);
    if (l < 0 || (l % 2 == 0) != t > 0) return null;
    var h = { from: t < 0 ? e - 1 : e, to: t > 0 ? e + 1 : e },
      c = i.doc.iterRange(e, t > 0 ? i.doc.length : 0),
      f = 0;
    for (var d = 0; !c.next().done && d <= s; ) {
      var p = c.value;
      t < 0 && (d += p.length);
      var m = e + d * t;
      for (var b = t > 0 ? 0 : p.length - 1, g = t > 0 ? p.length : -1; b != g; b += t) {
        var D = o.indexOf(p[b]);
        if (!(D < 0 || r.resolveInner(m + b, 1).type != n))
          if ((D % 2 == 0) == t > 0) f++;
          else {
            if (f == 1) return { start: h, end: { from: m + b, to: m + b + 1 }, matched: D >> 1 == l >> 1 };
            f--;
          }
      }
      t > 0 && (d += p.length);
    }
    return c.done ? { start: h, matched: !1 } : null;
  }
  a(Sw, "matchPlainBrackets");
  var Bw = Object.create(null),
    WD = [Ve.none];
  var jD = [],
    _w = Object.create(null);
  for (
    var _i67 = 0,
      _iter1 = [
        ["variable", "variableName"],
        ["variable-2", "variableName.special"],
        ["string-2", "string.special"],
        ["def", "variableName.definition"],
        ["tag", "tagName"],
        ["attribute", "attributeName"],
        ["type", "typeName"],
        ["builtin", "variableName.standard"],
        ["qualifier", "modifier"],
        ["error", "invalid"],
        ["header", "heading"],
        ["property", "propertyName"],
      ];
    _i67 < _iter1.length;
    _i67++
  ) {
    var _iter__i = _sliced_to_array(_iter1[_i67], 2),
      i2 = _iter__i[0],
      e2 = _iter__i[1];
    _w[i2] = Ow(Bw, e2);
  }
  function Ja(i, e) {
    jD.indexOf(i) > -1 || (jD.push(i), console.warn(e));
  }
  a(Ja, "warnForPart");
  function Ow(i, e) {
    var t = null;
    var _iteratorNormalCompletion = true,
      _didIteratorError = false,
      _iteratorError = undefined;
    try {
      for (var _iterator = e.split(".")[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
        var s = _step.value;
        var o = i[s] || O[s];
        o ? (typeof o == "function" ? (t ? (t = o(t)) : Ja(s, "Modifier ".concat(s, " used at start of tag"))) : t ? Ja(s, "Tag ".concat(s, " used as modifier")) : (t = o)) : Ja(s, "Unknown highlighting tag ".concat(s));
      }
    } catch (err) {
      _didIteratorError = true;
      _iteratorError = err;
    } finally {
      try {
        if (!_iteratorNormalCompletion && _iterator.return != null) {
          _iterator.return();
        }
      } finally {
        if (_didIteratorError) {
          throw _iteratorError;
        }
      }
    }
    if (!t) return 0;
    var r = e.replace(/ /g, "_"),
      n = Ve.define({ id: WD.length, name: r, props: [wo({ [r]: t })] });
    return WD.push(n), n.id;
  }
  a(Ow, "createTokenType");
  var oh = ot.define(),
    Tw = ot.define(),
    Rw = G.define(),
    t1 = G.define({
      combine(i) {
        return Wt(i, { minDepth: 100, newGroupDelay: 500, joinToEvent: (e, t) => t }, { minDepth: Math.max, newGroupDelay: Math.min, joinToEvent: (e, t) => (r, n) => e(r, n) || t(r, n) });
      },
    });
  function Mw(i) {
    var e = 0;
    return i.iterChangedRanges((t, r) => (e = r)), e;
  }
  a(Mw, "changeEnd");
  var i11 = Ie.define({
    create() {
      return xi.empty;
    },
    update(i, e) {
      var t = e.state.facet(t1),
        r = e.annotation(oh);
      if (r) {
        var l = e.docChanged ? Q.single(Mw(e.changes)) : void 0,
          h = Ct.fromTransaction(e, l),
          c = r.side,
          f = c == 0 ? i.undone : i.done;
        return h ? (f = _o(f, f.length, t.minDepth, h)) : (f = o1(f, e.startState.selection)), new xi(c == 0 ? r.rest : f, c == 0 ? f : r.rest);
      }
      var n = e.annotation(Tw);
      if (((n == "full" || n == "before") && (i = i.isolate()), e.annotation(Pe.addToHistory) === !1)) return e.changes.empty ? i : i.addMapping(e.changes.desc);
      var s = Ct.fromTransaction(e),
        o = e.annotation(Pe.time),
        u = e.annotation(Pe.userEvent);
      return s ? (i = i.addChanges(s, o, u, t, e)) : e.selection && (i = i.addSelection(e.startState.selection, o, u, t.newGroupDelay)), (n == "full" || n == "after") && (i = i.isolate()), i;
    },
    toJSON(i) {
      return { done: i.done.map((e) => e.toJSON()), undone: i.undone.map((e) => e.toJSON()) };
    },
    fromJSON(i) {
      return new xi(i.done.map(Ct.fromJSON), i.undone.map(Ct.fromJSON));
    },
  });
  function r1() {
    var i = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};
    return [
      i11,
      t1.of(i),
      re.domEventHandlers({
        beforeinput(e, t) {
          var r = e.inputType == "historyUndo" ? n1 : e.inputType == "historyRedo" ? uh : null;
          return r ? (e.preventDefault(), r(t)) : !1;
        },
      }),
    ];
  }
  a(r1, "history");
  function Oo(i, e) {
    return function (param) {
      var t = param.state,
        r = param.dispatch;
      if (!e && t.readOnly) return !1;
      var n = t.field(i11, !1);
      if (!n) return !1;
      var s = n.pop(i, t, e);
      return s ? (r(s), !0) : !1;
    };
  }
  a(Oo, "cmd");
  var n1 = Oo(0, !1),
    uh = Oo(1, !1),
    $w = Oo(0, !0),
    Pw = Oo(1, !0);
  var Ct =
    ((_i59 = class i {
      setSelAfter(e) {
        return new i(this.changes, this.effects, this.mapped, this.startSelection, e);
      }
      toJSON() {
        var e, t, r;
        return { changes: (e = this.changes) === null || e === void 0 ? void 0 : e.toJSON(), mapped: (t = this.mapped) === null || t === void 0 ? void 0 : t.toJSON(), startSelection: (r = this.startSelection) === null || r === void 0 ? void 0 : r.toJSON(), selectionsAfter: this.selectionsAfter.map((n) => n.toJSON()) };
      }
      static fromJSON(e) {
        return new i(e.changes && Ue.fromJSON(e.changes), [], e.mapped && zt.fromJSON(e.mapped), e.startSelection && Q.fromJSON(e.startSelection), e.selectionsAfter.map(Q.fromJSON));
      }
      static fromTransaction(e, t) {
        var r = ft;
        var _iteratorNormalCompletion = true,
          _didIteratorError = false,
          _iteratorError = undefined;
        try {
          for (var _iterator = e.startState.facet(Rw)[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
            var n = _step.value;
            var s = n(e);
            s.length && (r = r.concat(s));
          }
        } catch (err) {
          _didIteratorError = true;
          _iteratorError = err;
        } finally {
          try {
            if (!_iteratorNormalCompletion && _iterator.return != null) {
              _iterator.return();
            }
          } finally {
            if (_didIteratorError) {
              throw _iteratorError;
            }
          }
        }
        return !r.length && e.changes.empty ? null : new i(e.changes.invert(e.startState.doc), r, void 0, t || e.startState.selection, ft);
      }
      static selection(e) {
        return new i(void 0, ft, void 0, void 0, e);
      }
      constructor(e, t, r, n, s) {
        (this.changes = e), (this.effects = t), (this.mapped = r), (this.startSelection = n), (this.selectionsAfter = s);
      }
    }),
    (() => {
      a(_i59, "HistEvent");
    })(),
    _i59);
  function _o(i, e, t, r) {
    var n = e + 1 > t + 20 ? e - t - 1 : 0,
      s = i.slice(n, e);
    return s.push(r), s;
  }
  a(_o, "updateBranch");
  function Lw(i, e) {
    var t = [],
      r = !1;
    return (
      i.iterChangedRanges((n, s) => t.push(n, s)),
      e.iterChangedRanges((n, s, o, u) => {
        for (var l = 0; l < t.length; ) {
          var h = t[l++],
            c = t[l++];
          u >= h && o <= c && (r = !0);
        }
      }),
      r
    );
  }
  a(Lw, "isAdjacent");
  function qw(i, e) {
    return i.ranges.length == e.ranges.length && i.ranges.filter((t, r) => t.empty != e.ranges[r].empty).length === 0;
  }
  a(qw, "eqSelectionShape");
  function s1(i, e) {
    return i.length ? (e.length ? i.concat(e) : i) : e;
  }
  a(s1, "conc");
  var ft = [],
    Iw = 200;
  function o1(i, e) {
    if (i.length) {
      var t = i[i.length - 1],
        r = t.selectionsAfter.slice(Math.max(0, t.selectionsAfter.length - Iw));
      return r.length && r[r.length - 1].eq(e) ? i : (r.push(e), _o(i, i.length - 1, 1e9, t.setSelAfter(r)));
    } else return [Ct.selection([e])];
  }
  a(o1, "addSelection");
  function Nw(i) {
    var e = i[i.length - 1],
      t = i.slice();
    return (t[i.length - 1] = e.setSelAfter(e.selectionsAfter.slice(0, e.selectionsAfter.length - 1))), t;
  }
  a(Nw, "popSelection");
  function sh(i, e) {
    if (!i.length) return i;
    var t = i.length,
      r = ft;
    for (; t; ) {
      var n = Vw(i[t - 1], e, r);
      if ((n.changes && !n.changes.empty) || n.effects.length) {
        var s = i.slice(0, t);
        return (s[t - 1] = n), s;
      } else (e = n.mapped), t--, (r = n.selectionsAfter);
    }
    return r.length ? [Ct.selection(r)] : ft;
  }
  a(sh, "addMappingToBranch");
  function Vw(i, e, t) {
    var r = s1(i.selectionsAfter.length ? i.selectionsAfter.map((u) => u.map(e)) : ft, t);
    if (!i.changes) return Ct.selection(r);
    var n = i.changes.map(e),
      s = e.mapDesc(i.changes, !0),
      o = i.mapped ? i.mapped.composeDesc(s) : s;
    return new Ct(n, pe.mapEffects(i.effects, e), o, i.startSelection.map(s), r);
  }
  a(Vw, "mapEvent");
  var zw = /^(input\.type|delete)($|\.)/,
    xi =
      ((_i60 = class i {
        isolate() {
          return this.prevTime ? new i(this.done, this.undone) : this;
        }
        addChanges(e, t, r, n, s) {
          var o = this.done,
            u = o[o.length - 1];
          return (
            u && u.changes && !u.changes.empty && e.changes && (!r || zw.test(r)) && ((!u.selectionsAfter.length && t - this.prevTime < n.newGroupDelay && n.joinToEvent(s, Lw(u.changes, e.changes))) || r == "input.type.compose")
              ? (o = _o(o, o.length - 1, n.minDepth, new Ct(e.changes.compose(u.changes), s1(e.effects, u.effects), u.mapped, u.startSelection, ft)))
              : (o = _o(o, o.length, n.minDepth, e)),
            new i(o, ft, t, r)
          );
        }
        addSelection(e, t, r, n) {
          var s = this.done.length ? this.done[this.done.length - 1].selectionsAfter : ft;
          return s.length > 0 && t - this.prevTime < n && r == this.prevUserEvent && r && /^select($|\.)/.test(r) && qw(s[s.length - 1], e) ? this : new i(o1(this.done, e), this.undone, t, r);
        }
        addMapping(e) {
          return new i(sh(this.done, e), sh(this.undone, e), this.prevTime, this.prevUserEvent);
        }
        pop(e, t, r) {
          var n = e == 0 ? this.done : this.undone;
          if (n.length == 0) return null;
          var s = n[n.length - 1];
          if (r && s.selectionsAfter.length) return t.update({ selection: s.selectionsAfter[s.selectionsAfter.length - 1], annotations: oh.of({ side: e, rest: Nw(n) }), userEvent: e == 0 ? "select.undo" : "select.redo", scrollIntoView: !0 });
          if (s.changes) {
            var o = n.length == 1 ? ft : n.slice(0, n.length - 1);
            return s.mapped && (o = sh(o, s.mapped)), t.update({ changes: s.changes, selection: s.startSelection, effects: s.effects, annotations: oh.of({ side: e, rest: o }), filter: !1, userEvent: e == 0 ? "undo" : "redo", scrollIntoView: !0 });
          } else return null;
        }
        constructor(e, t, ref, ref1) {
          var r = ref === void 0 ? 0 : ref,
            n = ref1 === void 0 ? void 0 : ref1;
          (this.done = e), (this.undone = t), (this.prevTime = r), (this.prevUserEvent = n);
        }
      }),
      (() => {
        a(_i60, "HistoryState");
      })(),
      _i60);
  xi.empty = new xi(ft, ft);
  var u1 = [
    { key: "Mod-z", run: n1, preventDefault: !0 },
    { key: "Mod-y", mac: "Mod-Shift-z", run: uh, preventDefault: !0 },
    { linux: "Ctrl-Shift-z", run: uh, preventDefault: !0 },
    { key: "Mod-u", run: $w, preventDefault: !0 },
    { key: "Alt-u", mac: "Mod-Shift-u", run: Pw, preventDefault: !0 },
  ];
  function l1(i, e) {
    var t = -1;
    return i.changeByRange((r) => {
      var n = [];
      for (var o = r.from; o <= r.to; ) {
        var u = i.doc.lineAt(o);
        u.number > t && (r.empty || r.to > u.from) && (e(u, n, r), (t = u.number)), (o = u.to + 1);
      }
      var s = i.changes(n);
      return { changes: n, range: Q.range(s.mapPos(r.anchor, 1), s.mapPos(r.head, 1)) };
    });
  }
  a(l1, "changeBySelectedLine");
  var Hw = a((param) => {
      var i = param.state,
        e = param.dispatch;
      return i.readOnly
        ? !1
        : (e(
            i.update(
              l1(i, (t, r) => {
                r.push({ from: t.from, insert: i.facet(Bo) });
              }),
              { userEvent: "input.indent" }
            )
          ),
          !0);
    }, "indentMore"),
    Ww = a((param) => {
      var i = param.state,
        e = param.dispatch;
      return i.readOnly
        ? !1
        : (e(
            i.update(
              l1(i, (t, r) => {
                var n = /^\s*/.exec(t.text)[0];
                if (!n) return;
                var s = Os(n, i.tabSize),
                  o = 0,
                  u = YD(i, Math.max(0, s - GD(i)));
                for (; o < n.length && o < u.length && n.charCodeAt(o) == u.charCodeAt(o); ) o++;
                r.push({ from: t.from + o, to: t.from + n.length, insert: u.slice(o) });
              }),
              { userEvent: "delete.dedent" }
            )
          ),
          !0);
    }, "indentLess");
  var a1 = { key: "Tab", run: Hw, shift: Ww };
  function dt() {
    var i = arguments[0];
    typeof i == "string" && (i = document.createElement(i));
    var e = 1,
      t = arguments[1];
    if (t && typeof t == "object" && t.nodeType == null && !Array.isArray(t)) {
      for (var r in t)
        if (Object.prototype.hasOwnProperty.call(t, r)) {
          var n = t[r];
          typeof n == "string" ? i.setAttribute(r, n) : n != null && (i[r] = n);
        }
      e++;
    }
    for (; e < arguments.length; e++) h1(i, arguments[e]);
    return i;
  }
  a(dt, "crelt");
  function h1(i, e) {
    if (typeof e == "string") i.appendChild(document.createTextNode(e));
    else if (e != null)
      if (e.nodeType != null) i.appendChild(e);
      else if (Array.isArray(e)) for (var t = 0; t < e.length; t++) h1(i, e[t]);
      else throw new RangeError("Unsupported child node: " + e);
  }
  a(h1, "add");
  var ah =
      ((_class84 = class _class {
        constructor(e, t, r) {
          (this.from = e), (this.to = t), (this.diagnostic = r);
        }
      }),
      (() => {
        a(_class84, "SelectedDiagnostic");
      })(),
      _class84),
    Si =
      ((_i61 = class i {
        static init(e, t, r) {
          var n = e,
            s = r.facet(Bi).markerFilter;
          s && (n = s(n));
          var o = he.set(
            n.map((u) => (u.from == u.to || (u.from == u.to - 1 && r.doc.lineAt(u.from).to == u.from) ? he.widget({ widget: new hh(u), diagnostic: u }).range(u.from) : he.mark({ attributes: { class: "cm-lintRange cm-lintRange-" + u.severity }, diagnostic: u }).range(u.from, u.to))),
            !0
          );
          return new i(o, t, Cr(o));
        }
        constructor(e, t, r) {
          (this.diagnostics = e), (this.panel = t), (this.selected = r);
        }
      }),
      (() => {
        a(_i61, "LintState");
      })(),
      _i61);
  function Cr(i) {
    var e = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : null,
      t = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : 0;
    var r = null;
    return (
      i.between(t, 1e9, (n, s, param) => {
        var o = param.spec;
        if (!(e && o.diagnostic != e)) return (r = new ah(n, s, o.diagnostic)), !1;
      }),
      r
    );
  }
  a(Cr, "findDiagnostic");
  function jw(i, e) {
    var t = i.startState.doc.lineAt(e.pos);
    return !!(i.effects.some((r) => r.is(fh)) || i.changes.touchesRange(t.from, t.to));
  }
  a(jw, "hideTooltip");
  function Uw(i, e) {
    return i.field(At, !1) ? e : e.concat(pe.appendConfig.of(D1));
  }
  a(Uw, "maybeEnableLint");
  function Gw(i, e) {
    return { effects: Uw(i, [fh.of(e)]) };
  }
  a(Gw, "setDiagnostics");
  var fh = pe.define(),
    f1 = pe.define(),
    d1 = pe.define(),
    At = Ie.define({
      create() {
        return new Si(he.none, null, null);
      },
      update(i, e) {
        if (e.docChanged) {
          var t = i.diagnostics.map(e.changes),
            r = null;
          if (i.selected) {
            var n = e.changes.mapPos(i.selected.from, 1);
            r = Cr(t, i.selected.diagnostic, n) || Cr(t, null, n);
          }
          i = new Si(t, i.panel, r);
        }
        var _iteratorNormalCompletion = true,
          _didIteratorError = false,
          _iteratorError = undefined;
        try {
          for (var _iterator = e.effects[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
            var t1 = _step.value;
            t1.is(fh) ? (i = Si.init(t1.value, i.panel, e.state)) : t1.is(f1) ? (i = new Si(i.diagnostics, t1.value ? ch.open : null, i.selected)) : t1.is(d1) && (i = new Si(i.diagnostics, i.panel, t1.value));
          }
        } catch (err) {
          _didIteratorError = true;
          _iteratorError = err;
        } finally {
          try {
            if (!_iteratorNormalCompletion && _iterator.return != null) {
              _iterator.return();
            }
          } finally {
            if (_didIteratorError) {
              throw _iteratorError;
            }
          }
        }
        return i;
      },
      provide: (i) => [fo.from(i, (e) => e.panel), re.decorations.from(i, (e) => e.diagnostics)],
    });
  var Yw = he.mark({ class: "cm-lintRange cm-lintRange-active" });
  function Kw(i, e, t) {
    var _i_state_field = i.state.field(At),
      r = _i_state_field.diagnostics,
      n = [],
      s = 2e8,
      o = 0;
    r.between(e - (t < 0 ? 1 : 0), e + (t > 0 ? 1 : 0), (l, h, param) => {
      var c = param.spec;
      e >= l && e <= h && (l == h || ((e > l || t > 0) && (e < h || t < 0))) && (n.push(c.diagnostic), (s = Math.min(l, s)), (o = Math.max(h, o)));
    });
    var u = i.state.facet(Bi).tooltipFilter;
    return (
      u && (n = u(n)),
      n.length
        ? {
            pos: s,
            end: o,
            above: i.state.doc.lineAt(s).to < o,
            create() {
              return { dom: Xw(i, n) };
            },
          }
        : null
    );
  }
  a(Kw, "lintTooltip");
  function Xw(i, e) {
    return dt(
      "ul",
      { class: "cm-tooltip-lint" },
      e.map((t) => g1(i, t, !1))
    );
  }
  a(Xw, "diagnosticsTooltip");
  var c1 = a((i) => {
    var e = i.state.field(At, !1);
    return !e || !e.panel ? !1 : (i.dispatch({ effects: f1.of(!1) }), !0);
  }, "closeLintPanel");
  var Qw = Ye.fromClass(
      class {
        run() {
          var i = Date.now();
          if (i < this.lintTime - 10) setTimeout(this.run, this.lintTime - i);
          else {
            this.set = !1;
            var _this_view = this.view,
              e = _this_view.state,
              _e_facet = e.facet(Bi),
              t = _e_facet.sources;
            Promise.all(t.map((r) => Promise.resolve(r(this.view)))).then(
              (r) => {
                var n = r.reduce((s, o) => s.concat(o));
                this.view.state.doc == e.doc && this.view.dispatch(Gw(this.view.state, n));
              },
              (r) => {
                ht(this.view.state, r);
              }
            );
          }
        }
        update(i) {
          var e = i.state.facet(Bi);
          (i.docChanged || e != i.startState.facet(Bi) || (e.needsRefresh && e.needsRefresh(i))) && ((this.lintTime = Date.now() + e.delay), this.set || ((this.set = !0), (this.timeout = setTimeout(this.run, e.delay))));
        }
        force() {
          this.set && ((this.lintTime = Date.now()), this.run());
        }
        destroy() {
          clearTimeout(this.timeout);
        }
        constructor(i) {
          (this.view = i), (this.timeout = -1), (this.set = !0);
          var _i_state_facet = i.state.facet(Bi),
            e = _i_state_facet.delay;
          (this.lintTime = Date.now() + e), (this.run = this.run.bind(this)), (this.timeout = setTimeout(this.run, e));
        }
      }
    ),
    Bi = G.define({
      combine(i) {
        return Object.assign(
          { sources: i.map((e) => e.source) },
          Wt(
            i.map((e) => e.config),
            { delay: 750, markerFilter: null, tooltipFilter: null, needsRefresh: null },
            { needsRefresh: (e, t) => (e ? (t ? (r) => e(r) || t(r) : e) : t) }
          )
        );
      },
    });
  function p1(i) {
    var e = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};
    return [Bi.of({ source: i, config: e }), Qw, D1];
  }
  a(p1, "linter");
  function m1(i) {
    var e = [];
    var _iteratorNormalCompletion = true,
      _didIteratorError = false,
      _iteratorError = undefined;
    if (i)
      try {
        var _loop = function () {
          var _loop = function (r) {
            var n = t[r];
            if (/[a-zA-Z]/.test(n) && !e.some((s) => s.toLowerCase() == n.toLowerCase())) {
              e.push(n);
              return "continue|e";
            }
          };
          var _step_value = _step.value,
            t = _step_value.name;
          for (var r = 0; r < t.length; r++) {
            var _ret = _loop(r);
            switch (_ret) {
              case "continue|e":
                return "continue|e";
            }
          }
          e.push("");
        };
        e: for (var _iterator = i[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
          var _ret = _loop();
          switch (_ret) {
            case "continue|e":
              continue e;
          }
        }
      } catch (err) {
        _didIteratorError = true;
        _iteratorError = err;
      } finally {
        try {
          if (!_iteratorNormalCompletion && _iterator.return != null) {
            _iterator.return();
          }
        } finally {
          if (_didIteratorError) {
            throw _iteratorError;
          }
        }
      }
    return e;
  }
  a(m1, "assignKeys");
  function g1(i, e, t) {
    var r;
    var n = t ? m1(e.actions) : [];
    return dt(
      "li",
      { class: "cm-diagnostic cm-diagnostic-" + e.severity },
      dt("span", { class: "cm-diagnosticText" }, e.renderMessage ? e.renderMessage() : e.message),
      (r = e.actions) === null || r === void 0
        ? void 0
        : r.map((s, o) => {
            var u = !1,
              l = a((d) => {
                if ((d.preventDefault(), u)) return;
                u = !0;
                var p = Cr(i.state.field(At).diagnostics, e);
                p && s.apply(i, p.from, p.to);
              }, "click"),
              h = s.name,
              c = n[o] ? h.indexOf(n[o]) : -1,
              f = c < 0 ? h : [h.slice(0, c), dt("u", h.slice(c, c + 1)), h.slice(c + 1)];
            return dt("button", { type: "button", class: "cm-diagnosticAction", onclick: l, onmousedown: l, "aria-label": " Action: ".concat(h).concat(c < 0 ? "" : ' (access key "'.concat(n[o], ')"'), ".") }, f);
          }),
      e.source && dt("div", { class: "cm-diagnosticSource" }, e.source)
    );
  }
  a(g1, "renderDiagnostic");
  var hh =
      ((_class85 = class _class extends Ut {
        eq(e) {
          return e.diagnostic == this.diagnostic;
        }
        toDOM() {
          return dt("span", { class: "cm-lintPoint cm-lintPoint-" + this.diagnostic.severity });
        }
        constructor(e) {
          super(), (this.diagnostic = e);
        }
      }),
      (() => {
        a(_class85, "DiagnosticWidget");
      })(),
      _class85),
    To =
      ((_class86 = class _class {
        constructor(e, t) {
          (this.diagnostic = t), (this.id = "item_" + Math.floor(Math.random() * 4294967295).toString(16)), (this.dom = g1(e, t, !0)), (this.dom.id = this.id), this.dom.setAttribute("role", "option");
        }
      }),
      (() => {
        a(_class86, "PanelItem");
      })(),
      _class86),
    ch =
      ((_i62 = class i {
        get selectedIndex() {
          var e = this.view.state.field(At).selected;
          if (!e) return -1;
          for (var t = 0; t < this.items.length; t++) if (this.items[t].diagnostic == e.diagnostic) return t;
          return -1;
        }
        update() {
          var _this_view_state_field = this.view.state.field(At),
            e = _this_view_state_field.diagnostics,
            t = _this_view_state_field.selected,
            r = 0,
            n = !1,
            s = null;
          for (
            e.between(0, this.view.state.doc.length, (o, u, param) => {
              var l = param.spec;
              var h = -1,
                c;
              for (var f = r; f < this.items.length; f++)
                if (this.items[f].diagnostic == l.diagnostic) {
                  h = f;
                  break;
                }
              h < 0 ? ((c = new To(this.view, l.diagnostic)), this.items.splice(r, 0, c), (n = !0)) : ((c = this.items[h]), h > r && (this.items.splice(r, h - r), (n = !0))), t && c.diagnostic == t.diagnostic ? c.dom.hasAttribute("aria-selected") || (c.dom.setAttribute("aria-selected", "true"), (s = c)) : c.dom.hasAttribute("aria-selected") && c.dom.removeAttribute("aria-selected"), r++;
            });
            r < this.items.length && !(this.items.length == 1 && this.items[0].diagnostic.from < 0);

          )
            (n = !0), this.items.pop();
          this.items.length == 0 && (this.items.push(new To(this.view, { from: -1, to: -1, severity: "info", message: this.view.state.phrase("No diagnostics") })), (n = !0)),
            s
              ? (this.list.setAttribute("aria-activedescendant", s.id),
                this.view.requestMeasure({
                  key: this,
                  read: () => ({ sel: s.dom.getBoundingClientRect(), panel: this.list.getBoundingClientRect() }),
                  write: (param) => {
                    var o = param.sel,
                      u = param.panel;
                    o.top < u.top ? (this.list.scrollTop -= u.top - o.top) : o.bottom > u.bottom && (this.list.scrollTop += o.bottom - u.bottom);
                  },
                }))
              : this.selectedIndex < 0 && this.list.removeAttribute("aria-activedescendant"),
            n && this.sync();
        }
        sync() {
          var e = this.list.firstChild;
          function t() {
            var r = e;
            (e = r.nextSibling), r.remove();
          }
          a(t, "rm");
          var _iteratorNormalCompletion = true,
            _didIteratorError = false,
            _iteratorError = undefined;
          try {
            for (var _iterator = this.items[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
              var r = _step.value;
              if (r.dom.parentNode == this.list) {
                for (; e != r.dom; ) t();
                e = r.dom.nextSibling;
              } else this.list.insertBefore(r.dom, e);
            }
          } catch (err) {
            _didIteratorError = true;
            _iteratorError = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion && _iterator.return != null) {
                _iterator.return();
              }
            } finally {
              if (_didIteratorError) {
                throw _iteratorError;
              }
            }
          }
          for (; e; ) t();
        }
        moveSelection(e) {
          if (this.selectedIndex < 0) return;
          var t = this.view.state.field(At),
            r = Cr(t.diagnostics, this.items[e].diagnostic);
          r && this.view.dispatch({ selection: { anchor: r.from, head: r.to }, scrollIntoView: !0, effects: d1.of(r) });
        }
        static open(e) {
          return new i(e);
        }
        constructor(e) {
          (this.view = e), (this.items = []);
          var t = a((n) => {
              if (n.keyCode == 27) c1(this.view), this.view.focus();
              else if (n.keyCode == 38 || n.keyCode == 33) this.moveSelection((this.selectedIndex - 1 + this.items.length) % this.items.length);
              else if (n.keyCode == 40 || n.keyCode == 34) this.moveSelection((this.selectedIndex + 1) % this.items.length);
              else if (n.keyCode == 36) this.moveSelection(0);
              else if (n.keyCode == 35) this.moveSelection(this.items.length - 1);
              else if (n.keyCode == 13) this.view.focus();
              else if (n.keyCode >= 65 && n.keyCode <= 90 && this.selectedIndex >= 0) {
                var _this_items_this_selectedIndex = this.items[this.selectedIndex],
                  s = _this_items_this_selectedIndex.diagnostic,
                  o = m1(s.actions);
                for (var u = 0; u < o.length; u++)
                  if (o[u].toUpperCase().charCodeAt(0) == n.keyCode) {
                    var l = Cr(this.view.state.field(At).diagnostics, s);
                    l && s.actions[u].apply(e, l.from, l.to);
                  }
              } else return;
              n.preventDefault();
            }, "onkeydown"),
            r = a((n) => {
              for (var s = 0; s < this.items.length; s++) this.items[s].dom.contains(n.target) && this.moveSelection(s);
            }, "onclick");
          (this.list = dt("ul", { tabIndex: 0, role: "listbox", "aria-label": this.view.state.phrase("Diagnostics"), onkeydown: t, onclick: r })), (this.dom = dt("div", { class: "cm-panel-lint" }, this.list, dt("button", { type: "button", name: "close", "aria-label": this.view.state.phrase("close"), onclick: () => c1(this.view) }, "\xd7"))), this.update();
        }
      }),
      (() => {
        a(_i62, "LintPanel");
      })(),
      _i62);
  function Jw(i) {
    var e = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 'viewBox="0 0 40 40"';
    return 'url(\'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" '.concat(e, ">").concat(encodeURIComponent(i), "</svg>')");
  }
  a(Jw, "svg");
  function lh(i) {
    return Jw('<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="'.concat(i, '" fill="none" stroke-width=".7"/>'), 'width="6" height="3"');
  }
  a(lh, "underline");
  var Zw = re.baseTheme({
    ".cm-diagnostic": { padding: "3px 6px 3px 8px", marginLeft: "-1px", display: "block", whiteSpace: "pre-wrap" },
    ".cm-diagnostic-error": { borderLeft: "5px solid #d11" },
    ".cm-diagnostic-warning": { borderLeft: "5px solid orange" },
    ".cm-diagnostic-info": { borderLeft: "5px solid #999" },
    ".cm-diagnosticAction": { font: "inherit", border: "none", padding: "2px 4px", backgroundColor: "#444", color: "white", borderRadius: "3px", marginLeft: "8px", cursor: "pointer" },
    ".cm-diagnosticSource": { fontSize: "70%", opacity: 0.7 },
    ".cm-lintRange": { backgroundPosition: "left bottom", backgroundRepeat: "repeat-x", paddingBottom: "0.7px" },
    ".cm-lintRange-error": { backgroundImage: lh("#d11") },
    ".cm-lintRange-warning": { backgroundImage: lh("orange") },
    ".cm-lintRange-info": { backgroundImage: lh("#999") },
    ".cm-lintRange-active": { backgroundColor: "#ffdd9980" },
    ".cm-tooltip-lint": { padding: 0, margin: 0 },
    ".cm-lintPoint": { position: "relative", "&:after": { content: '""', position: "absolute", bottom: 0, left: "-2px", borderLeft: "3px solid transparent", borderRight: "3px solid transparent", borderBottom: "4px solid #d11" } },
    ".cm-lintPoint-warning": { "&:after": { borderBottomColor: "orange" } },
    ".cm-lintPoint-info": { "&:after": { borderBottomColor: "#999" } },
    ".cm-panel.cm-panel-lint": {
      position: "relative",
      "& ul": { maxHeight: "100px", overflowY: "auto", "& [aria-selected]": { backgroundColor: "#ddd", "& u": { textDecoration: "underline" } }, "&:focus [aria-selected]": { background_fallback: "#bdf", backgroundColor: "Highlight", color_fallback: "white", color: "HighlightText" }, "& u": { textDecoration: "none" }, padding: 0, margin: 0 },
      "& [name=close]": { position: "absolute", top: "0", right: "2px", background: "inherit", border: "none", font: "inherit", padding: 0, margin: 0 },
    },
  });
  var D1 = [
    At,
    re.decorations.compute([At], (i) => {
      var _i_field = i.field(At),
        e = _i_field.selected,
        t = _i_field.panel;
      return !e || !t || e.from == e.to ? he.none : he.set([Yw.range(e.from, e.to)]);
    }),
    OD(Kw, { hideOn: jw }),
    Zw,
  ];
  function e4(i) {
    var e, t, r;
    return {
      c() {
        (e = R("button")),
          (e.innerHTML =
            '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 1000" class="svelte-1ha11jr"><path d="M704 896H64V320h640v192h64V192c0-35-29-64-64-64H512C512 57 455 0 384 0S256 57 256 128H64c-35 0-64 29-64 64v704c0 35 29 64 64 64h640c35 0 64-29 64-64V768h-64v128zM192 192h64s64-29 64-64 29-64 64-64 64 29 64 64 32 64 64 64h64s64 29 64 64H128c0-39 28-64 64-64zm-64 512h128v-64H128v64zm448-128V448L320 640l256 192V704h320V576H576zM128 832h192v-64H128v64zm320-448H128v64h320v-64zM256 512H128v64h128v-64z"></path></svg>'),
          A(e, "class", "btn svelte-1ha11jr"),
          A(e, "id", "copy"),
          A(e, "title", "Copy bibtex"),
          Gi(e, "copied", i[0]);
      },
      m(n, s) {
        C(n, e, s), t || ((r = be(e, "click", i[1])), (t = !0));
      },
      p(n, param) {
        var _param = _sliced_to_array(param, 1),
          s = _param[0];
        s & 1 && Gi(e, "copied", n[0]);
      },
      i: ke,
      o: ke,
      d(n) {
        n && y(e), (t = !1), r();
      },
    };
  }
  a(e4, "create_fragment");
  function t4(i, e, t) {
    var r,
      n = !1,
      s = e.bibtex,
      o = a(
        _async_to_generator(function () {
          var e;
          return _ts_generator(this, function (_state) {
            switch (_state.label) {
              case 0:
                _state.trys.push([0, 2, , 3]);
                return [4, navigator.clipboard.writeText(s)];
              case 1:
                _state.sent(), t(0, (n = !0)), clearInterval(r), (r = setTimeout(() => t(0, (n = !1)), 3e3));
                return [3, 3];
              case 2:
                e = _state.sent();
                alert("Failed to copy");
                return [3, 3];
              case 3:
                return [2];
            }
          });
        }),
        "handleCopy"
      );
    return (
      (i.$$set = (u) => {
        "bibtex" in u && t(2, (s = u.bibtex));
      }),
      [n, o, s]
    );
  }
  a(t4, "instance");
  var dh =
      ((_class87 = class _class extends ie {
        constructor(e) {
          super(), oe(this, e, t4, e4, se, { bibtex: 2 });
        }
      }),
      (() => {
        a(_class87, "CopyButton");
      })(),
      _class87),
    b1 = dh;
  var mh =
      ((_i63 = class i {
        toString() {
          return "["
            .concat(this.stack.filter((e, t) => t % 3 == 0).concat(this.state), "]@")
            .concat(this.pos)
            .concat(this.score ? "!" + this.score : "");
        }
        static start(e, t) {
          var r = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : 0;
          var n = e.parser.context;
          return new i(e, [], t, r, r, 0, [], 0, n ? new Ro(n, n.start) : null, 0, null);
        }
        get context() {
          return this.curContext ? this.curContext.context : null;
        }
        pushState(e, t) {
          this.stack.push(this.state, t, this.bufferBase + this.buffer.length), (this.state = e);
        }
        reduce(e) {
          var t;
          var r = e >> 19,
            n = e & 65535,
            _this_p = this.p,
            s = _this_p.parser,
            o = s.dynamicPrecedence(n);
          if ((o && (this.score += o), r == 0)) {
            this.pushState(s.getGoto(this.state, n, !0), this.reducePos), n < s.minRepeatTerm && this.storeNode(n, this.reducePos, this.reducePos, 4, !0), this.reduceContext(n, this.reducePos);
            return;
          }
          var u = this.stack.length - (r - 1) * 3 - (e & 262144 ? 6 : 0),
            l = u ? this.stack[u - 2] : this.p.ranges[0].from,
            h = this.reducePos - l;
          h >= 2e3 && !(!((t = this.p.parser.nodeSet.types[n]) === null || t === void 0) && t.isAnonymous) && (l == this.p.lastBigReductionStart ? (this.p.bigReductionCount++, (this.p.lastBigReductionSize = h)) : this.p.lastBigReductionSize < h && ((this.p.bigReductionCount = 1), (this.p.lastBigReductionStart = l), (this.p.lastBigReductionSize = h)));
          var c = u ? this.stack[u - 1] : 0,
            f = this.bufferBase + this.buffer.length - c;
          if (n < s.minRepeatTerm || e & 131072) {
            var d = s.stateFlag(this.state, 1) ? this.pos : this.reducePos;
            this.storeNode(n, l, d, f + 4, !0);
          }
          if (e & 262144) this.state = this.stack[u];
          else {
            var d1 = this.stack[u - 3];
            this.state = s.getGoto(d1, n, !0);
          }
          for (; this.stack.length > u; ) this.stack.pop();
          this.reduceContext(n, l);
        }
        storeNode(e, t, r) {
          var n = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : 4,
            s = arguments.length > 4 && arguments[4] !== void 0 ? arguments[4] : !1;
          if (e == 0 && (!this.stack.length || this.stack[this.stack.length - 1] < this.buffer.length + this.bufferBase)) {
            var o = this,
              u = this.buffer.length;
            if ((u == 0 && o.parent && ((u = o.bufferBase - o.parent.bufferBase), (o = o.parent)), u > 0 && o.buffer[u - 4] == 0 && o.buffer[u - 1] > -1)) {
              if (t == r) return;
              if (o.buffer[u - 2] >= t) {
                o.buffer[u - 2] = r;
                return;
              }
            }
          }
          if (!s || this.pos == r) this.buffer.push(e, t, r, n);
          else {
            var o1 = this.buffer.length;
            if (o1 > 0 && this.buffer[o1 - 4] != 0) for (; o1 > 0 && this.buffer[o1 - 2] > r; ) (this.buffer[o1] = this.buffer[o1 - 4]), (this.buffer[o1 + 1] = this.buffer[o1 - 3]), (this.buffer[o1 + 2] = this.buffer[o1 - 2]), (this.buffer[o1 + 3] = this.buffer[o1 - 1]), (o1 -= 4), n > 4 && (n -= 4);
            (this.buffer[o1] = e), (this.buffer[o1 + 1] = t), (this.buffer[o1 + 2] = r), (this.buffer[o1 + 3] = n);
          }
        }
        shift(e, t, r) {
          var n = this.pos;
          if (e & 131072) this.pushState(e & 65535, this.pos);
          else if (e & 262144) (this.pos = r), this.shiftContext(t, n), t <= this.p.parser.maxNode && this.buffer.push(t, n, r, 4);
          else {
            var s = e,
              _this_p = this.p,
              o = _this_p.parser;
            (r > this.pos || t <= o.maxNode) && ((this.pos = r), o.stateFlag(s, 1) || (this.reducePos = r)), this.pushState(s, n), this.shiftContext(t, n), t <= o.maxNode && this.buffer.push(t, n, r, 4);
          }
        }
        apply(e, t, r) {
          e & 65536 ? this.reduce(e) : this.shift(e, t, r);
        }
        useNode(e, t) {
          var r = this.p.reused.length - 1;
          (r < 0 || this.p.reused[r] != e) && (this.p.reused.push(e), r++);
          var n = this.pos;
          (this.reducePos = this.pos = n + e.length), this.pushState(t, n), this.buffer.push(r, n, this.reducePos, -1), this.curContext && this.updateContext(this.curContext.tracker.reuse(this.curContext.context, e, this, this.p.stream.reset(this.pos - e.length)));
        }
        split() {
          var e = this,
            t = e.buffer.length;
          for (; t > 0 && e.buffer[t - 2] > e.reducePos; ) t -= 4;
          var r = e.buffer.slice(t),
            n = e.bufferBase + t;
          for (; e && n == e.bufferBase; ) e = e.parent;
          return new i(this.p, this.stack.slice(), this.state, this.reducePos, this.pos, this.score, r, n, this.curContext, this.lookAhead, e);
        }
        recoverByDelete(e, t) {
          var r = e <= this.p.parser.maxNode;
          r && this.storeNode(e, this.pos, t, 4), this.storeNode(0, this.pos, t, r ? 8 : 4), (this.pos = this.reducePos = t), (this.score -= 190);
        }
        canShift(e) {
          for (var t = new gh(this); ; ) {
            var r = this.p.parser.stateSlot(t.state, 4) || this.p.parser.hasAction(t.state, e);
            if (r == 0) return !1;
            if (!(r & 65536)) return !0;
            t.reduce(r);
          }
        }
        recoverByInsert(e) {
          if (this.stack.length >= 300) return [];
          var t = this.p.parser.nextStates(this.state);
          if (t.length > 8 || this.stack.length >= 120) {
            var _loop = function (s1) {
              var o = t[s1 + 1];
              n.some((u, l) => l & 1 && u == o) || n.push(t[s1], o);
            };
            var n = [];
            for (var s = 0, o; s < t.length; s += 2) (o = t[s + 1]) != this.state && this.p.parser.hasAction(o, e) && n.push(t[s], o);
            if (this.stack.length < 120) for (var s1 = 0; n.length < 8 && s1 < t.length; s1 += 2) _loop(s1);
            t = n;
          }
          var r = [];
          for (var n1 = 0; n1 < t.length && r.length < 4; n1 += 2) {
            var s2 = t[n1 + 1];
            if (s2 == this.state) continue;
            var o1 = this.split();
            o1.pushState(s2, this.pos), o1.storeNode(0, o1.pos, o1.pos, 4, !0), o1.shiftContext(t[n1], this.pos), (o1.score -= 200), r.push(o1);
          }
          return r;
        }
        forceReduce() {
          var e = this.p.parser.stateSlot(this.state, 5);
          if (!(e & 65536)) return !1;
          var _this_p = this.p,
            t = _this_p.parser;
          if (!t.validAction(this.state, e)) {
            var r = e >> 19,
              n = e & 65535,
              s = this.stack.length - r * 3;
            if (s < 0 || t.getGoto(this.stack[s], n, !1) < 0) return !1;
            this.storeNode(0, this.reducePos, this.reducePos, 4, !0), (this.score -= 100);
          }
          return (this.reducePos = this.pos), this.reduce(e), !0;
        }
        forceAll() {
          for (; !this.p.parser.stateFlag(this.state, 2); )
            if (!this.forceReduce()) {
              this.storeNode(0, this.pos, this.pos, 4, !0);
              break;
            }
          return this;
        }
        get deadEnd() {
          if (this.stack.length != 3) return !1;
          var _this_p = this.p,
            e = _this_p.parser;
          return e.data[e.stateSlot(this.state, 1)] == 65535 && !e.stateSlot(this.state, 4);
        }
        restart() {
          (this.state = this.stack[0]), (this.stack.length = 0);
        }
        sameState(e) {
          if (this.state != e.state || this.stack.length != e.stack.length) return !1;
          for (var t = 0; t < this.stack.length; t += 3) if (this.stack[t] != e.stack[t]) return !1;
          return !0;
        }
        get parser() {
          return this.p.parser;
        }
        dialectEnabled(e) {
          return this.p.parser.dialect.flags[e];
        }
        shiftContext(e, t) {
          this.curContext && this.updateContext(this.curContext.tracker.shift(this.curContext.context, e, this, this.p.stream.reset(t)));
        }
        reduceContext(e, t) {
          this.curContext && this.updateContext(this.curContext.tracker.reduce(this.curContext.context, e, this, this.p.stream.reset(t)));
        }
        emitContext() {
          var e = this.buffer.length - 1;
          (e < 0 || this.buffer[e] != -3) && this.buffer.push(this.curContext.hash, this.reducePos, this.reducePos, -3);
        }
        emitLookAhead() {
          var e = this.buffer.length - 1;
          (e < 0 || this.buffer[e] != -4) && this.buffer.push(this.lookAhead, this.reducePos, this.reducePos, -4);
        }
        updateContext(e) {
          if (e != this.curContext.context) {
            var t = new Ro(this.curContext.tracker, e);
            t.hash != this.curContext.hash && this.emitContext(), (this.curContext = t);
          }
        }
        setLookAhead(e) {
          e > this.lookAhead && (this.emitLookAhead(), (this.lookAhead = e));
        }
        close() {
          this.curContext && this.curContext.tracker.strict && this.emitContext(), this.lookAhead > 0 && this.emitLookAhead();
        }
        constructor(e, t, r, n, s, o, u, l, h, ref, f) {
          var c = ref === void 0 ? 0 : ref;
          (this.p = e), (this.stack = t), (this.state = r), (this.reducePos = n), (this.pos = s), (this.score = o), (this.buffer = u), (this.bufferBase = l), (this.curContext = h), (this.lookAhead = c), (this.parent = f);
        }
      }),
      (() => {
        a(_i63, "Stack");
      })(),
      _i63),
    Ro =
      ((_class88 = class _class {
        constructor(e, t) {
          (this.tracker = e), (this.context = t), (this.hash = e.strict ? e.hash(t) : 0);
        }
      }),
      (() => {
        a(_class88, "StackContext");
      })(),
      _class88),
    F1;
  (function (i) {
    (i[(i.Insert = 200)] = "Insert"), (i[(i.Delete = 190)] = "Delete"), (i[(i.Reduce = 100)] = "Reduce"), (i[(i.MaxNext = 4)] = "MaxNext"), (i[(i.MaxInsertStackDepth = 300)] = "MaxInsertStackDepth"), (i[(i.DampenInsertStackDepth = 120)] = "DampenInsertStackDepth"), (i[(i.MinBigReduction = 2e3)] = "MinBigReduction");
  })(F1 || (F1 = {}));
  var gh =
      ((_class89 = class _class {
        reduce(e) {
          var t = e & 65535,
            r = e >> 19;
          r == 0 ? (this.stack == this.start.stack && (this.stack = this.stack.slice()), this.stack.push(this.state, 0, 0), (this.base += 3)) : (this.base -= (r - 1) * 3);
          var n = this.start.p.parser.getGoto(this.stack[this.base - 3], t, !0);
          this.state = n;
        }
        constructor(e) {
          (this.start = e), (this.state = e.state), (this.stack = e.stack), (this.base = this.stack.length);
        }
      }),
      (() => {
        a(_class89, "SimulatedStack");
      })(),
      _class89),
    Dh =
      ((_i64 = class i {
        static create(e) {
          var t = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : e.bufferBase + e.buffer.length;
          return new i(e, t, t - e.bufferBase);
        }
        maybeNext() {
          var e = this.stack.parent;
          e != null && ((this.index = this.stack.bufferBase - e.bufferBase), (this.stack = e), (this.buffer = e.buffer));
        }
        get id() {
          return this.buffer[this.index - 4];
        }
        get start() {
          return this.buffer[this.index - 3];
        }
        get end() {
          return this.buffer[this.index - 2];
        }
        get size() {
          return this.buffer[this.index - 1];
        }
        next() {
          (this.index -= 4), (this.pos -= 4), this.index == 0 && this.maybeNext();
        }
        fork() {
          return new i(this.stack, this.pos, this.index);
        }
        constructor(e, t, r) {
          (this.stack = e), (this.pos = t), (this.index = r), (this.buffer = e.buffer), this.index == 0 && this.maybeNext();
        }
      }),
      (() => {
        a(_i64, "StackBufferCursor");
      })(),
      _i64);
  function yn(i) {
    var e = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : Uint16Array;
    if (typeof i != "string") return i;
    var t = null;
    for (var r = 0, n = 0; r < i.length; ) {
      var s = 0;
      for (;;) {
        var o = i.charCodeAt(r++),
          u = !1;
        if (o == 126) {
          s = 65535;
          break;
        }
        o >= 92 && o--, o >= 34 && o--;
        var l = o - 32;
        if ((l >= 46 && ((l -= 46), (u = !0)), (s += l), u)) break;
        s *= 46;
      }
      t ? (t[n++] = s) : (t = new e(s));
    }
    return t;
  }
  a(yn, "decodeArray");
  var Ar =
      ((_class90 = class _class {
        constructor() {
          (this.start = -1), (this.value = -1), (this.end = -1), (this.extended = -1), (this.lookAhead = 0), (this.mask = 0), (this.context = 0);
        }
      }),
      (() => {
        a(_class90, "CachedToken");
      })(),
      _class90),
    y1 = new Ar(),
    bh =
      ((_class91 = class _class {
        resolveOffset(e, t) {
          var r = this.range,
            n = this.rangeIndex,
            s = this.pos + e;
          for (; s < r.from; ) {
            if (!n) return null;
            var o = this.ranges[--n];
            (s -= r.from - o.to), (r = o);
          }
          for (; t < 0 ? s > r.to : s >= r.to; ) {
            if (n == this.ranges.length - 1) return null;
            var o1 = this.ranges[++n];
            (s += o1.from - r.to), (r = o1);
          }
          return s;
        }
        clipPos(e) {
          if (e >= this.range.from && e < this.range.to) return e;
          var _iteratorNormalCompletion = true,
            _didIteratorError = false,
            _iteratorError = undefined;
          try {
            for (var _iterator = this.ranges[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
              var t = _step.value;
              if (t.to > e) return Math.max(e, t.from);
            }
          } catch (err) {
            _didIteratorError = true;
            _iteratorError = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion && _iterator.return != null) {
                _iterator.return();
              }
            } finally {
              if (_didIteratorError) {
                throw _iteratorError;
              }
            }
          }
          return this.end;
        }
        peek(e) {
          var t = this.chunkOff + e,
            r,
            n;
          if (t >= 0 && t < this.chunk.length) (r = this.pos + e), (n = this.chunk.charCodeAt(t));
          else {
            var s = this.resolveOffset(e, 1);
            if (s == null) return -1;
            if (((r = s), r >= this.chunk2Pos && r < this.chunk2Pos + this.chunk2.length)) n = this.chunk2.charCodeAt(r - this.chunk2Pos);
            else {
              var o = this.rangeIndex,
                u = this.range;
              for (; u.to <= r; ) u = this.ranges[++o];
              (this.chunk2 = this.input.chunk((this.chunk2Pos = r))), r + this.chunk2.length > u.to && (this.chunk2 = this.chunk2.slice(0, u.to - r)), (n = this.chunk2.charCodeAt(0));
            }
          }
          return r >= this.token.lookAhead && (this.token.lookAhead = r + 1), n;
        }
        acceptToken(e) {
          var t = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0;
          var r = t ? this.resolveOffset(t, -1) : this.pos;
          if (r == null || r < this.token.start) throw new RangeError("Token end out of bounds");
          (this.token.value = e), (this.token.end = r);
        }
        getChunk() {
          if (this.pos >= this.chunk2Pos && this.pos < this.chunk2Pos + this.chunk2.length) {
            var _this = this,
              e = _this.chunk,
              t = _this.chunkPos;
            (this.chunk = this.chunk2), (this.chunkPos = this.chunk2Pos), (this.chunk2 = e), (this.chunk2Pos = t), (this.chunkOff = this.pos - this.chunkPos);
          } else {
            (this.chunk2 = this.chunk), (this.chunk2Pos = this.chunkPos);
            var e1 = this.input.chunk(this.pos),
              t1 = this.pos + e1.length;
            (this.chunk = t1 > this.range.to ? e1.slice(0, this.range.to - this.pos) : e1), (this.chunkPos = this.pos), (this.chunkOff = 0);
          }
        }
        readNext() {
          return this.chunkOff >= this.chunk.length && (this.getChunk(), this.chunkOff == this.chunk.length) ? (this.next = -1) : (this.next = this.chunk.charCodeAt(this.chunkOff));
        }
        advance() {
          var e = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 1;
          for (this.chunkOff += e; this.pos + e >= this.range.to; ) {
            if (this.rangeIndex == this.ranges.length - 1) return this.setDone();
            (e -= this.range.to - this.pos), (this.range = this.ranges[++this.rangeIndex]), (this.pos = this.range.from);
          }
          return (this.pos += e), this.pos >= this.token.lookAhead && (this.token.lookAhead = this.pos + 1), this.readNext();
        }
        setDone() {
          return (this.pos = this.chunkPos = this.end), (this.range = this.ranges[(this.rangeIndex = this.ranges.length - 1)]), (this.chunk = ""), (this.next = -1);
        }
        reset(e, t) {
          if ((t ? ((this.token = t), (t.start = e), (t.lookAhead = e + 1), (t.value = t.extended = -1)) : (this.token = y1), this.pos != e)) {
            if (((this.pos = e), e == this.end)) return this.setDone(), this;
            for (; e < this.range.from; ) this.range = this.ranges[--this.rangeIndex];
            for (; e >= this.range.to; ) this.range = this.ranges[++this.rangeIndex];
            e >= this.chunkPos && e < this.chunkPos + this.chunk.length ? (this.chunkOff = e - this.chunkPos) : ((this.chunk = ""), (this.chunkOff = 0)), this.readNext();
          }
          return this;
        }
        read(e, t) {
          if (e >= this.chunkPos && t <= this.chunkPos + this.chunk.length) return this.chunk.slice(e - this.chunkPos, t - this.chunkPos);
          if (e >= this.chunk2Pos && t <= this.chunk2Pos + this.chunk2.length) return this.chunk2.slice(e - this.chunk2Pos, t - this.chunk2Pos);
          if (e >= this.range.from && t <= this.range.to) return this.input.read(e, t);
          var r = "";
          var _iteratorNormalCompletion = true,
            _didIteratorError = false,
            _iteratorError = undefined;
          try {
            for (var _iterator = this.ranges[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
              var n = _step.value;
              if (n.from >= t) break;
              n.to > e && (r += this.input.read(Math.max(n.from, e), Math.min(n.to, t)));
            }
          } catch (err) {
            _didIteratorError = true;
            _iteratorError = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion && _iterator.return != null) {
                _iterator.return();
              }
            } finally {
              if (_didIteratorError) {
                throw _iteratorError;
              }
            }
          }
          return r;
        }
        constructor(e, t) {
          (this.input = e), (this.ranges = t), (this.chunk = ""), (this.chunkOff = 0), (this.chunk2 = ""), (this.chunk2Pos = 0), (this.next = -1), (this.token = y1), (this.rangeIndex = 0), (this.pos = this.chunkPos = t[0].from), (this.range = t[0]), (this.end = t[t.length - 1].to), this.readNext();
        }
      }),
      (() => {
        a(_class91, "InputStream");
      })(),
      _class91),
    li =
      ((_class92 = class _class {
        token(e, t) {
          var _t_p = t.p,
            r = _t_p.parser;
          x1(this.data, e, t, this.id, r.data, r.tokenPrecTable);
        }
        constructor(e, t) {
          (this.data = e), (this.id = t);
        }
      }),
      (() => {
        a(_class92, "TokenGroup");
      })(),
      _class92);
  li.prototype.contextual = li.prototype.fallback = li.prototype.extend = !1;
  var Fh =
    ((_class93 = class _class {
      token(e, t) {
        var r = e.pos,
          n;
        for (; (n = e.pos), x1(this.data, e, t, 0, this.data, this.precTable), !(e.token.value > -1); ) {
          if (this.elseToken == null) return;
          if (e.next < 0) break;
          e.advance(), e.reset(n + 1, e.token);
        }
        n > r && (e.reset(r, e.token), e.acceptToken(this.elseToken, n - r));
      }
      constructor(e, t, r) {
        (this.precTable = t), (this.elseToken = r), (this.data = typeof e == "string" ? yn(e) : e);
      }
    }),
    (() => {
      a(_class93, "LocalTokenGroup");
    })(),
    _class93);
  Fh.prototype.contextual = li.prototype.fallback = li.prototype.extend = !1;
  function x1(i, e, t, r, n, s) {
    var o = 0,
      u = 1 << r,
      _t_p_parser = t.p.parser,
      l = _t_p_parser.dialect;
    e: for (; u & i[o]; ) {
      var h = i[o + 1];
      for (var p = o + 3; p < h; p += 2)
        if ((i[p + 1] & u) > 0) {
          var m = i[p];
          if (l.allows(m) && (e.token.value == -1 || e.token.value == m || r4(m, e.token.value, n, s))) {
            e.acceptToken(m);
            break;
          }
        }
      var c = e.next,
        f = 0,
        d = i[o + 2];
      if (e.next < 0 && d > f && i[h + d * 3 - 3] == 65535 && i[h + d * 3 - 3] == 65535) {
        o = i[h + d * 3 - 1];
        continue e;
      }
      for (; f < d; ) {
        var p1 = (f + d) >> 1,
          m1 = h + p1 + (p1 << 1),
          b = i[m1],
          g = i[m1 + 1] || 65536;
        if (c < b) d = p1;
        else if (c >= g) f = p1 + 1;
        else {
          (o = i[m1 + 2]), e.advance();
          continue e;
        }
      }
      break;
    }
  }
  a(x1, "readToken");
  function C1(i, e, t) {
    for (var r = e, n; (n = i[r]) != 65535; r++) if (n == t) return r - e;
    return -1;
  }
  a(C1, "findOffset");
  function r4(i, e, t, r) {
    var n = C1(t, r, e);
    return n < 0 || C1(t, r, i) < n;
  }
  a(r4, "overrides");
  var Et = typeof process < "u" && process.env && /\bparse\b/.test(process.env.LOG),
    ph = null,
    A1;
  (function (i) {
    i[(i.Margin = 25)] = "Margin";
  })(A1 || (A1 = {}));
  function E1(i, e, t) {
    var r = i.cursor(Re.IncludeAnonymous);
    for (r.moveTo(e); ; )
      if (!(t < 0 ? r.childBefore(e) : r.childAfter(e)))
        for (;;) {
          if ((t < 0 ? r.to < e : r.from > e) && !r.type.isError) return t < 0 ? Math.max(0, Math.min(r.to - 1, e - 25)) : Math.min(i.length, Math.max(r.from + 1, e + 25));
          if (t < 0 ? r.prevSibling() : r.nextSibling()) break;
          if (!r.parent()) return t < 0 ? 0 : i.length;
        }
  }
  a(E1, "cutAt");
  var yh =
      ((_class94 = class _class {
        nextFragment() {
          var e = (this.fragment = this.i == this.fragments.length ? null : this.fragments[this.i++]);
          if (e) {
            for (this.safeFrom = e.openStart ? E1(e.tree, e.from + e.offset, 1) - e.offset : e.from, this.safeTo = e.openEnd ? E1(e.tree, e.to + e.offset, -1) - e.offset : e.to; this.trees.length; ) this.trees.pop(), this.start.pop(), this.index.pop();
            this.trees.push(e.tree), this.start.push(-e.offset), this.index.push(0), (this.nextStart = this.safeFrom);
          } else this.nextStart = 1e9;
        }
        nodeAt(e) {
          if (e < this.nextStart) return null;
          for (; this.fragment && this.safeTo <= e; ) this.nextFragment();
          if (!this.fragment) return null;
          for (;;) {
            var t = this.trees.length - 1;
            if (t < 0) return this.nextFragment(), null;
            var r = this.trees[t],
              n = this.index[t];
            if (n == r.children.length) {
              this.trees.pop(), this.start.pop(), this.index.pop();
              continue;
            }
            var s = r.children[n],
              o = this.start[t] + r.positions[n];
            if (o > e) return (this.nextStart = o), null;
            if (s instanceof Be) {
              if (o == e) {
                if (o < this.safeFrom) return null;
                var u = o + s.length;
                if (u <= this.safeTo) {
                  var l = s.prop(ue.lookAhead);
                  if (!l || u + l < this.fragment.to) return s;
                }
              }
              this.index[t]++, o + s.length >= Math.max(this.safeFrom, e) && (this.trees.push(s), this.start.push(o), this.index.push(0));
            } else this.index[t]++, (this.nextStart = o + s.length);
          }
        }
        constructor(e, t) {
          (this.fragments = e), (this.nodeSet = t), (this.i = 0), (this.fragment = null), (this.safeFrom = -1), (this.safeTo = -1), (this.trees = []), (this.start = []), (this.index = []), this.nextFragment();
        }
      }),
      (() => {
        a(_class94, "FragmentCursor");
      })(),
      _class94),
    Ch =
      ((_class95 = class _class {
        getActions(e) {
          var t = 0,
            r = null,
            _e_p = e.p,
            n = _e_p.parser,
            s = n.tokenizers,
            o = n.stateSlot(e.state, 3),
            u = e.curContext ? e.curContext.hash : 0,
            l = 0;
          for (var h = 0; h < s.length; h++) {
            if (!((1 << h) & o)) continue;
            var c = s[h],
              f = this.tokens[h];
            if (!(r && !c.fallback) && ((c.contextual || f.start != e.pos || f.mask != o || f.context != u) && (this.updateCachedToken(f, c, e), (f.mask = o), (f.context = u)), f.lookAhead > f.end + 25 && (l = Math.max(f.lookAhead, l)), f.value != 0)) {
              var d = t;
              if ((f.extended > -1 && (t = this.addActions(e, f.extended, f.end, t)), (t = this.addActions(e, f.value, f.end, t)), !c.extend && ((r = f), t > d))) break;
            }
          }
          for (; this.actions.length > t; ) this.actions.pop();
          return l && e.setLookAhead(l), !r && e.pos == this.stream.end && ((r = new Ar()), (r.value = e.p.parser.eofTerm), (r.start = r.end = e.pos), (t = this.addActions(e, r.value, r.end, t))), (this.mainToken = r), this.actions;
        }
        getMainToken(e) {
          if (this.mainToken) return this.mainToken;
          var t = new Ar(),
            r = e.pos,
            n = e.p;
          return (t.start = r), (t.end = Math.min(r + 1, n.stream.end)), (t.value = r == n.stream.end ? n.parser.eofTerm : 0), t;
        }
        updateCachedToken(e, t, r) {
          var n = this.stream.clipPos(r.pos);
          if ((t.token(this.stream.reset(n, e), r), e.value > -1)) {
            var _r_p = r.p,
              s = _r_p.parser;
            for (var o = 0; o < s.specialized.length; o++)
              if (s.specialized[o] == e.value) {
                var u = s.specializers[o](this.stream.read(e.start, e.end), r);
                if (u >= 0 && r.p.parser.dialect.allows(u >> 1)) {
                  u & 1 ? (e.extended = u >> 1) : (e.value = u >> 1);
                  break;
                }
              }
          } else (e.value = 0), (e.end = this.stream.clipPos(n + 1));
        }
        putAction(e, t, r, n) {
          for (var s = 0; s < n; s += 3) if (this.actions[s] == e) return n;
          return (this.actions[n++] = e), (this.actions[n++] = t), (this.actions[n++] = r), n;
        }
        addActions(e, t, r, n) {
          var s = e.state,
            _e_p = e.p,
            o = _e_p.parser,
            u = o.data;
          for (var l = 0; l < 2; l++)
            for (var h = o.stateSlot(s, l ? 2 : 1); ; h += 3) {
              if (u[h] == 65535)
                if (u[h + 1] == 1) h = Gt(u, h + 2);
                else {
                  n == 0 && u[h + 1] == 2 && (n = this.putAction(Gt(u, h + 2), t, r, n));
                  break;
                }
              u[h] == t && (n = this.putAction(Gt(u, h + 1), t, r, n));
            }
          return n;
        }
        constructor(e, t) {
          (this.stream = t), (this.tokens = []), (this.mainToken = null), (this.actions = []), (this.tokens = e.tokenizers.map((r) => new Ar()));
        }
      }),
      (() => {
        a(_class95, "TokenCache");
      })(),
      _class95),
    v1;
  (function (i) {
    (i[(i.Distance = 5)] = "Distance"),
      (i[(i.MaxRemainingPerStep = 3)] = "MaxRemainingPerStep"),
      (i[(i.MinBufferLengthPrune = 500)] = "MinBufferLengthPrune"),
      (i[(i.ForceReduceLimit = 10)] = "ForceReduceLimit"),
      (i[(i.CutDepth = 15e3)] = "CutDepth"),
      (i[(i.CutTo = 9e3)] = "CutTo"),
      (i[(i.MaxLeftAssociativeReductionCount = 300)] = "MaxLeftAssociativeReductionCount"),
      (i[(i.MaxStackCount = 12)] = "MaxStackCount");
  })(v1 || (v1 = {}));
  var Ah =
    ((_class96 = class _class {
      get parsedPos() {
        return this.minStackPos;
      }
      advance() {
        var e = this.stacks,
          t = this.minStackPos,
          r = (this.stacks = []),
          n,
          s;
        if (this.bigReductionCount > 300 && e.length == 1) {
          var _e = _sliced_to_array(e, 1),
            o = _e[0];
          for (; o.forceReduce() && o.stack.length && o.stack[o.stack.length - 2] >= this.lastBigReductionStart; );
          this.bigReductionCount = this.lastBigReductionSize = 0;
        }
        for (var o1 = 0; o1 < e.length; o1++) {
          var u = e[o1];
          for (;;) {
            if (((this.tokens.mainToken = null), u.pos > t)) r.push(u);
            else {
              if (this.advanceStack(u, r, e)) continue;
              {
                n || ((n = []), (s = [])), n.push(u);
                var l = this.tokens.getMainToken(u);
                s.push(l.value, l.end);
              }
            }
            break;
          }
        }
        if (!r.length) {
          var o2 = n && n4(n);
          if (o2) return this.stackToTree(o2);
          if (this.parser.strict) throw (Et && n && console.log("Stuck with token " + (this.tokens.mainToken ? this.parser.getName(this.tokens.mainToken.value) : "none")), new SyntaxError("No parse at " + t));
          this.recovering || (this.recovering = 5);
        }
        if (this.recovering && n) {
          var o3 = this.stoppedAt != null && n[0].pos > this.stoppedAt ? n[0] : this.runRecovery(n, s, r);
          if (o3) return this.stackToTree(o3.forceAll());
        }
        if (this.recovering) {
          var o4 = this.recovering == 1 ? 1 : this.recovering * 3;
          if (r.length > o4) for (r.sort((u, l) => l.score - u.score); r.length > o4; ) r.pop();
          r.some((u) => u.reducePos > t) && this.recovering--;
        } else if (r.length > 1) {
          e: for (var o5 = 0; o5 < r.length - 1; o5++) {
            var u1 = r[o5];
            for (var l1 = o5 + 1; l1 < r.length; l1++) {
              var h = r[l1];
              if (u1.sameState(h) || (u1.buffer.length > 500 && h.buffer.length > 500))
                if ((u1.score - h.score || u1.buffer.length - h.buffer.length) > 0) r.splice(l1--, 1);
                else {
                  r.splice(o5--, 1);
                  continue e;
                }
            }
          }
          r.length > 12 && r.splice(12, r.length - 12);
        }
        this.minStackPos = r[0].pos;
        for (var o6 = 1; o6 < r.length; o6++) r[o6].pos < this.minStackPos && (this.minStackPos = r[o6].pos);
        return null;
      }
      stopAt(e) {
        if (this.stoppedAt != null && this.stoppedAt < e) throw new RangeError("Can't move stoppedAt forward");
        this.stoppedAt = e;
      }
      advanceStack(e, t, r) {
        var n = e.pos,
          _this = this,
          s = _this.parser,
          o = Et ? this.stackID(e) + " -> " : "";
        if (this.stoppedAt != null && n > this.stoppedAt) return e.forceReduce() ? e : null;
        if (this.fragments) {
          var h = e.curContext && e.curContext.tracker.strict,
            c = h ? e.curContext.hash : 0;
          for (var f = this.fragments.nodeAt(n); f; ) {
            var d = this.parser.nodeSet.types[f.type.id] == f.type ? s.getGoto(e.state, f.type.id) : -1;
            if (d > -1 && f.length && (!h || (f.prop(ue.contextHash) || 0) == c)) return e.useNode(f, d), Et && console.log(o + this.stackID(e) + " (via reuse of ".concat(s.getName(f.type.id), ")")), !0;
            if (!(f instanceof Be) || f.children.length == 0 || f.positions[0] > 0) break;
            var p = f.children[0];
            if (p instanceof Be && f.positions[0] == 0) f = p;
            else break;
          }
        }
        var u = s.stateSlot(e.state, 4);
        if (u > 0) return e.reduce(u), Et && console.log(o + this.stackID(e) + " (via always-reduce ".concat(s.getName(u & 65535), ")")), !0;
        if (e.stack.length >= 15e3) for (; e.stack.length > 9e3 && e.forceReduce(); );
        var l = this.tokens.getActions(e);
        for (var h1 = 0; h1 < l.length; ) {
          var c1 = l[h1++],
            f1 = l[h1++],
            d1 = l[h1++],
            p1 = h1 == l.length || !r,
            m = p1 ? e : e.split();
          if (
            (m.apply(c1, f1, d1),
            Et &&
              console.log(
                o +
                  this.stackID(m) +
                  " (via "
                    .concat(c1 & 65536 ? "reduce of ".concat(s.getName(c1 & 65535)) : "shift", " for ")
                    .concat(s.getName(f1), " @ ")
                    .concat(n)
                    .concat(m == e ? "" : ", split", ")")
              ),
            p1)
          )
            return !0;
          m.pos > n ? t.push(m) : r.push(m);
        }
        return !1;
      }
      advanceFully(e, t) {
        var r = e.pos;
        for (;;) {
          if (!this.advanceStack(e, null, null)) return !1;
          if (e.pos > r) return k1(e, t), !0;
        }
      }
      runRecovery(e, t, r) {
        var n = null,
          s = !1;
        for (var o = 0; o < e.length; o++) {
          var u = e[o],
            l = t[o << 1],
            h = t[(o << 1) + 1],
            c = Et ? this.stackID(u) + " -> " : "";
          if (u.deadEnd && (s || ((s = !0), u.restart(), Et && console.log(c + this.stackID(u) + " (restarted)"), this.advanceFully(u, r)))) continue;
          var f = u.split(),
            d = c;
          for (var p = 0; f.forceReduce() && p < 10 && (Et && console.log(d + this.stackID(f) + " (via force-reduce)"), !this.advanceFully(f, r)); p++) Et && (d = this.stackID(f) + " -> ");
          var _iteratorNormalCompletion = true,
            _didIteratorError = false,
            _iteratorError = undefined;
          try {
            for (var _iterator = u.recoverByInsert(l)[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
              var p1 = _step.value;
              Et && console.log(c + this.stackID(p1) + " (via recover-insert)"), this.advanceFully(p1, r);
            }
          } catch (err) {
            _didIteratorError = true;
            _iteratorError = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion && _iterator.return != null) {
                _iterator.return();
              }
            } finally {
              if (_didIteratorError) {
                throw _iteratorError;
              }
            }
          }
          this.stream.end > u.pos ? (h == u.pos && (h++, (l = 0)), u.recoverByDelete(l, h), Et && console.log(c + this.stackID(u) + " (via recover-delete ".concat(this.parser.getName(l), ")")), k1(u, r)) : (!n || n.score < u.score) && (n = u);
        }
        return n;
      }
      stackToTree(e) {
        return e.close(), Be.build({ buffer: Dh.create(e), nodeSet: this.parser.nodeSet, topID: this.topTerm, maxBufferLength: this.parser.bufferLength, reused: this.reused, start: this.ranges[0].from, length: e.pos - this.ranges[0].from, minRepeatType: this.parser.minRepeatTerm });
      }
      stackID(e) {
        var t = (ph || (ph = new WeakMap())).get(e);
        return t || ph.set(e, (t = String.fromCodePoint(this.nextStackID++))), t + e;
      }
      constructor(e, t, r, n) {
        (this.parser = e), (this.input = t), (this.ranges = n), (this.recovering = 0), (this.nextStackID = 9812), (this.minStackPos = 0), (this.reused = []), (this.stoppedAt = null), (this.lastBigReductionStart = -1), (this.lastBigReductionSize = 0), (this.bigReductionCount = 0), (this.stream = new bh(t, n)), (this.tokens = new Ch(e, this.stream)), (this.topTerm = e.top[1]);
        var _n_ = n[0],
          s = _n_.from;
        (this.stacks = [mh.start(this, e.top[0], s)]), (this.fragments = r.length && this.stream.end - s > e.bufferLength * 4 ? new yh(r, e.nodeSet) : null);
      }
    }),
    (() => {
      a(_class96, "Parse");
    })(),
    _class96);
  function k1(i, e) {
    for (var t = 0; t < e.length; t++) {
      var r = e[t];
      if (r.pos == i.pos && r.sameState(i)) {
        e[t].score < i.score && (e[t] = i);
        return;
      }
    }
    e.push(i);
  }
  a(k1, "pushStackDedup");
  var Eh =
    ((_class97 = class _class {
      allows(e) {
        return !this.disabled || this.disabled[e] == 0;
      }
      constructor(e, t, r) {
        (this.source = e), (this.flags = t), (this.disabled = r);
      }
    }),
    (() => {
      a(_class97, "Dialect");
    })(),
    _class97);
  var Mo =
    ((_i65 = class i extends gr {
      createParse(e, t, r) {
        var n = new Ah(this, e, t, r);
        var _iteratorNormalCompletion = true,
          _didIteratorError = false,
          _iteratorError = undefined;
        try {
          for (var _iterator = this.wrappers[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
            var s = _step.value;
            n = s(n, e, t, r);
          }
        } catch (err) {
          _didIteratorError = true;
          _iteratorError = err;
        } finally {
          try {
            if (!_iteratorNormalCompletion && _iterator.return != null) {
              _iterator.return();
            }
          } finally {
            if (_didIteratorError) {
              throw _iteratorError;
            }
          }
        }
        return n;
      }
      getGoto(e, t) {
        var r = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : !1;
        var n = this.goto;
        if (t >= n[0]) return -1;
        for (var s = n[t + 1]; ; ) {
          var o = n[s++],
            u = o & 1,
            l = n[s++];
          if (u && r) return l;
          for (var h = s + (o >> 1); s < h; s++) if (n[s] == e) return l;
          if (u) return -1;
        }
      }
      hasAction(e, t) {
        var r = this.data;
        for (var n = 0; n < 2; n++)
          for (var s = this.stateSlot(e, n ? 2 : 1), o = void 0; ; s += 3) {
            if ((o = r[s]) == 65535)
              if (r[s + 1] == 1) o = r[(s = Gt(r, s + 2))];
              else {
                if (r[s + 1] == 2) return Gt(r, s + 2);
                break;
              }
            if (o == t || o == 0) return Gt(r, s + 1);
          }
        return 0;
      }
      stateSlot(e, t) {
        return this.states[e * 6 + t];
      }
      stateFlag(e, t) {
        return (this.stateSlot(e, 0) & t) > 0;
      }
      validAction(e, t) {
        if (t == this.stateSlot(e, 4)) return !0;
        for (var r = this.stateSlot(e, 1); ; r += 3) {
          if (this.data[r] == 65535)
            if (this.data[r + 1] == 1) r = Gt(this.data, r + 2);
            else return !1;
          if (t == Gt(this.data, r + 1)) return !0;
        }
      }
      nextStates(e) {
        var _this = this,
          _loop = function (r1) {
            if (_this.data[r1] == 65535)
              if (_this.data[r1 + 1] == 1) r1 = Gt(_this.data, r1 + 2);
              else return (r = r1), "break";
            if (!(_this.data[r1 + 2] & 1)) {
              var n = _this.data[r1 + 1];
              t.some((s, o) => o & 1 && s == n) || t.push(_this.data[r1], n);
            }
            (r = r1), void 0;
          };
        var t = [];
        for (var r = this.stateSlot(e, 1); ; r += 3) {
          var _ret = _loop(r);
          if (_ret === "break") break;
        }
        return t;
      }
      configure(e) {
        var t = Object.assign(Object.create(i.prototype), this);
        if ((e.props && (t.nodeSet = this.nodeSet.extend(...e.props)), e.top)) {
          var r = this.topRules[e.top];
          if (!r) throw new RangeError("Invalid top rule name ".concat(e.top));
          t.top = r;
        }
        return (
          e.tokenizers &&
            (t.tokenizers = this.tokenizers.map((r) => {
              var n = e.tokenizers.find((s) => s.from == r);
              return n ? n.to : r;
            })),
          e.specializers &&
            ((t.specializers = this.specializers.slice()),
            (t.specializerSpecs = this.specializerSpecs.map((r, n) => {
              var s = e.specializers.find((u) => u.from == r.external);
              if (!s) return r;
              var o = Object.assign(Object.assign({}, r), { external: s.to });
              return (t.specializers[n] = w1(o)), o;
            }))),
          e.contextTracker && (t.context = e.contextTracker),
          e.dialect && (t.dialect = this.parseDialect(e.dialect)),
          e.strict != null && (t.strict = e.strict),
          e.wrap && (t.wrappers = t.wrappers.concat(e.wrap)),
          e.bufferLength != null && (t.bufferLength = e.bufferLength),
          t
        );
      }
      hasWrappers() {
        return this.wrappers.length > 0;
      }
      getName(e) {
        return this.termNames ? this.termNames[e] : String((e <= this.maxNode && this.nodeSet.types[e].name) || e);
      }
      get eofTerm() {
        return this.maxNode + 1;
      }
      get topNode() {
        return this.nodeSet.types[this.top[1]];
      }
      dynamicPrecedence(e) {
        var t = this.dynamicPrecedences;
        return t == null ? 0 : t[e] || 0;
      }
      parseDialect(e) {
        var t = Object.keys(this.dialects),
          r = t.map(() => !1);
        var _iteratorNormalCompletion = true,
          _didIteratorError = false,
          _iteratorError = undefined;
        if (e)
          try {
            for (var _iterator = e.split(" ")[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
              var s = _step.value;
              var o = t.indexOf(s);
              o >= 0 && (r[o] = !0);
            }
          } catch (err) {
            _didIteratorError = true;
            _iteratorError = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion && _iterator.return != null) {
                _iterator.return();
              }
            } finally {
              if (_didIteratorError) {
                throw _iteratorError;
              }
            }
          }
        var n = null;
        for (var s1 = 0; s1 < t.length; s1++) if (!r[s1]) for (var o1 = this.dialects[t[s1]], u = void 0; (u = this.data[o1++]) != 65535; ) (n || (n = new Uint8Array(this.maxTerm + 1)))[u] = 1;
        return new Eh(e, r, n);
      }
      static deserialize(e) {
        return new i(e);
      }
      constructor(e) {
        if ((super(), (this.wrappers = []), e.version != 14)) throw new RangeError("Parser version (".concat(e.version, ") doesn't match runtime version (14)"));
        var t = e.nodeNames.split(" ");
        this.minRepeatTerm = t.length;
        for (var u = 0; u < e.repeatNodeCount; u++) t.push("");
        var r = Object.keys(e.topRules).map((u) => e.topRules[u][1]),
          n = [];
        for (var u1 = 0; u1 < t.length; u1++) n.push([]);
        function s(u, l, h) {
          n[u].push([l, l.deserialize(String(h))]);
        }
        var _iteratorNormalCompletion = true,
          _didIteratorError = false,
          _iteratorError = undefined;
        if ((a(s, "setProp"), e.nodeProps))
          try {
            for (var _iterator = e.nodeProps[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
              var u2 = _step.value;
              var l = u2[0];
              typeof l == "string" && (l = ue[l]);
              for (var h = 1; h < u2.length; ) {
                var c = u2[h++];
                if (c >= 0) s(c, l, u2[h++]);
                else {
                  var f = u2[h + -c];
                  for (var d = -c; d > 0; d--) s(u2[h++], l, f);
                  h++;
                }
              }
            }
          } catch (err) {
            _didIteratorError = true;
            _iteratorError = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion && _iterator.return != null) {
                _iterator.return();
              }
            } finally {
              if (_didIteratorError) {
                throw _iteratorError;
              }
            }
          }
        (this.nodeSet = new pn(t.map((u, l) => Ve.define({ name: l >= this.minRepeatTerm ? void 0 : u, id: l, props: n[l], top: r.indexOf(l) > -1, error: l == 0, skipped: e.skippedNodes && e.skippedNodes.indexOf(l) > -1 })))), e.propSources && (this.nodeSet = this.nodeSet.extend(...e.propSources)), (this.strict = !1), (this.bufferLength = 1024);
        var o = yn(e.tokenData);
        (this.context = e.context), (this.specializerSpecs = e.specialized || []), (this.specialized = new Uint16Array(this.specializerSpecs.length));
        for (var u3 = 0; u3 < this.specializerSpecs.length; u3++) this.specialized[u3] = this.specializerSpecs[u3].term;
        (this.specializers = this.specializerSpecs.map(w1)),
          (this.states = yn(e.states, Uint32Array)),
          (this.data = yn(e.stateData)),
          (this.goto = yn(e.goto)),
          (this.maxTerm = e.maxTerm),
          (this.tokenizers = e.tokenizers.map((u) => (typeof u == "number" ? new li(o, u) : u))),
          (this.topRules = e.topRules),
          (this.dialects = e.dialects || {}),
          (this.dynamicPrecedences = e.dynamicPrecedences || null),
          (this.tokenPrecTable = e.tokenPrec),
          (this.termNames = e.termNames || null),
          (this.maxNode = this.nodeSet.types.length - 1),
          (this.dialect = this.parseDialect()),
          (this.top = this.topRules[Object.keys(this.topRules)[0]]);
      }
    }),
    (() => {
      a(_i65, "LRParser");
    })(),
    _i65);
  function Gt(i, e) {
    return i[e] | (i[e + 1] << 16);
  }
  a(Gt, "pair");
  function n4(i) {
    var e = null;
    var _iteratorNormalCompletion = true,
      _didIteratorError = false,
      _iteratorError = undefined;
    try {
      for (var _iterator = i[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
        var t = _step.value;
        var r = t.p.stoppedAt;
        (t.pos == t.p.stream.end || (r != null && t.pos > r)) && t.p.parser.stateFlag(t.state, 2) && (!e || e.score < t.score) && (e = t);
      }
    } catch (err) {
      _didIteratorError = true;
      _iteratorError = err;
    } finally {
      try {
        if (!_iteratorNormalCompletion && _iterator.return != null) {
          _iterator.return();
        }
      } finally {
        if (_didIteratorError) {
          throw _iteratorError;
        }
      }
    }
    return e;
  }
  a(n4, "findFinished");
  function w1(i) {
    if (i.external) {
      var e = i.extend ? 1 : 0;
      return (t, r) => (i.external(t, r) << 1) | e;
    }
    return i.get;
  }
  a(w1, "getSpecializer");
  var S1 = Mo.deserialize({
    version: 14,
    states:
      "'[QVQPOOOhQPO'#CsOmQPO'#CwOrQPO'#CzOOQO'#Cp'#CpOOQO'#Ci'#CiQVQPOOOwQPO'#CpO|QQO,59_O![QQO,59cO!aQSO,59fOOQO-E6g-E6gO!fQWO'#C_OOQO,59[,59[OOQO'#Cu'#CuO!qQPO'#CtO!|QPO1G.yO#RQPO'#CxO#WQPO1G.}O#]QPO1G/QO#bQWO'#CjO#mQPO,58yOOQO,58y,58yO#mQPO,58yO|QQO'#CkO#uQPO,59`OOQO7+$e7+$eO|QQO,59dOOQO7+$i7+$iO![QQO7+$lOOQO,59U,59UOOQO-E6h-E6hOOQO1G.e1G.eO$QQPO1G.eOOQO,59V,59VOOQO-E6i-E6iOOQO1G/O1G/OO$YQPO<<HWOOQO7+$P7+$PO$bQQOAN=rO$jQPOAN=rOOQOAN=rAN=rOOQO,59W,59WOOQOG23^G23^O$rQQOG23^OOQO-E6j-E6jOOQOLD(xLD(xP![QQO'#Cl",
    stateData: "$z~OcOS~OQVOTPOXQOYRO[SO~OeWO~OeXO~OeYO~Oe[O~OU^OV^OW^Oe[O~OWaO~OZcO~OSgOe[OffO~OjhOfhXohX~OfjO~OmkO~OflO~OomO~OSnOe^Xf^X~Oe[OfpO~OjhOfhaoha~Oe[OfvO~OfyOowO~OWaOf{O~Of{Oo|O~OWaOf!OO~O",
    goto: "#^oPPPpPPPPPPPPP!O!U!`!fPPP!lPP!p!t!zP!p#RP!pQ]VU^WhkXd[egqQUORZUQe[SoeqRqgQi_RsiQxuR}xTTOUTSOUQ`WRtkS_WkRrhQbXQumVzw|!P",
    nodeNames: "⚠ Program CommentCommand Braced BraceContent PreambleCommand Quoted Number Identifier StringCommand Command Key Comment",
    maxTerm: 31,
    skippedNodes: [0],
    repeatNodeCount: 4,
    tokenData:
      "!<f~R|OX#{X^$g^p#{pq$gqr#{rs&]st+[t|#{|}+r}!Q#{!Q![,Y![!_#{!_!`,v!`!b#{!b!c-^!c!}Kx!}#R#{#R#SKx#S#T#{#T#bKx#b#cNO#c#oKx#o#p!<[#p#q#{#q#r!<a#r#y#{#y#z$g#z$f#{$f$g$g$g#BY#{#BY#BZ$g#BZ$IS#{$IS$I_$g$I_$I|#{$I|$JO$g$JO$JT#{$JT$JU$g$JU$KV#{$KV$KW$g$KW&FU#{&FU&FV$g&FV;'S#{;'S;=`$a<%lO#{W$QTSWO#o#{#p#q#{#r;'S#{;'S;=`$a<%lO#{W$dP;=`<%l#{~$niSWc~OX#{X^$g^p#{pq$gq#o#{#p#q#{#r#y#{#y#z$g#z$f#{$f$g$g$g#BY#{#BY#BZ$g#BZ$IS#{$IS$I_$g$I_$I|#{$I|$JO$g$JO$JT#{$JT$JU$g$JU$KV#{$KV$KW$g$KW&FU#{&FU&FV$g&FV;'S#{;'S;=`$a<%lO#{Y&bZSWOr&]rs'Ts#O&]#O#P'k#P#o&]#o#p)]#p#q&]#q#r)]#r;'S&];'S;=`+U<%lO&]Y'[TUQSWO#o#{#p#q#{#r;'S#{;'S;=`$a<%lO#{Y'pZSWOr&]rs(cs#O&]#O#P'k#P#o&]#o#p)]#p#q&]#q#r)]#r;'S&];'S;=`+U<%lO&]Y(jZUQSWOr&]rs'Ts#O&]#O#P'k#P#o&]#o#p)]#p#q&]#q#r)]#r;'S&];'S;=`+U<%lO&]Q)`VOr)]rs)us#O)]#O#P)z#P;'S)];'S;=`+O<%lO)]Q)zOUQQ)}VOr)]rs*ds#O)]#O#P)z#P;'S)];'S;=`+O<%lO)]Q*iVUQOr)]rs)us#O)]#O#P)z#P;'S)];'S;=`+O<%lO)]Q+RP;=`<%l)]Y+XP;=`<%l&]X+cTjPSWO#o#{#p#q#{#r;'S#{;'S;=`$a<%lO#{X+yToPSWO#o#{#p#q#{#r;'S#{;'S;=`$a<%lO#{Y,aVVQSWO!Q#{!Q![,Y![#o#{#p#q#{#r;'S#{;'S;=`$a<%lO#{X,}TmPSWO#o#{#p#q#{#r;'S#{;'S;=`$a<%lO#{~-cfSWO!c#{!c!e.w!e!f0{!f!r.w!r!s9|!s!u.w!u!vDW!v!}.w!}#R#{#R#S.w#S#T#{#T#V.w#V#W0{#W#d.w#d#e9|#e#g.w#g#hDW#h#o.w#p#q#{#r;'S#{;'S;=`$a<%lO#{~.|^SWO}#{}!O/x!O!Q#{!Q![/x![!c#{!c!}/x!}#R#{#R#S/x#S#T#{#T#o/x#p#q#{#r;'S#{;'S;=`$a<%lO#{~0P^Y~SWO}#{}!O/x!O!Q#{!Q![/x![!c#{!c!}/x!}#R#{#R#S/x#S#T#{#T#o/x#p#q#{#r;'S#{;'S;=`$a<%lO#{~1QbSWO}#{}!O/x!O!Q#{!Q![/x![!c#{!c!q/x!q!r2Y!r!}/x!}#R#{#R#S/x#S#T#{#T#c/x#c#d2Y#d#o/x#p#q#{#r;'S#{;'S;=`$a<%lO#{~2abY~SWO}#{}!O/x!O!Q#{!Q![/x![!c#{!c!o/x!o!p3i!p!}/x!}#R#{#R#S/x#S#T#{#T#a/x#a#b3i#b#o/x#p#q#{#r;'S#{;'S;=`$a<%lO#{~3pbY~SWO}#{}!O/x!O!Q#{!Q![/x![!c#{!c!o/x!o!p4x!p!}/x!}#R#{#R#S/x#S#T#{#T#a/x#a#b4x#b#o/x#p#q#{#r;'S#{;'S;=`$a<%lO#{~5PbY~SWO}#{}!O/x!O!Q#{!Q![/x![!c#{!c!g/x!g!h6X!h!}/x!}#R#{#R#S/x#S#T#{#T#X/x#X#Y6X#Y#o/x#p#q#{#r;'S#{;'S;=`$a<%lO#{~6`bY~SWO}#{}!O/x!O!Q#{!Q![/x![!c#{!c!p/x!p!q7h!q!}/x!}#R#{#R#S/x#S#T#{#T#b/x#b#c7h#c#o/x#p#q#{#r;'S#{;'S;=`$a<%lO#{~7obY~SWO}#{}!O/x!O!Q#{!Q![/x![!c#{!c!v/x!v!w8w!w!}/x!}#R#{#R#S/x#S#T#{#T#h/x#h#i8w#i#o/x#p#q#{#r;'S#{;'S;=`$a<%lO#{~9Q^Q~Y~SWO}#{}!O/x!O!Q#{!Q![/x![!c#{!c!}/x!}#R#{#R#S/x#S#T#{#T#o/x#p#q#{#r;'S#{;'S;=`$a<%lO#{~:RbSWO}#{}!O/x!O!Q#{!Q![/x![!c#{!c!t/x!t!u;Z!u!}/x!}#R#{#R#S/x#S#T#{#T#f/x#f#g;Z#g#o/x#p#q#{#r;'S#{;'S;=`$a<%lO#{~;bbY~SWO}#{}!O/x!O!Q#{!Q![/x![!c#{!c!g/x!g!h<j!h!}/x!}#R#{#R#S/x#S#T#{#T#X/x#X#Y<j#Y#o/x#p#q#{#r;'S#{;'S;=`$a<%lO#{~<q`Y~SWO}#{}!O/x!O!Q#{!Q![/x![!c#{!c!d=s!d!}/x!}#R#{#R#S/x#S#T#{#T#U=s#U#o/x#p#q#{#r;'S#{;'S;=`$a<%lO#{~=zbY~SWO}#{}!O/x!O!Q#{!Q![/x![!c#{!c!o/x!o!p?S!p!}/x!}#R#{#R#S/x#S#T#{#T#a/x#a#b?S#b#o/x#p#q#{#r;'S#{;'S;=`$a<%lO#{~?ZbY~SWO}#{}!O/x!O!Q#{!Q![/x![!c#{!c!d/x!d!e@c!e!}/x!}#R#{#R#S/x#S#T#{#T#U/x#U#V@c#V#o/x#p#q#{#r;'S#{;'S;=`$a<%lO#{~@jbY~SWO}#{}!O/x!O!Q#{!Q![/x![!c#{!c!n/x!n!oAr!o!}/x!}#R#{#R#S/x#S#T#{#T#`/x#`#aAr#a#o/x#p#q#{#r;'S#{;'S;=`$a<%lO#{~AybY~SWO}#{}!O/x!O!Q#{!Q![/x![!c#{!c!g/x!g!hCR!h!}/x!}#R#{#R#S/x#S#T#{#T#X/x#X#YCR#Y#o/x#p#q#{#r;'S#{;'S;=`$a<%lO#{~C[^T~Y~SWO}#{}!O/x!O!Q#{!Q![/x![!c#{!c!}/x!}#R#{#R#S/x#S#T#{#T#o/x#p#q#{#r;'S#{;'S;=`$a<%lO#{~D]bSWO}#{}!O/x!O!Q#{!Q![/x![!c#{!c!v/x!v!wEe!w!}/x!}#R#{#R#S/x#S#T#{#T#h/x#h#iEe#i#o/x#p#q#{#r;'S#{;'S;=`$a<%lO#{~ElbY~SWO}#{}!O/x!O!Q#{!Q![/x![!c#{!c!t/x!t!uFt!u!}/x!}#R#{#R#S/x#S#T#{#T#f/x#f#gFt#g#o/x#p#q#{#r;'S#{;'S;=`$a<%lO#{~F{bY~SWO}#{}!O/x!O!Q#{!Q![/x![!c#{!c!k/x!k!lHT!l!}/x!}#R#{#R#S/x#S#T#{#T#]/x#]#^HT#^#o/x#p#q#{#r;'S#{;'S;=`$a<%lO#{~H[bY~SWO}#{}!O/x!O!Q#{!Q![/x![!c#{!c!p/x!p!qId!q!}/x!}#R#{#R#S/x#S#T#{#T#b/x#b#cId#c#o/x#p#q#{#r;'S#{;'S;=`$a<%lO#{~IkbY~SWO}#{}!O/x!O!Q#{!Q![/x![!c#{!c!i/x!i!jJs!j!}/x!}#R#{#R#S/x#S#T#{#T#Z/x#Z#[Js#[#o/x#p#q#{#r;'S#{;'S;=`$a<%lO#{~J|^X~Y~SWO}#{}!O/x!O!Q#{!Q![/x![!c#{!c!}/x!}#R#{#R#S/x#S#T#{#T#o/x#p#q#{#r;'S#{;'S;=`$a<%lO#{^K}^SWO}#{}!OLy!O!Q#{!Q![Ly![!c#{!c!}Ly!}#R#{#R#SLy#S#T#{#T#oLy#p#q#{#r;'S#{;'S;=`$a<%lO#{^MS^WQZSSWO}#{}!OLy!O!Q#{!Q![Ly![!c#{!c!}Ly!}#R#{#R#SLy#S#T#{#T#oLy#p#q#{#r;'S#{;'S;=`$a<%lO#{_NT`SWO}#{}!OLy!O!Q#{!Q![Ly![!c#{!c!}Ly!}#R#{#R#SLy#S#T#{#T#cLy#c#d! V#d#oLy#p#q#{#r;'S#{;'S;=`$a<%lO#{_! ``WQZSSWOp#{pq!!bq}#{}!OLy!O!Q#{!Q![Ly![!c#{!c!}Ly!}#R#{#R#SLy#S#T#{#T#oLy#p#q#{#r;'S#{;'S;=`$a<%lO#{X!!gVSWO#]#{#]#^!!|#^#o#{#p#q#{#r;'S#{;'S;=`$a<%lO#{X!#RVSWO#W#{#W#X!#h#X#o#{#p#q#{#r;'S#{;'S;=`$a<%lO#{X!#mVSWO#X#{#X#Y!$S#Y#o#{#p#q#{#r;'S#{;'S;=`$a<%lO#{X!$XVSWO#T#{#T#U!$n#U#o#{#p#q#{#r;'S#{;'S;=`$a<%lO#{X!$sVSWOp#{pq!%Yq#o#{#p#q#{#r;'S#{;'S;=`$a<%lO#{X!%_VSWO#k#{#k#l!%t#l#o#{#p#q#{#r;'S#{;'S;=`$a<%lO#{X!%yVSWO#[#{#[#]!&`#]#o#{#p#q#{#r;'S#{;'S;=`$a<%lO#{X!&eVSWO#m#{#m#n!&z#n#o#{#p#q#{#r;'S#{;'S;=`$a<%lO#{X!'PVSWOp#{pq!'fq#o#{#p#q#{#r;'S#{;'S;=`$a<%lO#{X!'kVSWO#h#{#h#i!(Q#i#o#{#p#q#{#r;'S#{;'S;=`$a<%lO#{X!(VVSWO#[#{#[#]!(l#]#o#{#p#q#{#r;'S#{;'S;=`$a<%lO#{X!(qVSWO#]#{#]#^!)W#^#o#{#p#q#{#r;'S#{;'S;=`$a<%lO#{X!)]VSWO#g#{#g#h!)r#h#o#{#p#q#{#r;'S#{;'S;=`$a<%lO#{X!)wVSWOp#{pq!*^q#o#{#p#q#{#r;'S#{;'S;=`$a<%lO#{X!*cVSWO#g#{#g#h!*x#h#o#{#p#q#{#r;'S#{;'S;=`$a<%lO#{X!*}VSWO#h#{#h#i!+d#i#o#{#p#q#{#r;'S#{;'S;=`$a<%lO#{X!+iVSWO#f#{#f#g!,O#g#o#{#p#q#{#r;'S#{;'S;=`$a<%lO#{X!,TVSWO#]#{#]#^!,j#^#o#{#p#q#{#r;'S#{;'S;=`$a<%lO#{X!,oVSWO#b#{#b#c!-U#c#o#{#p#q#{#r;'S#{;'S;=`$a<%lO#{X!-ZVSWO#Z#{#Z#[!-p#[#o#{#p#q#{#r;'S#{;'S;=`$a<%lO#{X!-uVSWOp#{pq!.[q#o#{#p#q#{#r;'S#{;'S;=`$a<%lO#{X!.aVSWO#]#{#]#^!.v#^#o#{#p#q#{#r;'S#{;'S;=`$a<%lO#{X!.{VSWO#g#{#g#h!/b#h#o#{#p#q#{#r;'S#{;'S;=`$a<%lO#{X!/gVSWOp#{pq!/|q#o#{#p#q#{#r;'S#{;'S;=`$a<%lO#{X!0RVSWO#b#{#b#c!0h#c#o#{#p#q#{#r;'S#{;'S;=`$a<%lO#{X!0mVSWO#X#{#X#Y!1S#Y#o#{#p#q#{#r;'S#{;'S;=`$a<%lO#{X!1XVSWO#X#{#X#Y!1n#Y#o#{#p#q#{#r;'S#{;'S;=`$a<%lO#{X!1sVSWO#W#{#W#X!2Y#X#o#{#p#q#{#r;'S#{;'S;=`$a<%lO#{X!2_VSWO#X#{#X#Y!2t#Y#o#{#p#q#{#r;'S#{;'S;=`$a<%lO#{X!2yVSWO#W#{#W#X!3`#X#o#{#p#q#{#r;'S#{;'S;=`$a<%lO#{X!3eVSWOp#{pq!3zq#o#{#p#q#{#r;'S#{;'S;=`$a<%lO#{X!4PVSWO#U#{#U#V!4f#V#o#{#p#q#{#r;'S#{;'S;=`$a<%lO#{X!4kVSWO#i#{#i#j!5Q#j#o#{#p#q#{#r;'S#{;'S;=`$a<%lO#{X!5VVSWO#h#{#h#i!5l#i#o#{#p#q#{#r;'S#{;'S;=`$a<%lO#{X!5qVSWOp#{pq!6Wq#o#{#p#q#{#r;'S#{;'S;=`$a<%lO#{X!6]VSWO#k#{#k#l!6r#l#o#{#p#q#{#r;'S#{;'S;=`$a<%lO#{X!6wVSWO#[#{#[#]!7^#]#o#{#p#q#{#r;'S#{;'S;=`$a<%lO#{X!7cVSWO#T#{#T#U!7x#U#o#{#p#q#{#r;'S#{;'S;=`$a<%lO#{X!7}VSWO#h#{#h#i!8d#i#o#{#p#q#{#r;'S#{;'S;=`$a<%lO#{X!8iVSWO#X#{#X#Y!9O#Y#o#{#p#q#{#r;'S#{;'S;=`$a<%lO#{X!9TVSWO#j#{#j#k!9j#k#o#{#p#q#{#r;'S#{;'S;=`$a<%lO#{X!9oVSWO#X#{#X#Y!:U#Y#o#{#p#q#{#r;'S#{;'S;=`$a<%lO#{X!:ZVSWO#f#{#f#g!:p#g#o#{#p#q#{#r;'S#{;'S;=`$a<%lO#{X!:uXSWOp!;bpq#{q!b!;b!b!c#{!c#o!;b#p#q!;b#r;'S!;b;'S;=`!<U<%lO!;bX!;iX[PSWOp!;bpq#{q!b!;b!b!c#{!c#o!;b#p#q!;b#r;'S!;b;'S;=`!<U<%lO!;bX!<XP;=`<%l!;b~!<aOe~~!<fOf~",
    tokenizers: [0, 1, 2, 3],
    topRules: { Program: [0, 1] },
    tokenPrec: 4,
  });
  var s4 = xo.define({ parser: S1.configure({ props: [wo({ Identifier: O.variableName, Comment: O.comment, Key: O.name, Number: O.number, BraceContent: O.string, Quoted: O.string, Command: O.className, CommentCommand: O.className, PreambleCommand: O.className, StringCommand: O.className, Field: O.variableName })] }) }),
    o4 = yr.define([
      { tag: O.comment, color: "var(--light5)" },
      { tag: O.name, color: "var(--orange)" },
      { tag: O.number, color: "var(--light-blue)" },
      { tag: O.string, color: "var(--green)" },
      { tag: O.className, color: "var(--pink)" },
      { tag: O.variableName, color: "white" },
    ]);
  function B1() {
    return new So(s4);
  }
  a(B1, "bibtexLanguage");
  function _1() {
    return XD(o4);
  }
  a(_1, "bibtexSyntaxHighlighting");
  function u4(i) {
    var e, t, r;
    return (
      (t = new b1({ props: { bibtex: i[0] } })),
      {
        c() {
          (e = R("main")), P(t.$$.fragment), A(e, "id", "editor"), A(e, "class", "svelte-x4zh2g");
        },
        m(n, s) {
          C(n, e, s), $(t, e, null), i[5](e), (r = !0);
        },
        p(n, param) {
          var _param = _sliced_to_array(param, 1),
            s = _param[0];
          var o = {};
          s & 1 && (o.bibtex = n[0]), t.$set(o);
        },
        i(n) {
          r || (S(t.$$.fragment, n), (r = !0));
        },
        o(n) {
          B(t.$$.fragment, n), (r = !1);
        },
        d(n) {
          n && y(e), M(t), i[5](null);
        },
      }
    );
  }
  a(u4, "create_fragment");
  function l4(i, e, t) {
    var r = e.bibtex,
      n = e.error,
      s,
      o,
      u;
    ll(() => {
      var h = re.updateListener.of((c) => {
        o && c.docChanged && t(0, (r = o.state.doc.toString()));
      });
      t(4, (u = new ir())), t(3, (o = new re({ parent: s, state: Ae.create({ doc: r, extensions: [TD(), RD(), _D(), Ae.allowMultipleSelections.of(!0), e1(), wD(), B1(), _1(), qa.of([...u1, a1]), r1(), h, u.of([])] }) }))), o.focus(), (window.cmEditor = o);
    });
    function l(h) {
      Y[h ? "unshift" : "push"](() => {
        (s = h), t(1, s);
      });
    }
    return (
      a(l, "main_binding"),
      (i.$$set = (h) => {
        "bibtex" in h && t(0, (r = h.bibtex)), "error" in h && t(2, (n = h.error));
      }),
      (i.$$.update = () => {
        var _o_dispatch, _this;
        if (i.$$.dirty & 28)
          e: (_this = o) === null || _this === void 0
            ? void 0
            : (_o_dispatch = _this.dispatch) === null || _o_dispatch === void 0
            ? void 0
            : _o_dispatch.call(_this, {
                effects: u.reconfigure(
                  p1(() => {
                    if (n && o) {
                      var h = o.state.doc.line(n.line),
                        c = h.from,
                        f = h.to;
                      return [{ from: c, to: f, severity: "error", message: "Syntax Error" }];
                    } else return [];
                  })
                ),
              });
        if (i.$$.dirty & 9) e: o && r !== o.state.doc.toString() && o.dispatch({ changes: { from: 0, to: o.state.doc.length, insert: r } });
      }),
      [r, s, n, o, u, l]
    );
  }
  a(l4, "instance");
  var vh =
      ((_class98 = class _class extends ie {
        constructor(e) {
          super(), oe(this, e, l4, u4, se, { bibtex: 0, error: 2 });
        }
      }),
      (() => {
        a(_class98, "Editor");
      })(),
      _class98),
    O1 = vh;
  function a4(i) {
    var e,
      t,
      r,
      n,
      s,
      o = i[3].default,
      u = Yt(o, i, i[2], null);
    return {
      c() {
        (e = R("details")), (t = R("summary")), (r = j(i[0])), (n = q()), u && u.c(), A(t, "class", "svelte-ee92zc"), (e.open = i[1]), A(e, "class", "svelte-ee92zc");
      },
      m(l, h) {
        C(l, e, h), V(e, t), V(t, r), V(e, n), u && u.m(e, null), (s = !0);
      },
      p(l, param) {
        var _param = _sliced_to_array(param, 1),
          h = _param[0];
        (!s || h & 1) && We(r, l[0]), u && u.p && (!s || h & 4) && Xt(u, o, l, l[2], s ? Kt(o, l[2], h, null) : Qt(l[2]), null), (!s || h & 2) && (e.open = l[1]);
      },
      i(l) {
        s || (S(u, l), (s = !0));
      },
      o(l) {
        B(u, l), (s = !1);
      },
      d(l) {
        l && y(e), u && u.d(l);
      },
    };
  }
  a(a4, "create_fragment");
  function h4(i, e, t) {
    var tmp = e.$$slots,
      r = tmp === void 0 ? {} : tmp,
      n = e.$$scope,
      s = e.title,
      tmp1 = e.open,
      o = tmp1 === void 0 ? !1 : tmp1;
    return (
      (i.$$set = (u) => {
        "title" in u && t(0, (s = u.title)), "open" in u && t(1, (o = u.open)), "$$scope" in u && t(2, (n = u.$$scope));
      }),
      [s, o, n, r]
    );
  }
  a(h4, "instance");
  var kh =
      ((_class99 = class _class extends ie {
        constructor(e) {
          super(), oe(this, e, h4, a4, se, { title: 0, open: 1 });
        }
      }),
      (() => {
        a(_class99, "Collapsible");
      })(),
      _class99),
    Ke = kh;
  function c4(i) {
    var e, t, r;
    return {
      c() {
        (e = R("input")), A(e, "type", "checkbox"), A(e, "name", i[1]), A(e, "class", "svelte-doypik");
      },
      m(n, s) {
        C(n, e, s), (e.checked = i[0]), t || ((r = [be(e, "change", i[3]), be(e, "change", i[4])]), (t = !0));
      },
      p(n, param) {
        var _param = _sliced_to_array(param, 1),
          s = _param[0];
        s & 2 && A(e, "name", n[1]), s & 1 && (e.checked = n[0]);
      },
      i: ke,
      o: ke,
      d(n) {
        n && y(e), (t = !1), xt(r);
      },
    };
  }
  a(c4, "create_fragment");
  function f4(i, e, t) {
    var r = e.name,
      tmp = e.checked,
      n = tmp === void 0 ? void 0 : tmp,
      s = pi();
    function o() {
      (n = this.checked), t(0, n);
    }
    a(o, "input_change_handler");
    var u = a(() => s("change"), "change_handler");
    return (
      (i.$$set = (l) => {
        "name" in l && t(1, (r = l.name)), "checked" in l && t(0, (n = l.checked));
      }),
      [n, r, s, o, u]
    );
  }
  a(f4, "instance");
  var wh =
      ((_class100 = class _class extends ie {
        constructor(e) {
          super(), oe(this, e, f4, c4, se, { name: 1, checked: 0 });
        }
      }),
      (() => {
        a(_class100, "Checkbox");
      })(),
      _class100),
    _i68 = wh;
  function d4(i) {
    var e,
      t,
      r = i[3].default,
      n = Yt(r, i, i[2], null);
    return {
      c() {
        (e = R("label")), n && n.c(), A(e, "title", i[0]), A(e, "class", "svelte-a2tm3u"), Gi(e, "inset", i[1]);
      },
      m(s, o) {
        C(s, e, o), n && n.m(e, null), (t = !0);
      },
      p(s, param) {
        var _param = _sliced_to_array(param, 1),
          o = _param[0];
        n && n.p && (!t || o & 4) && Xt(n, r, s, s[2], t ? Kt(r, s[2], o, null) : Qt(s[2]), null), (!t || o & 1) && A(e, "title", s[0]), (!t || o & 2) && Gi(e, "inset", s[1]);
      },
      i(s) {
        t || (S(n, s), (t = !0));
      },
      o(s) {
        B(n, s), (t = !1);
      },
      d(s) {
        s && y(e), n && n.d(s);
      },
    };
  }
  a(d4, "create_fragment");
  function p4(i, e, t) {
    var tmp = e.$$slots,
      r = tmp === void 0 ? {} : tmp,
      n = e.$$scope,
      tmp1 = e.title,
      s = tmp1 === void 0 ? void 0 : tmp1,
      tmp2 = e.inset,
      o = tmp2 === void 0 ? void 0 : tmp2;
    return (
      (i.$$set = (u) => {
        "title" in u && t(0, (s = u.title)), "inset" in u && t(1, (o = u.inset)), "$$scope" in u && t(2, (n = u.$$scope));
      }),
      [s, o, n, r]
    );
  }
  a(p4, "instance");
  var xh =
      ((_class101 = class _class extends ie {
        constructor(e) {
          super(), oe(this, e, p4, d4, se, { title: 0, inset: 1 });
        }
      }),
      (() => {
        a(_class101, "Label");
      })(),
      _class101),
    Xe = xh;
  function m4(i) {
    var e,
      t,
      r = i[1].default,
      n = Yt(r, i, i[0], null);
    return {
      c() {
        (e = R("div")), n && n.c(), A(e, "class", "suboptions svelte-1gkj6ol");
      },
      m(s, o) {
        C(s, e, o), n && n.m(e, null), (t = !0);
      },
      p(s, param) {
        var _param = _sliced_to_array(param, 1),
          o = _param[0];
        n && n.p && (!t || o & 1) && Xt(n, r, s, s[0], t ? Kt(r, s[0], o, null) : Qt(s[0]), null);
      },
      i(s) {
        t || (S(n, s), (t = !0));
      },
      o(s) {
        B(n, s), (t = !1);
      },
      d(s) {
        s && y(e), n && n.d(s);
      },
    };
  }
  a(m4, "create_fragment");
  function g4(i, e, t) {
    var tmp = e.$$slots,
      r = tmp === void 0 ? {} : tmp,
      n = e.$$scope;
    return (
      (i.$$set = (s) => {
        "$$scope" in s && t(0, (n = s.$$scope));
      }),
      [n, r]
    );
  }
  a(g4, "instance");
  var Sh =
      ((_class102 = class _class extends ie {
        constructor(e) {
          super(), oe(this, e, g4, m4, se, {});
        }
      }),
      (() => {
        a(_class102, "SubOptions");
      })(),
      _class102),
    $o = Sh;
  function D4(i) {
    var e,
      t,
      r,
      n = i[3].title + "",
      s,
      o;
    function u(h) {
      i[6](h);
    }
    a(u, "checkbox_checked_binding");
    var l = { name: i[1] };
    return (
      i[0] !== void 0 && (l.checked = i[0]),
      (e = new _i68({ props: l })),
      Y.push(() => X(e, "checked", u)),
      e.$on("change", i[7]),
      {
        c() {
          P(e.$$.fragment), (r = q()), (s = j(n));
        },
        m(h, c) {
          $(e, h, c), C(h, r, c), C(h, s, c), (o = !0);
        },
        p(h, c) {
          var f = {};
          c & 2 && (f.name = h[1]), !t && c & 1 && ((t = !0), (f.checked = h[0]), K(() => (t = !1))), e.$set(f);
        },
        i(h) {
          o || (S(e.$$.fragment, h), (o = !0));
        },
        o(h) {
          B(e.$$.fragment, h), (o = !1);
        },
        d(h) {
          M(e, h), h && y(r), h && y(s);
        },
      }
    );
  }
  a(D4, "create_default_slot_1");
  function T1(i) {
    var e,
      t,
      r = i[0] && R1(i);
    return {
      c() {
        r && r.c(), (e = It());
      },
      m(n, s) {
        r && r.m(n, s), C(n, e, s), (t = !0);
      },
      p(n, s) {
        n[0]
          ? r
            ? (r.p(n, s), s & 1 && S(r, 1))
            : ((r = R1(n)), r.c(), S(r, 1), r.m(e.parentNode, e))
          : r &&
            (Nt(),
            B(r, 1, 1, () => {
              r = null;
            }),
            Vt());
      },
      i(n) {
        t || (S(r), (t = !0));
      },
      o(n) {
        B(r), (t = !1);
      },
      d(n) {
        r && r.d(n), n && y(e);
      },
    };
  }
  a(T1, "create_if_block");
  function R1(i) {
    var e, t;
    return (
      (e = new $o({ props: { $$slots: { default: [b4] }, $$scope: { ctx: i } } })),
      {
        c() {
          P(e.$$.fragment);
        },
        m(r, n) {
          $(e, r, n), (t = !0);
        },
        p(r, n) {
          var s = {};
          n & 256 && (s.$$scope = { dirty: n, ctx: r }), e.$set(s);
        },
        i(r) {
          t || (S(e.$$.fragment, r), (t = !0));
        },
        o(r) {
          B(e.$$.fragment, r), (t = !1);
        },
        d(r) {
          M(e, r);
        },
      }
    );
  }
  a(R1, "create_if_block_1");
  function b4(i) {
    var e,
      t = i[5].default,
      r = Yt(t, i, i[8], null);
    return {
      c() {
        r && r.c();
      },
      m(n, s) {
        r && r.m(n, s), (e = !0);
      },
      p(n, s) {
        r && r.p && (!e || s & 256) && Xt(r, t, n, n[8], e ? Kt(t, n[8], s, null) : Qt(n[8]), null);
      },
      i(n) {
        e || (S(r, n), (e = !0));
      },
      o(n) {
        B(r, n), (e = !1);
      },
      d(n) {
        r && r.d(n);
      },
    };
  }
  a(b4, "create_default_slot");
  function F4(i) {
    var _i__description_join, _this;
    var e, t, r, n;
    e = new Xe({ props: { title: (_this = i[3].description) === null || _this === void 0 ? void 0 : (_i__description_join = _this.join) === null || _i__description_join === void 0 ? void 0 : _i__description_join.call(_this, "\n"), inset: !0, $$slots: { default: [D4] }, $$scope: { ctx: i } } });
    var s = i[4].default && T1(i);
    return {
      c() {
        P(e.$$.fragment), (t = q()), s && s.c(), (r = It());
      },
      m(o, u) {
        $(e, o, u), C(o, t, u), s && s.m(o, u), C(o, r, u), (n = !0);
      },
      p(o, param) {
        var _param = _sliced_to_array(param, 1),
          u = _param[0];
        var l = {};
        u & 259 && (l.$$scope = { dirty: u, ctx: o }),
          e.$set(l),
          o[4].default
            ? s
              ? (s.p(o, u), u & 16 && S(s, 1))
              : ((s = T1(o)), s.c(), S(s, 1), s.m(r.parentNode, r))
            : s &&
              (Nt(),
              B(s, 1, 1, () => {
                s = null;
              }),
              Vt());
      },
      i(o) {
        n || (S(e.$$.fragment, o), S(s), (n = !0));
      },
      o(o) {
        B(e.$$.fragment, o), B(s), (n = !1);
      },
      d(o) {
        M(e, o), o && y(t), s && s.d(o), o && y(r);
      },
    };
  }
  a(F4, "create_fragment");
  function y4(i, e, t) {
    var tmp = e.$$slots,
      r = tmp === void 0 ? {} : tmp,
      n = e.$$scope,
      s = Km(r),
      o = e.option,
      tmp1 = e.checked,
      u = tmp1 === void 0 ? void 0 : tmp1,
      l = pi(),
      h = C0[o];
    function c(d) {
      (u = d), t(0, u);
    }
    a(c, "checkbox_checked_binding");
    var f = a(() => l("change", u), "change_handler");
    return (
      (i.$$set = (d) => {
        "option" in d && t(1, (o = d.option)), "checked" in d && t(0, (u = d.checked)), "$$scope" in d && t(8, (n = d.$$scope));
      }),
      [u, o, l, h, s, r, c, f, n]
    );
  }
  a(y4, "instance");
  var Bh =
      ((_class103 = class _class extends ie {
        constructor(e) {
          super(), oe(this, e, y4, F4, se, { option: 1, checked: 0 });
        }
      }),
      (() => {
        a(_class103, "Option");
      })(),
      _class103),
    me = Bh;
  function C4(i) {
    var e, t, r, n, s, o;
    return {
      c() {
        (e = j("Fields to omit:\n		")), (t = R("textarea")), (r = q()), (n = R("p")), (n.innerHTML = "Space delimited, e.g: <code>id type publisher author</code>"), A(t, "name", "omitList"), A(t, "class", "omit svelte-1t0249j"), A(t, "placeholder", "e.g. abstract keywords"), A(t, "spellcheck", "false");
      },
      m(u, l) {
        C(u, e, l), C(u, t, l), Fe(t, i[1]), C(u, r, l), C(u, n, l), s || ((o = be(t, "input", i[9])), (s = !0));
      },
      p(u, l) {
        l & 2 && Fe(t, u[1]);
      },
      d(u) {
        u && y(e), u && y(t), u && y(r), u && y(n), (s = !1), o();
      },
    };
  }
  a(C4, "create_default_slot_2");
  function A4(i) {
    var e, t, r, n, s, o, u;
    return {
      c() {
        (e = R("label")), (t = j("Template:\n			")), (r = R("textarea")), (n = q()), (s = R("p")), (s.innerHTML = '<a href="./manual/key-generation.html" target="_blank">Template documentation</a>'), A(r, "name", "generateKeysTemplate");
      },
      m(l, h) {
        C(l, e, h), V(e, t), V(e, r), Fe(r, i[7]), C(l, n, h), C(l, s, h), o || ((u = be(r, "input", i[14])), (o = !0));
      },
      p(l, h) {
        h & 128 && Fe(r, l[7]);
      },
      d(l) {
        l && y(e), l && y(n), l && y(s), (o = !1), u();
      },
    };
  }
  a(A4, "create_default_slot_1");
  function E4(i) {
    var e, t, r, n, s, o, u, l, h, c, f, d, p, m, b, g, D, F;
    function w(T) {
      i[10](T);
    }
    a(w, "option0_checked_binding");
    var x = { option: "omit", $$slots: { default: [C4] }, $$scope: { ctx: i } };
    i[0] !== void 0 && (x.checked = i[0]), (e = new me({ props: x })), Y.push(() => X(e, "checked", w));
    function E(T) {
      i[11](T);
    }
    a(E, "option1_checked_binding");
    var _ = { option: "stripComments" };
    i[2] !== void 0 && (_.checked = i[2]), (n = new me({ props: _ })), Y.push(() => X(n, "checked", E));
    function I(T) {
      i[12](T);
    }
    a(I, "option2_checked_binding");
    var J = { option: "tidyComments" };
    i[3] !== void 0 && (J.checked = i[3]), (u = new me({ props: J })), Y.push(() => X(u, "checked", I));
    function z(T) {
      i[13](T);
    }
    a(z, "option3_checked_binding");
    var U = { option: "lowercase" };
    i[4] !== void 0 && (U.checked = i[4]), (c = new me({ props: U })), Y.push(() => X(c, "checked", z));
    function N(T) {
      i[15](T);
    }
    a(N, "option4_checked_binding");
    var ne = { option: "generateKeys", $$slots: { default: [A4] }, $$scope: { ctx: i } };
    i[6] !== void 0 && (ne.checked = i[6]), (p = new me({ props: ne })), Y.push(() => X(p, "checked", N));
    function le(T) {
      i[16](T);
    }
    a(le, "option5_checked_binding");
    var H = { option: "trailingCommas" };
    return (
      i[5] !== void 0 && (H.checked = i[5]),
      (g = new me({ props: H })),
      Y.push(() => X(g, "checked", le)),
      {
        c() {
          P(e.$$.fragment), (r = q()), P(n.$$.fragment), (o = q()), P(u.$$.fragment), (h = q()), P(c.$$.fragment), (d = q()), P(p.$$.fragment), (b = q()), P(g.$$.fragment);
        },
        m(T, Z) {
          $(e, T, Z), C(T, r, Z), $(n, T, Z), C(T, o, Z), $(u, T, Z), C(T, h, Z), $(c, T, Z), C(T, d, Z), $(p, T, Z), C(T, b, Z), $(g, T, Z), (F = !0);
        },
        p(T, Z) {
          var ge = {};
          Z & 16777218 && (ge.$$scope = { dirty: Z, ctx: T }), !t && Z & 1 && ((t = !0), (ge.checked = T[0]), K(() => (t = !1))), e.$set(ge);
          var De = {};
          !s && Z & 4 && ((s = !0), (De.checked = T[2]), K(() => (s = !1))), n.$set(De);
          var ce = {};
          !l && Z & 8 && ((l = !0), (ce.checked = T[3]), K(() => (l = !1))), u.$set(ce);
          var ae = {};
          !f && Z & 16 && ((f = !0), (ae.checked = T[4]), K(() => (f = !1))), c.$set(ae);
          var _e = {};
          Z & 16777344 && (_e.$$scope = { dirty: Z, ctx: T }), !m && Z & 64 && ((m = !0), (_e.checked = T[6]), K(() => (m = !1))), p.$set(_e);
          var Me = {};
          !D && Z & 32 && ((D = !0), (Me.checked = T[5]), K(() => (D = !1))), g.$set(Me);
        },
        i(T) {
          F || (S(e.$$.fragment, T), S(n.$$.fragment, T), S(u.$$.fragment, T), S(c.$$.fragment, T), S(p.$$.fragment, T), S(g.$$.fragment, T), (F = !0));
        },
        o(T) {
          B(e.$$.fragment, T), B(n.$$.fragment, T), B(u.$$.fragment, T), B(c.$$.fragment, T), B(p.$$.fragment, T), B(g.$$.fragment, T), (F = !1);
        },
        d(T) {
          M(e, T), T && y(r), M(n, T), T && y(o), M(u, T), T && y(h), M(c, T), T && y(d), M(p, T), T && y(b), M(g, T);
        },
      }
    );
  }
  a(E4, "create_default_slot");
  function v4(i) {
    var e, t;
    return (
      (e = new Ke({ props: { title: "Clean up", open: !0, $$slots: { default: [E4] }, $$scope: { ctx: i } } })),
      {
        c() {
          P(e.$$.fragment);
        },
        m(r, n) {
          $(e, r, n), (t = !0);
        },
        p(r, param) {
          var _param = _sliced_to_array(param, 1),
            n = _param[0];
          var s = {};
          n & 16777471 && (s.$$scope = { dirty: n, ctx: r }), e.$set(s);
        },
        i(r) {
          t || (S(e.$$.fragment, r), (t = !0));
        },
        o(r) {
          B(e.$$.fragment, r), (t = !1);
        },
        d(r) {
          M(e, r);
        },
      }
    );
  }
  a(v4, "create_fragment");
  function k4(i, e, t) {
    var r, n, s, o, u, l, h;
    var c = e.options,
      f = c.omit !== void 0 && c.omit.length > 0,
      d = (n = (r = c.omit) === null || r === void 0 ? void 0 : r.join(" ")) !== null && n !== void 0 ? n : "",
      p = (s = c.stripComments) !== null && s !== void 0 ? s : !1,
      m = (o = c.tidyComments) !== null && o !== void 0 ? o : !1,
      b = (u = c.lowercase) !== null && u !== void 0 ? u : !1,
      g = (l = c.trailingCommas) !== null && l !== void 0 ? l : !1,
      D = c.generateKeys !== void 0 && c.generateKeys.length > 0,
      F = (h = c.generateKeys) !== null && h !== void 0 ? h : "[auth:required:lower][year:required][veryshorttitle:lower][duplicateNumber]";
    function w() {
      (d = this.value), t(1, d);
    }
    a(w, "textarea_input_handler");
    function x(N) {
      (f = N), t(0, f);
    }
    a(x, "option0_checked_binding");
    function E(N) {
      (p = N), t(2, p);
    }
    a(E, "option1_checked_binding");
    function _(N) {
      (m = N), t(3, m);
    }
    a(_, "option2_checked_binding");
    function I(N) {
      (b = N), t(4, b);
    }
    a(I, "option3_checked_binding");
    function J() {
      (F = this.value), t(7, F);
    }
    a(J, "textarea_input_handler_1");
    function z(N) {
      (D = N), t(6, D);
    }
    a(z, "option4_checked_binding");
    function U(N) {
      (g = N), t(5, g);
    }
    return (
      a(U, "option5_checked_binding"),
      (i.$$set = (N) => {
        "options" in N && t(8, (c = N.options));
      }),
      (i.$$.update = () => {
        if (i.$$.dirty & 255) e: t(8, (c.omit = f && d.length > 0 ? d.split(/[\n\t ,]+/) : void 0), c), t(8, (c.stripComments = p), c), t(8, (c.tidyComments = m), c), t(8, (c.lowercase = b), c), t(8, (c.trailingCommas = g), c), t(8, (c.generateKeys = D ? F : void 0), c);
      }),
      [f, d, p, m, b, g, D, F, c, w, x, E, _, I, J, z, U]
    );
  }
  a(k4, "instance");
  var _h =
      ((_class104 = class _class extends ie {
        constructor(e) {
          super(), oe(this, e, k4, v4, se, { options: 8 });
        }
      }),
      (() => {
        a(_class104, "CleanupOptions");
      })(),
      _class104),
    M1 = _h;
  function $1(i) {
    return Hr.map((e) => {
      var _e_toCLI, _object;
      return (_object = e) === null || _object === void 0 ? void 0 : (_e_toCLI = _object.toCLI) === null || _e_toCLI === void 0 ? void 0 : _e_toCLI.call(_object, i[e.key], i);
    }).filter((e) => typeof e == "string");
  }
  a($1, "optionsToCLIArgs");
  function P1(i, e, t) {
    var r = i.slice();
    return (r[2] = e[t][0]), (r[3] = e[t][1]), r;
  }
  a(P1, "get_each_context");
  function L1(i) {
    var e,
      t,
      r = i[3] + "",
      n,
      s;
    return {
      c() {
        (e = j("=")), (t = R("span")), (n = j(r)), (s = q()), A(t, "class", "opt-val svelte-1xnx1c1");
      },
      m(o, u) {
        C(o, e, u), C(o, t, u), V(t, n), C(o, s, u);
      },
      p(o, u) {
        u & 1 && r !== (r = o[3] + "") && We(n, r);
      },
      d(o) {
        o && y(e), o && y(t), o && y(s);
      },
    };
  }
  a(L1, "create_if_block");
  function q1(i) {
    var e,
      t = i[2] + "",
      r,
      n = " ",
      s,
      o = i[3] && i[3].length > 0 && L1(i);
    return {
      c() {
        (e = R("span")), (r = j(t)), o && o.c(), (s = j(n)), A(e, "class", "opt-name svelte-1xnx1c1");
      },
      m(u, l) {
        C(u, e, l), V(e, r), o && o.m(u, l), C(u, s, l);
      },
      p(u, l) {
        l & 1 && t !== (t = u[2] + "") && We(r, t), u[3] && u[3].length > 0 ? (o ? o.p(u, l) : ((o = L1(u)), o.c(), o.m(s.parentNode, s))) : o && (o.d(1), (o = null));
      },
      d(u) {
        u && y(e), o && o.d(u), u && y(s);
      },
    };
  }
  a(q1, "create_each_block");
  function w4(i) {
    var e,
      t,
      r,
      n,
      s,
      o = i[0],
      u = [];
    for (var l = 0; l < o.length; l += 1) u[l] = q1(P1(i, o, l));
    return {
      c() {
        (e = R("p")), (e.textContent = "To run this configuration on the command line:"), (t = q()), (r = R("code")), (n = j("bibtex-tidy "));
        for (var l = 0; l < u.length; l += 1) u[l].c();
        (s = j(" YOUR_FILE.bib")), A(r, "id", "cli"), A(r, "class", "svelte-1xnx1c1");
      },
      m(l, h) {
        C(l, e, h), C(l, t, h), C(l, r, h), V(r, n);
        for (var c = 0; c < u.length; c += 1) u[c].m(r, null);
        V(r, s);
      },
      p(l, h) {
        if (h & 1) {
          o = l[0];
          var c;
          for (c = 0; c < o.length; c += 1) {
            var f = P1(l, o, c);
            u[c] ? u[c].p(f, h) : ((u[c] = q1(f)), u[c].c(), u[c].m(r, s));
          }
          for (; c < u.length; c += 1) u[c].d(1);
          u.length = o.length;
        }
      },
      d(l) {
        l && y(e), l && y(t), l && y(r), Ir(u, l);
      },
    };
  }
  a(w4, "create_default_slot");
  function x4(i) {
    var e, t;
    return (
      (e = new Ke({ props: { title: "CLI", $$slots: { default: [w4] }, $$scope: { ctx: i } } })),
      {
        c() {
          P(e.$$.fragment);
        },
        m(r, n) {
          $(e, r, n), (t = !0);
        },
        p(r, param) {
          var _param = _sliced_to_array(param, 1),
            n = _param[0];
          var s = {};
          n & 65 && (s.$$scope = { dirty: n, ctx: r }), e.$set(s);
        },
        i(r) {
          t || (S(e.$$.fragment, r), (t = !0));
        },
        o(r) {
          B(e.$$.fragment, r), (t = !1);
        },
        d(r) {
          M(e, r);
        },
      }
    );
  }
  a(x4, "create_fragment");
  function S4(i, e, t) {
    var r = e.options,
      n;
    return (
      (i.$$set = (s) => {
        "options" in s && t(1, (r = s.options));
      }),
      (i.$$.update = () => {
        if (i.$$.dirty & 2)
          e: t(
            0,
            (n = $1(r).map((s) => {
              var o = s.indexOf("=");
              return o === -1 ? [s] : [s.slice(0, o), s.slice(o + 1)];
            }))
          );
      }),
      [n, r]
    );
  }
  a(S4, "instance");
  var Oh =
      ((_class105 = class _class extends ie {
        constructor(e) {
          super(), oe(this, e, S4, x4, se, { options: 1 });
        }
      }),
      (() => {
        a(_class105, "Cli");
      })(),
      _class105),
    I1 = Oh;
  function B4(i) {
    var e, t, r;
    return {
      c() {
        (e = R("input")), A(e, "type", "radio"), A(e, "name", i[1]), (e.__value = i[2]), (e.value = e.__value), A(e, "class", "svelte-qhlda7"), i[4][0].push(e);
      },
      m(n, s) {
        C(n, e, s), (e.checked = e.__value === i[0]), t || ((r = be(e, "change", i[3])), (t = !0));
      },
      p(n, param) {
        var _param = _sliced_to_array(param, 1),
          s = _param[0];
        s & 2 && A(e, "name", n[1]), s & 4 && ((e.__value = n[2]), (e.value = e.__value)), s & 1 && (e.checked = e.__value === n[0]);
      },
      i: ke,
      o: ke,
      d(n) {
        n && y(e), i[4][0].splice(i[4][0].indexOf(e), 1), (t = !1), r();
      },
    };
  }
  a(B4, "create_fragment");
  function _4(i, e, t) {
    var r = e.name,
      n = e.group,
      tmp = e.value,
      s = tmp === void 0 ? void 0 : tmp,
      o = [[]];
    function u() {
      (n = this.__value), t(0, n);
    }
    return (
      a(u, "input_change_handler"),
      (i.$$set = (l) => {
        "name" in l && t(1, (r = l.name)), "group" in l && t(0, (n = l.group)), "value" in l && t(2, (s = l.value));
      }),
      [n, r, s, u, o]
    );
  }
  a(_4, "instance");
  var Th =
      ((_class106 = class _class extends ie {
        constructor(e) {
          super(), oe(this, e, _4, B4, se, { name: 1, group: 0, value: 2 });
        }
      }),
      (() => {
        a(_class106, "Radio");
      })(),
      _class106),
    ai = Th;
  function O4(i) {
    var e, t, r, n;
    function s(u) {
      i[8](u);
    }
    a(s, "checkbox_checked_binding");
    var o = { name: "uniqKEY" };
    return (
      i[1] !== void 0 && (o.checked = i[1]),
      (e = new _i68({ props: o })),
      Y.push(() => X(e, "checked", s)),
      {
        c() {
          P(e.$$.fragment), (r = j("\n			Matching Keys"));
        },
        m(u, l) {
          $(e, u, l), C(u, r, l), (n = !0);
        },
        p(u, l) {
          var h = {};
          !t && l & 2 && ((t = !0), (h.checked = u[1]), K(() => (t = !1))), e.$set(h);
        },
        i(u) {
          n || (S(e.$$.fragment, u), (n = !0));
        },
        o(u) {
          B(e.$$.fragment, u), (n = !1);
        },
        d(u) {
          M(e, u), u && y(r);
        },
      }
    );
  }
  a(O4, "create_default_slot_10");
  function T4(i) {
    var e, t, r, n;
    function s(u) {
      i[9](u);
    }
    a(s, "checkbox_checked_binding_1");
    var o = { name: "uniqDOI" };
    return (
      i[2] !== void 0 && (o.checked = i[2]),
      (e = new _i68({ props: o })),
      Y.push(() => X(e, "checked", s)),
      {
        c() {
          P(e.$$.fragment), (r = j("\n			Matching DOIs"));
        },
        m(u, l) {
          $(e, u, l), C(u, r, l), (n = !0);
        },
        p(u, l) {
          var h = {};
          !t && l & 4 && ((t = !0), (h.checked = u[2]), K(() => (t = !1))), e.$set(h);
        },
        i(u) {
          n || (S(e.$$.fragment, u), (n = !0));
        },
        o(u) {
          B(e.$$.fragment, u), (n = !1);
        },
        d(u) {
          M(e, u), u && y(r);
        },
      }
    );
  }
  a(T4, "create_default_slot_9");
  function R4(i) {
    var e, t, r, n;
    function s(u) {
      i[10](u);
    }
    a(s, "checkbox_checked_binding_2");
    var o = { name: "uniqCIT" };
    return (
      i[3] !== void 0 && (o.checked = i[3]),
      (e = new _i68({ props: o })),
      Y.push(() => X(e, "checked", s)),
      {
        c() {
          P(e.$$.fragment), (r = j("\n			Similar author and title"));
        },
        m(u, l) {
          $(e, u, l), C(u, r, l), (n = !0);
        },
        p(u, l) {
          var h = {};
          !t && l & 8 && ((t = !0), (h.checked = u[3]), K(() => (t = !1))), e.$set(h);
        },
        i(u) {
          n || (S(e.$$.fragment, u), (n = !0));
        },
        o(u) {
          B(e.$$.fragment, u), (n = !1);
        },
        d(u) {
          M(e, u), u && y(r);
        },
      }
    );
  }
  a(R4, "create_default_slot_8");
  function M4(i) {
    var e, t, r, n;
    function s(u) {
      i[11](u);
    }
    a(s, "checkbox_checked_binding_3");
    var o = { name: "uniqABS" };
    return (
      i[4] !== void 0 && (o.checked = i[4]),
      (e = new _i68({ props: o })),
      Y.push(() => X(e, "checked", s)),
      {
        c() {
          P(e.$$.fragment), (r = j("\n			Similar abstracts"));
        },
        m(u, l) {
          $(e, u, l), C(u, r, l), (n = !0);
        },
        p(u, l) {
          var h = {};
          !t && l & 16 && ((t = !0), (h.checked = u[4]), K(() => (t = !1))), e.$set(h);
        },
        i(u) {
          n || (S(e.$$.fragment, u), (n = !0));
        },
        o(u) {
          B(e.$$.fragment, u), (n = !1);
        },
        d(u) {
          M(e, u), u && y(r);
        },
      }
    );
  }
  a(M4, "create_default_slot_7");
  function $4(i) {
    var e, t, r, n, s, o, u, l, h, c;
    return (
      (r = new Xe({ props: { $$slots: { default: [O4] }, $$scope: { ctx: i } } })),
      (s = new Xe({ props: { $$slots: { default: [T4] }, $$scope: { ctx: i } } })),
      (u = new Xe({ props: { $$slots: { default: [R4] }, $$scope: { ctx: i } } })),
      (h = new Xe({ props: { $$slots: { default: [M4] }, $$scope: { ctx: i } } })),
      {
        c() {
          (e = R("p")), (e.textContent = "What to check:"), (t = q()), P(r.$$.fragment), (n = q()), P(s.$$.fragment), (o = q()), P(u.$$.fragment), (l = q()), P(h.$$.fragment);
        },
        m(f, d) {
          C(f, e, d), C(f, t, d), $(r, f, d), C(f, n, d), $(s, f, d), C(f, o, d), $(u, f, d), C(f, l, d), $(h, f, d), (c = !0);
        },
        p(f, d) {
          var p = {};
          d & 134217730 && (p.$$scope = { dirty: d, ctx: f }), r.$set(p);
          var m = {};
          d & 134217732 && (m.$$scope = { dirty: d, ctx: f }), s.$set(m);
          var b = {};
          d & 134217736 && (b.$$scope = { dirty: d, ctx: f }), u.$set(b);
          var g = {};
          d & 134217744 && (g.$$scope = { dirty: d, ctx: f }), h.$set(g);
        },
        i(f) {
          c || (S(r.$$.fragment, f), S(s.$$.fragment, f), S(u.$$.fragment, f), S(h.$$.fragment, f), (c = !0));
        },
        o(f) {
          B(r.$$.fragment, f), B(s.$$.fragment, f), B(u.$$.fragment, f), B(h.$$.fragment, f), (c = !1);
        },
        d(f) {
          f && y(e), f && y(t), M(r, f), f && y(n), M(s, f), f && y(o), M(u, f), f && y(l), M(h, f);
        },
      }
    );
  }
  a($4, "create_default_slot_6");
  function P4(i) {
    var e, t, r, n, s;
    function o(l) {
      i[13](l);
    }
    a(o, "radio_group_binding");
    var u = { name: "mergeStrategy", value: "combine" };
    return (
      i[6] !== void 0 && (u.group = i[6]),
      (e = new ai({ props: u })),
      Y.push(() => X(e, "group", o)),
      {
        c() {
          P(e.$$.fragment), (r = q()), (n = R("span")), (n.innerHTML = "<strong>Combine</strong><br/> \n				<small>Keep original entry and merge in fields of duplicates if they do not\n					already exist</small>");
        },
        m(l, h) {
          $(e, l, h), C(l, r, h), C(l, n, h), (s = !0);
        },
        p(l, h) {
          var c = {};
          !t && h & 64 && ((t = !0), (c.group = l[6]), K(() => (t = !1))), e.$set(c);
        },
        i(l) {
          s || (S(e.$$.fragment, l), (s = !0));
        },
        o(l) {
          B(e.$$.fragment, l), (s = !1);
        },
        d(l) {
          M(e, l), l && y(r), l && y(n);
        },
      }
    );
  }
  a(P4, "create_default_slot_5");
  function L4(i) {
    var e, t, r, n, s;
    function o(l) {
      i[14](l);
    }
    a(o, "radio_group_binding_1");
    var u = { name: "mergeStrategy", value: "overwrite" };
    return (
      i[6] !== void 0 && (u.group = i[6]),
      (e = new ai({ props: u })),
      Y.push(() => X(e, "group", o)),
      {
        c() {
          P(e.$$.fragment), (r = q()), (n = R("span")), (n.innerHTML = "<strong>Overwrite</strong><br/> \n				<small>Keep original entry and merge in fields of duplicates, overwriting\n					existing fields if they exist</small>");
        },
        m(l, h) {
          $(e, l, h), C(l, r, h), C(l, n, h), (s = !0);
        },
        p(l, h) {
          var c = {};
          !t && h & 64 && ((t = !0), (c.group = l[6]), K(() => (t = !1))), e.$set(c);
        },
        i(l) {
          s || (S(e.$$.fragment, l), (s = !0));
        },
        o(l) {
          B(e.$$.fragment, l), (s = !1);
        },
        d(l) {
          M(e, l), l && y(r), l && y(n);
        },
      }
    );
  }
  a(L4, "create_default_slot_4");
  function q4(i) {
    var e, t, r, n, s;
    function o(l) {
      i[15](l);
    }
    a(o, "radio_group_binding_2");
    var u = { name: "mergeStrategy", value: "first" };
    return (
      i[6] !== void 0 && (u.group = i[6]),
      (e = new ai({ props: u })),
      Y.push(() => X(e, "group", o)),
      {
        c() {
          P(e.$$.fragment), (r = q()), (n = R("span")), (n.innerHTML = "<strong>First</strong><br/> \n				<small>Only keep the original entry</small>");
        },
        m(l, h) {
          $(e, l, h), C(l, r, h), C(l, n, h), (s = !0);
        },
        p(l, h) {
          var c = {};
          !t && h & 64 && ((t = !0), (c.group = l[6]), K(() => (t = !1))), e.$set(c);
        },
        i(l) {
          s || (S(e.$$.fragment, l), (s = !0));
        },
        o(l) {
          B(e.$$.fragment, l), (s = !1);
        },
        d(l) {
          M(e, l), l && y(r), l && y(n);
        },
      }
    );
  }
  a(q4, "create_default_slot_3");
  function I4(i) {
    var e, t, r, n, s;
    function o(l) {
      i[16](l);
    }
    a(o, "radio_group_binding_3");
    var u = { name: "mergeStrategy", value: "last" };
    return (
      i[6] !== void 0 && (u.group = i[6]),
      (e = new ai({ props: u })),
      Y.push(() => X(e, "group", o)),
      {
        c() {
          P(e.$$.fragment), (r = q()), (n = R("span")), (n.innerHTML = "<strong>Last</strong><br/> \n				<small>Only keep the last found duplicate</small>");
        },
        m(l, h) {
          $(e, l, h), C(l, r, h), C(l, n, h), (s = !0);
        },
        p(l, h) {
          var c = {};
          !t && h & 64 && ((t = !0), (c.group = l[6]), K(() => (t = !1))), e.$set(c);
        },
        i(l) {
          s || (S(e.$$.fragment, l), (s = !0));
        },
        o(l) {
          B(e.$$.fragment, l), (s = !1);
        },
        d(l) {
          M(e, l), l && y(r), l && y(n);
        },
      }
    );
  }
  a(I4, "create_default_slot_2");
  function N4(i) {
    var e, t, r, n, s, o, u, l;
    return (
      (e = new Xe({ props: { $$slots: { default: [P4] }, $$scope: { ctx: i } } })),
      (r = new Xe({ props: { $$slots: { default: [L4] }, $$scope: { ctx: i } } })),
      (s = new Xe({ props: { $$slots: { default: [q4] }, $$scope: { ctx: i } } })),
      (u = new Xe({ props: { $$slots: { default: [I4] }, $$scope: { ctx: i } } })),
      {
        c() {
          P(e.$$.fragment), (t = q()), P(r.$$.fragment), (n = q()), P(s.$$.fragment), (o = q()), P(u.$$.fragment);
        },
        m(h, c) {
          $(e, h, c), C(h, t, c), $(r, h, c), C(h, n, c), $(s, h, c), C(h, o, c), $(u, h, c), (l = !0);
        },
        p(h, c) {
          var f = {};
          c & 134217792 && (f.$$scope = { dirty: c, ctx: h }), e.$set(f);
          var d = {};
          c & 134217792 && (d.$$scope = { dirty: c, ctx: h }), r.$set(d);
          var p = {};
          c & 134217792 && (p.$$scope = { dirty: c, ctx: h }), s.$set(p);
          var m = {};
          c & 134217792 && (m.$$scope = { dirty: c, ctx: h }), u.$set(m);
        },
        i(h) {
          l || (S(e.$$.fragment, h), S(r.$$.fragment, h), S(s.$$.fragment, h), S(u.$$.fragment, h), (l = !0));
        },
        o(h) {
          B(e.$$.fragment, h), B(r.$$.fragment, h), B(s.$$.fragment, h), B(u.$$.fragment, h), (l = !1);
        },
        d(h) {
          M(e, h), h && y(t), M(r, h), h && y(n), M(s, h), h && y(o), M(u, h);
        },
      }
    );
  }
  a(N4, "create_default_slot_1");
  function V4(i) {
    var e, t, r, n, s, o;
    function u(f) {
      i[12](f);
    }
    a(u, "option0_checked_binding");
    var l = { option: "duplicates", $$slots: { default: [$4] }, $$scope: { ctx: i } };
    i[0] !== void 0 && (l.checked = i[0]), (e = new me({ props: l })), Y.push(() => X(e, "checked", u));
    function h(f) {
      i[17](f);
    }
    a(h, "option1_checked_binding");
    var c = { option: "merge", $$slots: { default: [N4] }, $$scope: { ctx: i } };
    return (
      i[5] !== void 0 && (c.checked = i[5]),
      (n = new me({ props: c })),
      Y.push(() => X(n, "checked", h)),
      {
        c() {
          P(e.$$.fragment), (r = q()), P(n.$$.fragment);
        },
        m(f, d) {
          $(e, f, d), C(f, r, d), $(n, f, d), (o = !0);
        },
        p(f, d) {
          var p = {};
          d & 134217758 && (p.$$scope = { dirty: d, ctx: f }), !t && d & 1 && ((t = !0), (p.checked = f[0]), K(() => (t = !1))), e.$set(p);
          var m = {};
          d & 134217792 && (m.$$scope = { dirty: d, ctx: f }), !s && d & 32 && ((s = !0), (m.checked = f[5]), K(() => (s = !1))), n.$set(m);
        },
        i(f) {
          o || (S(e.$$.fragment, f), S(n.$$.fragment, f), (o = !0));
        },
        o(f) {
          B(e.$$.fragment, f), B(n.$$.fragment, f), (o = !1);
        },
        d(f) {
          M(e, f), f && y(r), M(n, f);
        },
      }
    );
  }
  a(V4, "create_default_slot");
  function z4(i) {
    var e, t;
    return (
      (e = new Ke({ props: { title: "Duplicates", open: !0, $$slots: { default: [V4] }, $$scope: { ctx: i } } })),
      {
        c() {
          P(e.$$.fragment);
        },
        m(r, n) {
          $(e, r, n), (t = !0);
        },
        p(r, param) {
          var _param = _sliced_to_array(param, 1),
            n = _param[0];
          var s = {};
          n & 134217855 && (s.$$scope = { dirty: n, ctx: r }), e.$set(s);
        },
        i(r) {
          t || (S(e.$$.fragment, r), (t = !0));
        },
        o(r) {
          B(e.$$.fragment, r), (t = !1);
        },
        d(r) {
          M(e, r);
        },
      }
    );
  }
  a(z4, "create_fragment");
  function H4(i, e, t) {
    var r, n, s, o, u, l, h, c, f;
    var d = e.options,
      p = d.duplicates !== void 0,
      m = (n = (r = d.duplicates) === null || r === void 0 ? void 0 : r.includes("key")) !== null && n !== void 0 ? n : !0,
      b = (o = (s = d.duplicates) === null || s === void 0 ? void 0 : s.includes("doi")) !== null && o !== void 0 ? o : !1,
      g = (l = (u = d.duplicates) === null || u === void 0 ? void 0 : u.includes("citation")) !== null && l !== void 0 ? l : !1,
      D = (c = (h = d.duplicates) === null || h === void 0 ? void 0 : h.includes("abstract")) !== null && c !== void 0 ? c : !1,
      F = d.merge !== void 0,
      w = (f = d.merge) !== null && f !== void 0 ? f : "combine";
    function x(H) {
      (m = H), t(1, m);
    }
    a(x, "checkbox_checked_binding");
    function E(H) {
      (b = H), t(2, b);
    }
    a(E, "checkbox_checked_binding_1");
    function _(H) {
      (g = H), t(3, g);
    }
    a(_, "checkbox_checked_binding_2");
    function I(H) {
      (D = H), t(4, D);
    }
    a(I, "checkbox_checked_binding_3");
    function J(H) {
      (p = H), t(0, p);
    }
    a(J, "option0_checked_binding");
    function z(H) {
      (w = H), t(6, w);
    }
    a(z, "radio_group_binding");
    function U(H) {
      (w = H), t(6, w);
    }
    a(U, "radio_group_binding_1");
    function N(H) {
      (w = H), t(6, w);
    }
    a(N, "radio_group_binding_2");
    function ne(H) {
      (w = H), t(6, w);
    }
    a(ne, "radio_group_binding_3");
    function le(H) {
      (F = H), t(5, F);
    }
    return (
      a(le, "option1_checked_binding"),
      (i.$$set = (H) => {
        "options" in H && t(7, (d = H.options));
      }),
      (i.$$.update = () => {
        if (i.$$.dirty & 255) e: p ? (t(7, (d.duplicates = []), d), m && d.duplicates.push("key"), b && d.duplicates.push("doi"), g && d.duplicates.push("citation"), D && d.duplicates.push("abstract")) : t(7, (d.duplicates = void 0), d), t(7, (d.merge = F ? w : void 0), d);
      }),
      [p, m, b, g, D, F, w, d, x, E, _, I, J, z, U, N, ne, le]
    );
  }
  a(H4, "instance");
  var Rh =
      ((_class107 = class _class extends ie {
        constructor(e) {
          super(), oe(this, e, H4, z4, se, { options: 7 });
        }
      }),
      (() => {
        a(_class107, "DuplicateOptions");
      })(),
      _class107),
    N1 = Rh;
  function W4(i) {
    var e, t, r, n, s, o;
    return {
      c() {
        (e = R("strong")), (e.textContent = "There's a problem with the bibtex"), (t = R("br")), (r = j("\n			Unknown error: ")), (n = j(i[0])), (s = R("br")), (o = j("\n			This is probably a bug."));
      },
      m(u, l) {
        C(u, e, l), C(u, t, l), C(u, r, l), C(u, n, l), C(u, s, l), C(u, o, l);
      },
      p(u, l) {
        l & 1 && We(n, u[0]);
      },
      d(u) {
        u && y(e), u && y(t), u && y(r), u && y(n), u && y(s), u && y(o);
      },
    };
  }
  a(W4, "create_else_block_1");
  function j4(i) {
    var e,
      t,
      r,
      n = i[0].name + "",
      s,
      o,
      u = i[0].line + "",
      l,
      h,
      c = i[0].column + "",
      f,
      d,
      p,
      m;
    function b(F, w) {
      return F[0].hint ? G4 : U4;
    }
    a(b, "select_block_type_1");
    var g = b(i, -1),
      D = g(i);
    return {
      c() {
        (e = R("strong")), (e.textContent = "There's a problem with the bibtex"), (t = R("br")), (r = q()), (s = j(n)), (o = j(" on line ")), (l = j(u)), (h = j(" column ")), (f = j(c)), (d = R("br")), (p = q()), D.c(), (m = It());
      },
      m(F, w) {
        C(F, e, w), C(F, t, w), C(F, r, w), C(F, s, w), C(F, o, w), C(F, l, w), C(F, h, w), C(F, f, w), C(F, d, w), C(F, p, w), D.m(F, w), C(F, m, w);
      },
      p(F, w) {
        w & 1 && n !== (n = F[0].name + "") && We(s, n), w & 1 && u !== (u = F[0].line + "") && We(l, u), w & 1 && c !== (c = F[0].column + "") && We(f, c), g === (g = b(F, w)) && D ? D.p(F, w) : (D.d(1), (D = g(F)), D && (D.c(), D.m(m.parentNode, m)));
      },
      d(F) {
        F && y(e), F && y(t), F && y(r), F && y(s), F && y(o), F && y(l), F && y(h), F && y(f), F && y(d), F && y(p), D.d(F), F && y(m);
      },
    };
  }
  a(j4, "create_if_block");
  function U4(i) {
    var e,
      t = JSON.stringify(i[0].char) + "",
      r,
      n,
      s = i[0].node.type + "",
      o,
      u;
    return {
      c() {
        (e = j("Unexpected ")), (r = j(t)), (n = j(" in ")), (o = j(s)), (u = j("."));
      },
      m(l, h) {
        C(l, e, h), C(l, r, h), C(l, n, h), C(l, o, h), C(l, u, h);
      },
      p(l, h) {
        h & 1 && t !== (t = JSON.stringify(l[0].char) + "") && We(r, t), h & 1 && s !== (s = l[0].node.type + "") && We(o, s);
      },
      d(l) {
        l && y(e), l && y(r), l && y(n), l && y(o), l && y(u);
      },
    };
  }
  a(U4, "create_else_block");
  function G4(i) {
    var e = i[0].hint + "",
      t;
    return {
      c() {
        t = j(e);
      },
      m(r, n) {
        C(r, t, n);
      },
      p(r, n) {
        n & 1 && e !== (e = r[0].hint + "") && We(t, e);
      },
      d(r) {
        r && y(t);
      },
    };
  }
  a(G4, "create_if_block_1");
  function Y4(i) {
    var e, t, r, n, s, o, u;
    function l(f, d) {
      return f[0] instanceof st ? j4 : W4;
    }
    a(l, "select_block_type");
    var h = l(i, -1),
      c = h(i);
    return {
      c() {
        (e = R("div")),
          (t = St("svg")),
          (r = St("circle")),
          (n = St("line")),
          (s = St("line")),
          (o = q()),
          (u = R("div")),
          c.c(),
          A(r, "cx", "12"),
          A(r, "cy", "12"),
          A(r, "r", "10"),
          A(r, "class", "svelte-176xcb"),
          A(n, "x1", "12"),
          A(n, "y1", "8"),
          A(n, "x2", "12"),
          A(n, "y2", "12"),
          A(n, "class", "svelte-176xcb"),
          A(s, "x1", "12"),
          A(s, "y1", "16"),
          A(s, "x2", "12.01"),
          A(s, "y2", "16"),
          A(s, "class", "svelte-176xcb"),
          A(t, "xmlns", "http://www.w3.org/2000/svg"),
          A(t, "width", "24"),
          A(t, "height", "24"),
          A(t, "viewBox", "0 0 24 24"),
          A(t, "fill", "none"),
          A(t, "stroke", "currentColor"),
          A(t, "stroke-width", "2"),
          A(t, "stroke-linecap", "round"),
          A(t, "stroke-linejoin", "round"),
          A(t, "class", "svelte-176xcb"),
          A(u, "class", "text"),
          A(e, "class", "container svelte-176xcb");
      },
      m(f, d) {
        C(f, e, d), V(e, t), V(t, r), V(t, n), V(t, s), V(e, o), V(e, u), c.m(u, null);
      },
      p(f, param) {
        var _param = _sliced_to_array(param, 1),
          d = _param[0];
        h === (h = l(f, d)) && c ? c.p(f, d) : (c.d(1), (c = h(f)), c && (c.c(), c.m(u, null)));
      },
      i: ke,
      o: ke,
      d(f) {
        f && y(e), c.d();
      },
    };
  }
  a(Y4, "create_fragment");
  function K4(i, e, t) {
    var r = e.error;
    return (
      (i.$$set = (n) => {
        "error" in n && t(0, (r = n.error));
      }),
      [r]
    );
  }
  a(K4, "instance");
  var Mh =
      ((_class108 = class _class extends ie {
        constructor(e) {
          super(), oe(this, e, K4, Y4, se, { error: 0 });
        }
      }),
      (() => {
        a(_class108, "FeedbackError");
      })(),
      _class108),
    V1 = Mh;
  function z1(i, e, t) {
    var r = i.slice();
    return (r[4] = e[t]), r;
  }
  a(z1, "get_each_context");
  function H1(i, e, t) {
    var r = i.slice();
    return (r[7] = e[t]), r;
  }
  a(H1, "get_each_context_1");
  function X4(i) {
    var e,
      t = i[2],
      r = [];
    for (var n = 0; n < t.length; n += 1) r[n] = W1(H1(i, t, n));
    return {
      c() {
        e = R("ul");
        for (var n = 0; n < r.length; n += 1) r[n].c();
      },
      m(n, s) {
        C(n, e, s);
        for (var o = 0; o < r.length; o += 1) r[o].m(e, null);
      },
      p(n, s) {
        if (s & 4) {
          t = n[2];
          var o;
          for (o = 0; o < t.length; o += 1) {
            var u = H1(n, t, o);
            r[o] ? r[o].p(u, s) : ((r[o] = W1(u)), r[o].c(), r[o].m(e, null));
          }
          for (; o < r.length; o += 1) r[o].d(1);
          r.length = t.length;
        }
      },
      d(n) {
        n && y(e), Ir(r, n);
      },
    };
  }
  a(X4, "create_if_block_2");
  function W1(i) {
    var e,
      t,
      r = i[7].message + "",
      n;
    return {
      c() {
        (e = R("li")), (t = j("$")), (n = j(r));
      },
      m(s, o) {
        C(s, e, o), V(e, t), V(e, n);
      },
      p: ke,
      d(s) {
        s && y(e);
      },
    };
  }
  a(W1, "create_each_block_1");
  function j1(i) {
    var e;
    function t(s, o) {
      return s[3].length === 0 ? J4 : Q4;
    }
    a(t, "select_block_type");
    var n = t(i, -1)(i);
    return {
      c() {
        n.c(), (e = It());
      },
      m(s, o) {
        n.m(s, o), C(s, e, o);
      },
      p(s, o) {
        n.p(s, o);
      },
      d(s) {
        n.d(s), s && y(e);
      },
    };
  }
  a(j1, "create_if_block");
  function Q4(i) {
    var e,
      t,
      r,
      n = i[3],
      s = [];
    for (var o = 0; o < n.length; o += 1) s[o] = U1(z1(i, n, o));
    return {
      c() {
        (e = R("strong")), (e.textContent = "".concat(i[3].length, " merged:")), (t = q()), (r = R("ul"));
        for (var o = 0; o < s.length; o += 1) s[o].c();
        A(e, "class", "svelte-yy7yvg");
      },
      m(o, u) {
        C(o, e, u), C(o, t, u), C(o, r, u);
        for (var l = 0; l < s.length; l += 1) s[l].m(r, null);
      },
      p(o, u) {
        if (u & 8) {
          n = o[3];
          var l;
          for (l = 0; l < n.length; l += 1) {
            var h = z1(o, n, l);
            s[l] ? s[l].p(h, u) : ((s[l] = U1(h)), s[l].c(), s[l].m(r, null));
          }
          for (; l < s.length; l += 1) s[l].d(1);
          s.length = n.length;
        }
      },
      d(o) {
        o && y(e), o && y(t), o && y(r), Ir(s, o);
      },
    };
  }
  a(Q4, "create_else_block");
  function J4(i) {
    var e;
    return {
      c() {
        e = j("No duplicates");
      },
      m(t, r) {
        C(t, e, r);
      },
      p: ke,
      d(t) {
        t && y(e);
      },
    };
  }
  a(J4, "create_if_block_1");
  function U1(i) {
    var e,
      t = i[4].message + "",
      r;
    return {
      c() {
        (e = R("li")), (r = j(t));
      },
      m(n, s) {
        C(n, e, s), V(e, r);
      },
      p: ke,
      d(n) {
        n && y(e);
      },
    };
  }
  a(U1, "create_each_block");
  function Z4(i) {
    var e,
      t,
      r,
      n,
      s,
      o,
      u,
      l,
      h,
      c,
      f = i[1].count + "",
      d,
      p,
      m,
      b = i[2].length > 0 && X4(i),
      g = i[0].merge && j1(i);
    return {
      c() {
        (e = R("div")),
          (t = St("svg")),
          (r = St("circle")),
          (n = St("line")),
          (s = St("line")),
          (o = q()),
          (u = R("div")),
          (l = R("strong")),
          (l.textContent = "Successful!"),
          (h = R("br")),
          (c = j("\n		Tidied ")),
          (d = j(f)),
          (p = j(" entries.\n\n		")),
          b && b.c(),
          (m = q()),
          g && g.c(),
          A(r, "cx", "12"),
          A(r, "cy", "12"),
          A(r, "r", "10"),
          A(r, "class", "svelte-yy7yvg"),
          A(n, "x1", "12"),
          A(n, "y1", "16"),
          A(n, "x2", "12"),
          A(n, "y2", "12"),
          A(n, "class", "svelte-yy7yvg"),
          A(s, "x1", "12"),
          A(s, "y1", "8"),
          A(s, "x2", "12.01"),
          A(s, "y2", "8"),
          A(s, "class", "svelte-yy7yvg"),
          A(t, "xmlns", "http://www.w3.org/2000/svg"),
          A(t, "width", "24"),
          A(t, "height", "24"),
          A(t, "viewBox", "0 0 24 24"),
          A(t, "fill", "none"),
          A(t, "stroke", "currentColor"),
          A(t, "stroke-width", "2"),
          A(t, "stroke-linecap", "round"),
          A(t, "stroke-linejoin", "round"),
          A(t, "class", "feather feather-info svelte-yy7yvg"),
          A(l, "class", "svelte-yy7yvg"),
          A(u, "class", "text"),
          A(e, "class", "container svelte-yy7yvg");
      },
      m(D, F) {
        C(D, e, F), V(e, t), V(t, r), V(t, n), V(t, s), V(e, o), V(e, u), V(u, l), V(u, h), V(u, c), V(u, d), V(u, p), b && b.m(u, null), V(u, m), g && g.m(u, null);
      },
      p(D, param) {
        var _param = _sliced_to_array(param, 1),
          F = _param[0];
        F & 2 && f !== (f = D[1].count + "") && We(d, f), D[2].length > 0 && b.p(D, F), D[0].merge ? (g ? g.p(D, F) : ((g = j1(D)), g.c(), g.m(u, null))) : g && (g.d(1), (g = null));
      },
      i: ke,
      o: ke,
      d(D) {
        D && y(e), b && b.d(), g && g.d();
      },
    };
  }
  a(Z4, "create_fragment");
  function e3(i, e, t) {
    var r = e.options,
      n = e.result,
      s = n.warnings.filter((u) => u.code !== "DUPLICATE_ENTRY"),
      o = n.warnings.filter((u) => u.code === "DUPLICATE_ENTRY");
    return (
      (i.$$set = (u) => {
        "options" in u && t(0, (r = u.options)), "result" in u && t(1, (n = u.result));
      }),
      [r, n, s, o]
    );
  }
  a(e3, "instance");
  var $h =
      ((_class109 = class _class extends ie {
        constructor(e) {
          super(), oe(this, e, e3, Z4, se, { options: 0, result: 1 });
        }
      }),
      (() => {
        a(_class109, "FeedbackSuccess");
      })(),
      _class109),
    G1 = $h;
  function t3(i) {
    var e, t;
    return (
      (e = new V1({ props: { error: i[1].error } })),
      {
        c() {
          P(e.$$.fragment);
        },
        m(r, n) {
          $(e, r, n), (t = !0);
        },
        p(r, n) {
          var s = {};
          n & 2 && (s.error = r[1].error), e.$set(s);
        },
        i(r) {
          t || (S(e.$$.fragment, r), (t = !0));
        },
        o(r) {
          B(e.$$.fragment, r), (t = !1);
        },
        d(r) {
          M(e, r);
        },
      }
    );
  }
  a(t3, "create_else_block");
  function i3(i) {
    var e, t;
    return (
      (e = new G1({ props: { options: i[0], result: i[1].result } })),
      {
        c() {
          P(e.$$.fragment);
        },
        m(r, n) {
          $(e, r, n), (t = !0);
        },
        p(r, n) {
          var s = {};
          n & 1 && (s.options = r[0]), n & 2 && (s.result = r[1].result), e.$set(s);
        },
        i(r) {
          t || (S(e.$$.fragment, r), (t = !0));
        },
        o(r) {
          B(e.$$.fragment, r), (t = !1);
        },
        d(r) {
          M(e, r);
        },
      }
    );
  }
  a(i3, "create_if_block");
  function r3(i) {
    var e,
      t,
      r,
      n,
      s = [i3, t3],
      o = [];
    function u(l, h) {
      return l[1].status === "success" ? 0 : 1;
    }
    return (
      a(u, "select_block_type"),
      (t = u(i, -1)),
      (r = o[t] = s[t](i)),
      {
        c() {
          (e = R("div")), r.c(), A(e, "role", "alert"), A(e, "class", "svelte-1pqmac");
        },
        m(l, h) {
          C(l, e, h), o[t].m(e, null), (n = !0);
        },
        p(l, param) {
          var _param = _sliced_to_array(param, 1),
            h = _param[0];
          var c = t;
          (t = u(l, h)),
            t === c
              ? o[t].p(l, h)
              : (Nt(),
                B(o[c], 1, 1, () => {
                  o[c] = null;
                }),
                Vt(),
                (r = o[t]),
                r ? r.p(l, h) : ((r = o[t] = s[t](l)), r.c()),
                S(r, 1),
                r.m(e, null));
        },
        i(l) {
          n || (S(r), (n = !0));
        },
        o(l) {
          B(r), (n = !1);
        },
        d(l) {
          l && y(e), o[t].d();
        },
      }
    );
  }
  a(r3, "create_fragment");
  function n3(i, e, t) {
    var r = e.options,
      n = e.status;
    return (
      (i.$$set = (s) => {
        "options" in s && t(0, (r = s.options)), "status" in s && t(1, (n = s.status));
      }),
      [r, n]
    );
  }
  a(n3, "instance");
  var Ph =
      ((_class110 = class _class extends ie {
        constructor(e) {
          super(), oe(this, e, n3, r3, se, { options: 0, status: 1 });
        }
      }),
      (() => {
        a(_class110, "Feedback");
      })(),
      _class110),
    Y1 = Ph;
  function s3(i) {
    var e, t, r, n;
    function s(u) {
      i[3](u);
    }
    a(s, "radio_group_binding");
    var o = { name: "indent", value: "tabs" };
    return (
      i[0] !== void 0 && (o.group = i[0]),
      (e = new ai({ props: o })),
      Y.push(() => X(e, "group", s)),
      {
        c() {
          P(e.$$.fragment), (r = j("\n		Indent with tabs"));
        },
        m(u, l) {
          $(e, u, l), C(u, r, l), (n = !0);
        },
        p(u, l) {
          var h = {};
          !t && l & 1 && ((t = !0), (h.group = u[0]), K(() => (t = !1))), e.$set(h);
        },
        i(u) {
          n || (S(e.$$.fragment, u), (n = !0));
        },
        o(u) {
          B(e.$$.fragment, u), (n = !1);
        },
        d(u) {
          M(e, u), u && y(r);
        },
      }
    );
  }
  a(s3, "create_default_slot_3");
  function o3(i) {
    var e, t, r, n;
    function s(u) {
      i[4](u);
    }
    a(s, "radio_group_binding_1");
    var o = { name: "indent", value: "spaces" };
    return (
      i[0] !== void 0 && (o.group = i[0]),
      (e = new ai({ props: o })),
      Y.push(() => X(e, "group", s)),
      {
        c() {
          P(e.$$.fragment), (r = j("\n		Indent with spaces"));
        },
        m(u, l) {
          $(e, u, l), C(u, r, l), (n = !0);
        },
        p(u, l) {
          var h = {};
          !t && l & 1 && ((t = !0), (h.group = u[0]), K(() => (t = !1))), e.$set(h);
        },
        i(u) {
          n || (S(e.$$.fragment, u), (n = !0));
        },
        o(u) {
          B(e.$$.fragment, u), (n = !1);
        },
        d(u) {
          M(e, u), u && y(r);
        },
      }
    );
  }
  a(o3, "create_default_slot_2");
  function K1(i) {
    var e, t;
    return (
      (e = new $o({ props: { $$slots: { default: [u3] }, $$scope: { ctx: i } } })),
      {
        c() {
          P(e.$$.fragment);
        },
        m(r, n) {
          $(e, r, n), (t = !0);
        },
        p(r, n) {
          var s = {};
          n & 66 && (s.$$scope = { dirty: n, ctx: r }), e.$set(s);
        },
        i(r) {
          t || (S(e.$$.fragment, r), (t = !0));
        },
        o(r) {
          B(e.$$.fragment, r), (t = !1);
        },
        d(r) {
          M(e, r);
        },
      }
    );
  }
  a(K1, "create_if_block");
  function u3(i) {
    var e, t, r, n, s;
    return {
      c() {
        (e = R("label")), (t = j("Spaces: ")), (r = R("input")), A(r, "name", "spaces"), A(r, "type", "number");
      },
      m(o, u) {
        C(o, e, u), V(e, t), V(e, r), Fe(r, i[1]), n || ((s = be(r, "input", i[5])), (n = !0));
      },
      p(o, u) {
        u & 2 && bt(r.value) !== o[1] && Fe(r, o[1]);
      },
      d(o) {
        o && y(e), (n = !1), s();
      },
    };
  }
  a(u3, "create_default_slot_1");
  function l3(i) {
    var e, t, r, n, s, o;
    (e = new Xe({ props: { title: "Indent fields with tabs", $$slots: { default: [s3] }, $$scope: { ctx: i } } })), (r = new Xe({ props: { title: "Indent fields with spaces", $$slots: { default: [o3] }, $$scope: { ctx: i } } }));
    var u = i[0] === "spaces" && K1(i);
    return {
      c() {
        P(e.$$.fragment), (t = q()), P(r.$$.fragment), (n = q()), u && u.c(), (s = It());
      },
      m(l, h) {
        $(e, l, h), C(l, t, h), $(r, l, h), C(l, n, h), u && u.m(l, h), C(l, s, h), (o = !0);
      },
      p(l, h) {
        var c = {};
        h & 65 && (c.$$scope = { dirty: h, ctx: l }), e.$set(c);
        var f = {};
        h & 65 && (f.$$scope = { dirty: h, ctx: l }),
          r.$set(f),
          l[0] === "spaces"
            ? u
              ? (u.p(l, h), h & 1 && S(u, 1))
              : ((u = K1(l)), u.c(), S(u, 1), u.m(s.parentNode, s))
            : u &&
              (Nt(),
              B(u, 1, 1, () => {
                u = null;
              }),
              Vt());
      },
      i(l) {
        o || (S(e.$$.fragment, l), S(r.$$.fragment, l), S(u), (o = !0));
      },
      o(l) {
        B(e.$$.fragment, l), B(r.$$.fragment, l), B(u), (o = !1);
      },
      d(l) {
        M(e, l), l && y(t), M(r, l), l && y(n), u && u.d(l), l && y(s);
      },
    };
  }
  a(l3, "create_default_slot");
  function a3(i) {
    var e, t;
    return (
      (e = new Ke({ props: { title: "Indent", open: !0, $$slots: { default: [l3] }, $$scope: { ctx: i } } })),
      {
        c() {
          P(e.$$.fragment);
        },
        m(r, n) {
          $(e, r, n), (t = !0);
        },
        p(r, param) {
          var _param = _sliced_to_array(param, 1),
            n = _param[0];
          var s = {};
          n & 67 && (s.$$scope = { dirty: n, ctx: r }), e.$set(s);
        },
        i(r) {
          t || (S(e.$$.fragment, r), (t = !0));
        },
        o(r) {
          B(e.$$.fragment, r), (t = !1);
        },
        d(r) {
          M(e, r);
        },
      }
    );
  }
  a(a3, "create_fragment");
  function h3(i, e, t) {
    var r = e.options,
      n = r.tab ? "tabs" : "spaces",
      s = r.space;
    function o(h) {
      (n = h), t(0, n);
    }
    a(o, "radio_group_binding");
    function u(h) {
      (n = h), t(0, n);
    }
    a(u, "radio_group_binding_1");
    function l() {
      (s = bt(this.value)), t(1, s);
    }
    return (
      a(l, "input_input_handler"),
      (i.$$set = (h) => {
        "options" in h && t(2, (r = h.options));
      }),
      (i.$$.update = () => {
        if (i.$$.dirty & 3) e: t(2, (r.space = s), r), t(2, (r.tab = n === "tabs"), r);
      }),
      [n, s, r, o, u, l]
    );
  }
  a(h3, "instance");
  var Lh =
      ((_class111 = class _class extends ie {
        constructor(e) {
          super(), oe(this, e, h3, a3, se, { options: 2 });
        }
      }),
      (() => {
        a(_class111, "IndentOptions");
      })(),
      _class111),
    X1 = Lh;
  function c3(i) {
    var e, t, r, n, s, o, u, l, h;
    return {
      c() {
        (e = R("label")),
          (t = j("Fields to sort by:\n			")),
          (r = R("textarea")),
          (n = q()),
          (s = R("p")),
          (s.innerHTML = "Space delimited, e.g: <code>key type publisher author</code>. For\n			descending order, prefix the field name with a dash, e.g.\n			<code>-year author</code>."),
          (o = q()),
          (u = R("p")),
          (u.innerHTML = "In addition to field names, you can use <code>key</code> to sort by\n			citation key,\n			<code>type</code> to sort by entry type (@article, @misc, etc), and\n			<code>special</code> to sort special entries (@string, @preamble, @xdata, and\n			@set) to the top."),
          A(r, "name", "sortList"),
          A(r, "spellcheck", "false");
      },
      m(c, f) {
        C(c, e, f), V(e, t), V(e, r), Fe(r, i[3]), C(c, n, f), C(c, s, f), C(c, o, f), C(c, u, f), l || ((h = be(r, "input", i[5])), (l = !0));
      },
      p(c, f) {
        f & 8 && Fe(r, c[3]);
      },
      d(c) {
        c && y(e), c && y(n), c && y(s), c && y(o), c && y(u), (l = !1), h();
      },
    };
  }
  a(c3, "create_default_slot_2");
  function f3(i) {
    var e, t, r, n, s, o, u;
    return {
      c() {
        (e = R("label")), (t = j("Field order:\n			")), (r = R("textarea")), (n = q()), (s = R("p")), (s.innerHTML = "Space delimited, e.g: <code>title author year</code>"), A(r, "name", "sortFieldList"), A(r, "spellcheck", "false");
      },
      m(l, h) {
        C(l, e, h), V(e, t), V(e, r), Fe(r, i[1]), C(l, n, h), C(l, s, h), o || ((u = be(r, "input", i[7])), (o = !0));
      },
      p(l, h) {
        h & 2 && Fe(r, l[1]);
      },
      d(l) {
        l && y(e), l && y(n), l && y(s), (o = !1), u();
      },
    };
  }
  a(f3, "create_default_slot_1");
  function d3(i) {
    var e, t, r, n, s, o;
    function u(f) {
      i[6](f);
    }
    a(u, "option0_checked_binding");
    var l = { option: "sort", $$slots: { default: [c3] }, $$scope: { ctx: i } };
    i[2] !== void 0 && (l.checked = i[2]), (e = new me({ props: l })), Y.push(() => X(e, "checked", u));
    function h(f) {
      i[8](f);
    }
    a(h, "option1_checked_binding");
    var c = { option: "sortFields", $$slots: { default: [f3] }, $$scope: { ctx: i } };
    return (
      i[0] !== void 0 && (c.checked = i[0]),
      (n = new me({ props: c })),
      Y.push(() => X(n, "checked", h)),
      {
        c() {
          P(e.$$.fragment), (r = q()), P(n.$$.fragment);
        },
        m(f, d) {
          $(e, f, d), C(f, r, d), $(n, f, d), (o = !0);
        },
        p(f, d) {
          var p = {};
          d & 2056 && (p.$$scope = { dirty: d, ctx: f }), !t && d & 4 && ((t = !0), (p.checked = f[2]), K(() => (t = !1))), e.$set(p);
          var m = {};
          d & 2050 && (m.$$scope = { dirty: d, ctx: f }), !s && d & 1 && ((s = !0), (m.checked = f[0]), K(() => (s = !1))), n.$set(m);
        },
        i(f) {
          o || (S(e.$$.fragment, f), S(n.$$.fragment, f), (o = !0));
        },
        o(f) {
          B(e.$$.fragment, f), B(n.$$.fragment, f), (o = !1);
        },
        d(f) {
          M(e, f), f && y(r), M(n, f);
        },
      }
    );
  }
  a(d3, "create_default_slot");
  function p3(i) {
    var e, t;
    return (
      (e = new Ke({ props: { title: "Sorting", open: !0, $$slots: { default: [d3] }, $$scope: { ctx: i } } })),
      {
        c() {
          P(e.$$.fragment);
        },
        m(r, n) {
          $(e, r, n), (t = !0);
        },
        p(r, param) {
          var _param = _sliced_to_array(param, 1),
            n = _param[0];
          var s = {};
          n & 2063 && (s.$$scope = { dirty: n, ctx: r }), e.$set(s);
        },
        i(r) {
          t || (S(e.$$.fragment, r), (t = !0));
        },
        o(r) {
          B(e.$$.fragment, r), (t = !1);
        },
        d(r) {
          M(e, r);
        },
      }
    );
  }
  a(p3, "create_fragment");
  function m3(i, e, t) {
    var r, n;
    var s = e.options,
      o = s.sortFields !== void 0 && s.sortFields.length > 0,
      u = ((r = s.sortFields) !== null && r !== void 0 ? r : ys).join(" "),
      l = s.sort !== void 0 && s.sort.length > 0,
      h = ((n = s.sort) !== null && n !== void 0 ? n : El).join(" ");
    function c() {
      (h = this.value), t(3, h);
    }
    a(c, "textarea_input_handler");
    function f(m) {
      (l = m), t(2, l);
    }
    a(f, "option0_checked_binding");
    function d() {
      (u = this.value), t(1, u);
    }
    a(d, "textarea_input_handler_1");
    function p(m) {
      (o = m), t(0, o);
    }
    return (
      a(p, "option1_checked_binding"),
      (i.$$set = (m) => {
        "options" in m && t(4, (s = m.options));
      }),
      (i.$$.update = () => {
        if (i.$$.dirty & 15) e: t(4, (s.sortFields = o && u.length > 0 ? u.split(/[\n\t ,]+/) : void 0), s), t(4, (s.sort = l && h.length > 0 ? h.split(/[\n\t ,]+/) : void 0), s);
      }),
      [o, u, l, h, s, c, f, d, p]
    );
  }
  a(m3, "instance");
  var qh =
      ((_class112 = class _class extends ie {
        constructor(e) {
          super(), oe(this, e, m3, p3, se, { options: 4 });
        }
      }),
      (() => {
        a(_class112, "SortingOptions");
      })(),
      _class112),
    Q1 = qh;
  function g3(i) {
    var e, t, r, n, s, o, u;
    return {
      c() {
        (e = R("label")), (t = j("Fields to enclose in double braces:\n			")), (r = R("textarea")), (n = q()), (s = R("p")), (s.innerHTML = "Space delimited, e.g: <code>title journal</code>."), A(r, "name", "enclosingBracesList"), A(r, "spellcheck", "false");
      },
      m(l, h) {
        C(l, e, h), V(e, t), V(e, r), Fe(r, i[12]), C(l, n, h), C(l, s, h), o || ((u = be(r, "input", i[17])), (o = !0));
      },
      p(l, h) {
        h[0] & 4096 && Fe(r, l[12]);
      },
      d(l) {
        l && y(e), l && y(n), l && y(s), (o = !1), u();
      },
    };
  }
  a(g3, "create_default_slot_3");
  function D3(i) {
    var e, t, r, n, s, o, u;
    return {
      c() {
        (e = R("label")), (t = j("Remove braces from values of these fields:\n			")), (r = R("textarea")), (n = q()), (s = R("p")), (s.innerHTML = "Space delimited, e.g: <code>title journal</code>."), A(r, "name", "removeBracesList"), A(r, "spellcheck", "false");
      },
      m(l, h) {
        C(l, e, h), V(e, t), V(e, r), Fe(r, i[14]), C(l, n, h), C(l, s, h), o || ((u = be(r, "input", i[19])), (o = !0));
      },
      p(l, h) {
        h[0] & 16384 && Fe(r, l[14]);
      },
      d(l) {
        l && y(e), l && y(n), l && y(s), (o = !1), u();
      },
    };
  }
  a(D3, "create_default_slot_2");
  function b3(i) {
    var e, t, r, n, s, o, u;
    return {
      c() {
        (e = R("label")), (t = j("Maximum number of authors:\n			")), (r = R("input")), (n = q()), (s = R("p")), (s.textContent = 'Author lists longer than this will be truncated to "and others".'), A(r, "name", "maxAuthorsNum"), A(r, "type", "number");
      },
      m(l, h) {
        C(l, e, h), V(e, t), V(e, r), Fe(r, i[10]), C(l, n, h), C(l, s, h), o || ((u = be(r, "input", i[29])), (o = !0));
      },
      p(l, h) {
        h[0] & 1024 && bt(r.value) !== l[10] && Fe(r, l[10]);
      },
      d(l) {
        l && y(e), l && y(n), l && y(s), (o = !1), u();
      },
    };
  }
  a(b3, "create_default_slot_1");
  function F3(i) {
    var e, t, r, n, s, o, u, l, h, c, f, d, p, m, b, g, D, F, w, x, E, _, I, J, z, U, N, ne, le, H, T, Z, ge, De, ce, ae, _e, Me;
    function pt(v) {
      i[16](v);
    }
    a(pt, "option0_checked_binding");
    var $t = { option: "curly" };
    i[0] !== void 0 && ($t.checked = i[0]), (r = new me({ props: $t })), Y.push(() => X(r, "checked", pt));
    function Oi(v) {
      i[18](v);
    }
    a(Oi, "option1_checked_binding");
    var Ti = { option: "enclosingBraces", $$slots: { default: [g3] }, $$scope: { ctx: i } };
    i[11] !== void 0 && (Ti.checked = i[11]), (o = new me({ props: Ti })), Y.push(() => X(o, "checked", Oi));
    function Ri(v) {
      i[20](v);
    }
    a(Ri, "option2_checked_binding");
    var ve = { option: "removeBraces", $$slots: { default: [D3] }, $$scope: { ctx: i } };
    i[13] !== void 0 && (ve.checked = i[13]), (h = new me({ props: ve })), Y.push(() => X(h, "checked", Ri));
    function ee(v) {
      i[21](v);
    }
    a(ee, "option3_checked_binding");
    var Le = { option: "stripEnclosingBraces" };
    i[1] !== void 0 && (Le.checked = i[1]), (d = new me({ props: Le })), Y.push(() => X(d, "checked", ee));
    function Mi(v) {
      i[22](v);
    }
    a(Mi, "option4_checked_binding");
    var fe = { option: "numeric" };
    i[2] !== void 0 && (fe.checked = i[2]), (b = new me({ props: fe })), Y.push(() => X(b, "checked", Mi));
    function Cn(v) {
      i[23](v);
    }
    a(Cn, "option5_checked_binding");
    var Er = { option: "months" };
    i[3] !== void 0 && (Er.checked = i[3]), (F = new me({ props: Er })), Y.push(() => X(F, "checked", Cn));
    function An(v) {
      i[24](v);
    }
    a(An, "option6_checked_binding");
    var vr = { option: "dropAllCaps" };
    i[4] !== void 0 && (vr.checked = i[4]), (E = new me({ props: vr })), Y.push(() => X(E, "checked", An));
    function En(v) {
      i[25](v);
    }
    a(En, "option7_checked_binding");
    var Hh = { option: "escape" };
    i[5] !== void 0 && (Hh.checked = i[5]), (J = new me({ props: Hh })), Y.push(() => X(J, "checked", En));
    function nb(v) {
      i[26](v);
    }
    a(nb, "option8_checked_binding");
    var Wh = { option: "encodeUrls" };
    i[6] !== void 0 && (Wh.checked = i[6]), (N = new me({ props: Wh })), Y.push(() => X(N, "checked", nb));
    function sb(v) {
      i[27](v);
    }
    a(sb, "option9_checked_binding");
    var jh = { option: "removeEmptyFields" };
    i[7] !== void 0 && (jh.checked = i[7]), (H = new me({ props: jh })), Y.push(() => X(H, "checked", sb));
    function ob(v) {
      i[28](v);
    }
    a(ob, "option10_checked_binding");
    var Uh = { option: "removeDuplicateFields" };
    i[8] !== void 0 && (Uh.checked = i[8]), (ge = new me({ props: Uh })), Y.push(() => X(ge, "checked", ob));
    function ub(v) {
      i[30](v);
    }
    a(ub, "option11_checked_binding");
    var Gh = { option: "maxAuthors", $$slots: { default: [b3] }, $$scope: { ctx: i } };
    return (
      i[9] !== void 0 && (Gh.checked = i[9]),
      (ae = new me({ props: Gh })),
      Y.push(() => X(ae, "checked", ub)),
      {
        c() {
          (e = R("div")),
            (t = q()),
            P(r.$$.fragment),
            (s = q()),
            P(o.$$.fragment),
            (l = q()),
            P(h.$$.fragment),
            (f = q()),
            P(d.$$.fragment),
            (m = q()),
            P(b.$$.fragment),
            (D = q()),
            P(F.$$.fragment),
            (x = q()),
            P(E.$$.fragment),
            (I = q()),
            P(J.$$.fragment),
            (U = q()),
            P(N.$$.fragment),
            (le = q()),
            P(H.$$.fragment),
            (Z = q()),
            P(ge.$$.fragment),
            (ce = q()),
            P(ae.$$.fragment),
            A(e, "id", "valueOptions");
        },
        m(v, te) {
          C(v, e, te), C(v, t, te), $(r, v, te), C(v, s, te), $(o, v, te), C(v, l, te), $(h, v, te), C(v, f, te), $(d, v, te), C(v, m, te), $(b, v, te), C(v, D, te), $(F, v, te), C(v, x, te), $(E, v, te), C(v, I, te), $(J, v, te), C(v, U, te), $(N, v, te), C(v, le, te), $(H, v, te), C(v, Z, te), $(ge, v, te), C(v, ce, te), $(ae, v, te), (Me = !0);
        },
        p(v, te) {
          var Yh = {};
          !n && te[0] & 1 && ((n = !0), (Yh.checked = v[0]), K(() => (n = !1))), r.$set(Yh);
          var Po = {};
          (te[0] & 4096) | (te[1] & 16384) && (Po.$$scope = { dirty: te, ctx: v }), !u && te[0] & 2048 && ((u = !0), (Po.checked = v[11]), K(() => (u = !1))), o.$set(Po);
          var Lo = {};
          (te[0] & 16384) | (te[1] & 16384) && (Lo.$$scope = { dirty: te, ctx: v }), !c && te[0] & 8192 && ((c = !0), (Lo.checked = v[13]), K(() => (c = !1))), h.$set(Lo);
          var Kh = {};
          !p && te[0] & 2 && ((p = !0), (Kh.checked = v[1]), K(() => (p = !1))), d.$set(Kh);
          var Xh = {};
          !g && te[0] & 4 && ((g = !0), (Xh.checked = v[2]), K(() => (g = !1))), b.$set(Xh);
          var Qh = {};
          !w && te[0] & 8 && ((w = !0), (Qh.checked = v[3]), K(() => (w = !1))), F.$set(Qh);
          var Jh = {};
          !_ && te[0] & 16 && ((_ = !0), (Jh.checked = v[4]), K(() => (_ = !1))), E.$set(Jh);
          var Zh = {};
          !z && te[0] & 32 && ((z = !0), (Zh.checked = v[5]), K(() => (z = !1))), J.$set(Zh);
          var ec = {};
          !ne && te[0] & 64 && ((ne = !0), (ec.checked = v[6]), K(() => (ne = !1))), N.$set(ec);
          var tc = {};
          !T && te[0] & 128 && ((T = !0), (tc.checked = v[7]), K(() => (T = !1))), H.$set(tc);
          var ic = {};
          !De && te[0] & 256 && ((De = !0), (ic.checked = v[8]), K(() => (De = !1))), ge.$set(ic);
          var qo = {};
          (te[0] & 1024) | (te[1] & 16384) && (qo.$$scope = { dirty: te, ctx: v }), !_e && te[0] & 512 && ((_e = !0), (qo.checked = v[9]), K(() => (_e = !1))), ae.$set(qo);
        },
        i(v) {
          Me || (S(r.$$.fragment, v), S(o.$$.fragment, v), S(h.$$.fragment, v), S(d.$$.fragment, v), S(b.$$.fragment, v), S(F.$$.fragment, v), S(E.$$.fragment, v), S(J.$$.fragment, v), S(N.$$.fragment, v), S(H.$$.fragment, v), S(ge.$$.fragment, v), S(ae.$$.fragment, v), (Me = !0));
        },
        o(v) {
          B(r.$$.fragment, v), B(o.$$.fragment, v), B(h.$$.fragment, v), B(d.$$.fragment, v), B(b.$$.fragment, v), B(F.$$.fragment, v), B(E.$$.fragment, v), B(J.$$.fragment, v), B(N.$$.fragment, v), B(H.$$.fragment, v), B(ge.$$.fragment, v), B(ae.$$.fragment, v), (Me = !1);
        },
        d(v) {
          v && y(e), v && y(t), M(r, v), v && y(s), M(o, v), v && y(l), M(h, v), v && y(f), M(d, v), v && y(m), M(b, v), v && y(D), M(F, v), v && y(x), M(E, v), v && y(I), M(J, v), v && y(U), M(N, v), v && y(le), M(H, v), v && y(Z), M(ge, v), v && y(ce), M(ae, v);
        },
      }
    );
  }
  a(F3, "create_default_slot");
  function y3(i) {
    var e, t;
    return (
      (e = new Ke({ props: { open: !0, title: "Values", $$slots: { default: [F3] }, $$scope: { ctx: i } } })),
      {
        c() {
          P(e.$$.fragment);
        },
        m(r, n) {
          $(e, r, n), (t = !0);
        },
        p(r, n) {
          var s = {};
          (n[0] & 32767) | (n[1] & 16384) && (s.$$scope = { dirty: n, ctx: r }), e.$set(s);
        },
        i(r) {
          t || (S(e.$$.fragment, r), (t = !0));
        },
        o(r) {
          B(e.$$.fragment, r), (t = !1);
        },
        d(r) {
          M(e, r);
        },
      }
    );
  }
  a(y3, "create_fragment");
  function C3(i, e, t) {
    var r, n, s, o, u, l, h, c, f, d, p, m, b, g;
    var D = e.options,
      F = (r = D.curly) !== null && r !== void 0 ? r : !1,
      w = (n = D.stripEnclosingBraces) !== null && n !== void 0 ? n : !1,
      x = (s = D.numeric) !== null && s !== void 0 ? s : !1,
      E = (o = D.months) !== null && o !== void 0 ? o : !1,
      _ = (u = D.dropAllCaps) !== null && u !== void 0 ? u : !1,
      I = (l = D.escape) !== null && l !== void 0 ? l : !1,
      J = (h = D.encodeUrls) !== null && h !== void 0 ? h : !1,
      z = (c = D.removeEmptyFields) !== null && c !== void 0 ? c : !1,
      U = (f = D.removeDuplicateFields) !== null && f !== void 0 ? f : !1,
      N = D.maxAuthors !== void 0,
      ne = (d = D.maxAuthors) !== null && d !== void 0 ? d : 3,
      le = D.enclosingBraces !== void 0 && D.enclosingBraces.length > 0,
      H = (m = (p = D.enclosingBraces) === null || p === void 0 ? void 0 : p.join(" ")) !== null && m !== void 0 ? m : "title",
      T = D.removeBraces !== void 0 && D.removeBraces.length > 0,
      Z = (g = (b = D.enclosingBraces) === null || b === void 0 ? void 0 : b.join(" ")) !== null && g !== void 0 ? g : "title";
    function ge(fe) {
      (F = fe), t(0, F);
    }
    a(ge, "option0_checked_binding");
    function De() {
      (H = this.value), t(12, H);
    }
    a(De, "textarea_input_handler");
    function ce(fe) {
      (le = fe), t(11, le);
    }
    a(ce, "option1_checked_binding");
    function ae() {
      (Z = this.value), t(14, Z);
    }
    a(ae, "textarea_input_handler_1");
    function _e(fe) {
      (T = fe), t(13, T);
    }
    a(_e, "option2_checked_binding");
    function Me(fe) {
      (w = fe), t(1, w);
    }
    a(Me, "option3_checked_binding");
    function pt(fe) {
      (x = fe), t(2, x);
    }
    a(pt, "option4_checked_binding");
    function $t(fe) {
      (E = fe), t(3, E);
    }
    a($t, "option5_checked_binding");
    function Oi(fe) {
      (_ = fe), t(4, _);
    }
    a(Oi, "option6_checked_binding");
    function Ti(fe) {
      (I = fe), t(5, I);
    }
    a(Ti, "option7_checked_binding");
    function Ri(fe) {
      (J = fe), t(6, J);
    }
    a(Ri, "option8_checked_binding");
    function ve(fe) {
      (z = fe), t(7, z);
    }
    a(ve, "option9_checked_binding");
    function ee(fe) {
      (U = fe), t(8, U);
    }
    a(ee, "option10_checked_binding");
    function Le() {
      (ne = bt(this.value)), t(10, ne);
    }
    a(Le, "input_input_handler");
    function Mi(fe) {
      (N = fe), t(9, N);
    }
    return (
      a(Mi, "option11_checked_binding"),
      (i.$$set = (fe) => {
        "options" in fe && t(15, (D = fe.options));
      }),
      (i.$$.update = () => {
        if (i.$$.dirty[0] & 32767)
          e: t(15, (D.curly = F), D),
            t(15, (D.stripEnclosingBraces = w), D),
            t(15, (D.numeric = x), D),
            t(15, (D.months = E), D),
            t(15, (D.dropAllCaps = _), D),
            t(15, (D.escape = I), D),
            t(15, (D.encodeUrls = J), D),
            t(15, (D.removeEmptyFields = z), D),
            t(15, (D.removeDuplicateFields = U), D),
            t(15, (D.maxAuthors = N ? ne : void 0), D),
            t(15, (D.enclosingBraces = le && H.length > 0 ? H.split(/[\n\t ,]+/) : void 0), D),
            t(15, (D.removeBraces = T && Z.length > 0 ? Z.split(/[\n\t ,]+/) : void 0), D);
      }),
      [F, w, x, E, _, I, J, z, U, N, ne, le, H, T, Z, D, ge, De, ce, ae, _e, Me, pt, $t, Oi, Ti, Ri, ve, ee, Le, Mi]
    );
  }
  a(C3, "instance");
  var Ih =
      ((_class113 = class _class extends ie {
        constructor(e) {
          super(), oe(this, e, C3, y3, se, { options: 15 }, null, [-1, -1]);
        }
      }),
      (() => {
        a(_class113, "ValueOptions");
      })(),
      _class113),
    J1 = Ih;
  function E3(i) {
    var e, t, r, n, s;
    return {
      c() {
        (e = R("label")), (t = j("Column:\n			")), (r = R("input")), A(r, "name", "alignnum"), A(r, "type", "number");
      },
      m(o, u) {
        C(o, e, u), V(e, t), V(e, r), Fe(r, i[2]), n || ((s = be(r, "input", i[5])), (n = !0));
      },
      p(o, u) {
        u & 4 && bt(r.value) !== o[2] && Fe(r, o[2]);
      },
      d(o) {
        o && y(e), (n = !1), s();
      },
    };
  }
  a(E3, "create_default_slot_2");
  function v3(i) {
    var e, t, r, n, s;
    return {
      c() {
        (e = R("label")), (t = j("Column:\n			")), (r = R("input")), A(r, "name", "wrapnum"), A(r, "type", "number");
      },
      m(o, u) {
        C(o, e, u), V(e, t), V(e, r), Fe(r, i[4]), n || ((s = be(r, "input", i[7])), (n = !0));
      },
      p(o, u) {
        u & 16 && bt(r.value) !== o[4] && Fe(r, o[4]);
      },
      d(o) {
        o && y(e), (n = !1), s();
      },
    };
  }
  a(v3, "create_default_slot_1");
  function k3(i) {
    var e, t, r, n, s, o, u, l, h;
    function c(g) {
      i[6](g);
    }
    a(c, "option0_checked_binding");
    var f = { option: "align", $$slots: { default: [E3] }, $$scope: { ctx: i } };
    i[1] !== void 0 && (f.checked = i[1]), (e = new me({ props: f })), Y.push(() => X(e, "checked", c));
    function d(g) {
      i[8](g);
    }
    a(d, "option1_checked_binding");
    var p = { option: "wrap", $$slots: { default: [v3] }, $$scope: { ctx: i } };
    i[3] !== void 0 && (p.checked = i[3]), (n = new me({ props: p })), Y.push(() => X(n, "checked", d));
    function m(g) {
      i[9](g);
    }
    a(m, "option2_checked_binding");
    var b = { option: "blankLines" };
    return (
      i[0].blankLines !== void 0 && (b.checked = i[0].blankLines),
      (u = new me({ props: b })),
      Y.push(() => X(u, "checked", m)),
      {
        c() {
          P(e.$$.fragment), (r = q()), P(n.$$.fragment), (o = q()), P(u.$$.fragment);
        },
        m(g, D) {
          $(e, g, D), C(g, r, D), $(n, g, D), C(g, o, D), $(u, g, D), (h = !0);
        },
        p(g, D) {
          var F = {};
          D & 2052 && (F.$$scope = { dirty: D, ctx: g }), !t && D & 2 && ((t = !0), (F.checked = g[1]), K(() => (t = !1))), e.$set(F);
          var w = {};
          D & 2064 && (w.$$scope = { dirty: D, ctx: g }), !s && D & 8 && ((s = !0), (w.checked = g[3]), K(() => (s = !1))), n.$set(w);
          var x = {};
          !l && D & 1 && ((l = !0), (x.checked = g[0].blankLines), K(() => (l = !1))), u.$set(x);
        },
        i(g) {
          h || (S(e.$$.fragment, g), S(n.$$.fragment, g), S(u.$$.fragment, g), (h = !0));
        },
        o(g) {
          B(e.$$.fragment, g), B(n.$$.fragment, g), B(u.$$.fragment, g), (h = !1);
        },
        d(g) {
          M(e, g), g && y(r), M(n, g), g && y(o), M(u, g);
        },
      }
    );
  }
  a(k3, "create_default_slot");
  function w3(i) {
    var e, t;
    return (
      (e = new Ke({ props: { title: "Whitespace", open: !0, $$slots: { default: [k3] }, $$scope: { ctx: i } } })),
      {
        c() {
          P(e.$$.fragment);
        },
        m(r, n) {
          $(e, r, n), (t = !0);
        },
        p(r, param) {
          var _param = _sliced_to_array(param, 1),
            n = _param[0];
          var s = {};
          n & 2079 && (s.$$scope = { dirty: n, ctx: r }), e.$set(s);
        },
        i(r) {
          t || (S(e.$$.fragment, r), (t = !0));
        },
        o(r) {
          B(e.$$.fragment, r), (t = !1);
        },
        d(r) {
          M(e, r);
        },
      }
    );
  }
  a(w3, "create_fragment");
  function x3(i, e, t) {
    var r;
    var n = e.options,
      s = n.align > 1,
      o = s ? n.align : 13,
      u = n.wrap !== void 0,
      l = (r = n.wrap) !== null && r !== void 0 ? r : 80;
    function h() {
      (o = bt(this.value)), t(2, o);
    }
    a(h, "input_input_handler");
    function c(m) {
      (s = m), t(1, s);
    }
    a(c, "option0_checked_binding");
    function f() {
      (l = bt(this.value)), t(4, l);
    }
    a(f, "input_input_handler_1");
    function d(m) {
      (u = m), t(3, u);
    }
    a(d, "option1_checked_binding");
    function p(m) {
      i.$$.not_equal(n.blankLines, m) && ((n.blankLines = m), t(0, n), t(1, s), t(2, o), t(3, u), t(4, l));
    }
    return (
      a(p, "option2_checked_binding"),
      (i.$$set = (m) => {
        "options" in m && t(0, (n = m.options));
      }),
      (i.$$.update = () => {
        if (i.$$.dirty & 30) e: t(0, (n.align = s ? o : 1), n), t(0, (n.wrap = u ? l : void 0), n);
      }),
      [n, s, o, u, l, h, c, f, d, p]
    );
  }
  a(x3, "instance");
  var Nh =
      ((_class114 = class _class extends ie {
        constructor(e) {
          super(), oe(this, e, x3, w3, se, { options: 0 });
        }
      }),
      (() => {
        a(_class114, "WhitespaceOptions");
      })(),
      _class114),
    Z1 = Nh;
  function eb(i) {
    var e, t;
    return (
      (e = new Y1({ props: { options: i[0], status: i[1] } })),
      {
        c() {
          P(e.$$.fragment);
        },
        m(r, n) {
          $(e, r, n), (t = !0);
        },
        p(r, n) {
          var s = {};
          n & 1 && (s.options = r[0]), n & 2 && (s.status = r[1]), e.$set(s);
        },
        i(r) {
          t || (S(e.$$.fragment, r), (t = !0));
        },
        o(r) {
          B(e.$$.fragment, r), (t = !1);
        },
        d(r) {
          M(e, r);
        },
      }
    );
  }
  a(eb, "create_if_block");
  function S3(i) {
    var e, t, r, n, s, o, u, l, h, c, f, d, p, m, b, g, D, F, w, x, E, _, I, J, z, U, N, ne, le, H, T;
    function Z(ee) {
      i[4](ee);
    }
    a(Z, "indentoptions_options_binding");
    var ge = {};
    i[0] !== void 0 && (ge.options = i[0]), (s = new X1({ props: ge })), Y.push(() => X(s, "options", Z));
    function De(ee) {
      i[5](ee);
    }
    a(De, "whitespaceoptions_options_binding");
    var ce = {};
    i[0] !== void 0 && (ce.options = i[0]), (l = new Z1({ props: ce })), Y.push(() => X(l, "options", De));
    function ae(ee) {
      i[6](ee);
    }
    a(ae, "valueoptions_options_binding");
    var _e = {};
    i[0] !== void 0 && (_e.options = i[0]), (f = new J1({ props: _e })), Y.push(() => X(f, "options", ae));
    function Me(ee) {
      i[7](ee);
    }
    a(Me, "sortingoptions_options_binding");
    var pt = {};
    i[0] !== void 0 && (pt.options = i[0]), (m = new Q1({ props: pt })), Y.push(() => X(m, "options", Me));
    function $t(ee) {
      i[8](ee);
    }
    a($t, "duplicateoptions_options_binding");
    var Oi = {};
    i[0] !== void 0 && (Oi.options = i[0]), (D = new N1({ props: Oi })), Y.push(() => X(D, "options", $t));
    function Ti(ee) {
      i[9](ee);
    }
    a(Ti, "cleanupoptions_options_binding");
    var Ri = {};
    i[0] !== void 0 && (Ri.options = i[0]), (x = new M1({ props: Ri })), Y.push(() => X(x, "options", Ti)), (I = new I1({ props: { options: i[0] } }));
    var ve = i[1] && eb(i);
    return {
      c() {
        (e = R("aside")),
          (t = R("form")),
          (r = R("header")),
          (r.innerHTML = '<h1 class="svelte-kvjsp8">BibTeX Tidy</h1> \n			<p>This tool tidies bibtex files by fixing inconsistent whitespace,\n				removing duplicates, removing unwanted fields, and sorting entries.</p> \n			<p><a class="btn" href="https://github.com/FlamingTempura/bibtex-tidy">Github</a> \n				<a class="btn" href="https://github.com/FlamingTempura/bibtex-tidy/issues">Report a bug</a></p>'),
          (n = q()),
          P(s.$$.fragment),
          (u = q()),
          P(l.$$.fragment),
          (c = q()),
          P(f.$$.fragment),
          (p = q()),
          P(m.$$.fragment),
          (g = q()),
          P(D.$$.fragment),
          (w = q()),
          P(x.$$.fragment),
          (_ = q()),
          P(I.$$.fragment),
          (J = q()),
          (z = R("div")),
          ve && ve.c(),
          (U = q()),
          (N = R("button")),
          (ne = j("Tidy")),
          A(r, "class", "intro svelte-kvjsp8"),
          A(t, "class", "svelte-kvjsp8"),
          A(N, "id", "tidy"),
          (N.disabled = i[2]),
          A(N, "class", "svelte-kvjsp8"),
          A(z, "class", "run svelte-kvjsp8"),
          A(e, "id", "sidebar"),
          A(e, "class", "svelte-kvjsp8");
      },
      m(ee, Le) {
        C(ee, e, Le), V(e, t), V(t, r), V(t, n), $(s, t, null), V(t, u), $(l, t, null), V(t, c), $(f, t, null), V(t, p), $(m, t, null), V(t, g), $(D, t, null), V(t, w), $(x, t, null), V(t, _), $(I, t, null), V(e, J), V(e, z), ve && ve.m(z, null), V(z, U), V(z, N), V(N, ne), (le = !0), H || ((T = [be(t, "submit", B3), be(N, "click", i[10])]), (H = !0));
      },
      p(ee, param) {
        var _param = _sliced_to_array(param, 1),
          Le = _param[0];
        var Mi = {};
        !o && Le & 1 && ((o = !0), (Mi.options = ee[0]), K(() => (o = !1))), s.$set(Mi);
        var fe = {};
        !h && Le & 1 && ((h = !0), (fe.options = ee[0]), K(() => (h = !1))), l.$set(fe);
        var Cn = {};
        !d && Le & 1 && ((d = !0), (Cn.options = ee[0]), K(() => (d = !1))), f.$set(Cn);
        var Er = {};
        !b && Le & 1 && ((b = !0), (Er.options = ee[0]), K(() => (b = !1))), m.$set(Er);
        var An = {};
        !F && Le & 1 && ((F = !0), (An.options = ee[0]), K(() => (F = !1))), D.$set(An);
        var vr = {};
        !E && Le & 1 && ((E = !0), (vr.options = ee[0]), K(() => (E = !1))), x.$set(vr);
        var En = {};
        Le & 1 && (En.options = ee[0]),
          I.$set(En),
          ee[1]
            ? ve
              ? (ve.p(ee, Le), Le & 2 && S(ve, 1))
              : ((ve = eb(ee)), ve.c(), S(ve, 1), ve.m(z, U))
            : ve &&
              (Nt(),
              B(ve, 1, 1, () => {
                ve = null;
              }),
              Vt()),
          (!le || Le & 4) && (N.disabled = ee[2]);
      },
      i(ee) {
        le || (S(s.$$.fragment, ee), S(l.$$.fragment, ee), S(f.$$.fragment, ee), S(m.$$.fragment, ee), S(D.$$.fragment, ee), S(x.$$.fragment, ee), S(I.$$.fragment, ee), S(ve), (le = !0));
      },
      o(ee) {
        B(s.$$.fragment, ee), B(l.$$.fragment, ee), B(f.$$.fragment, ee), B(m.$$.fragment, ee), B(D.$$.fragment, ee), B(x.$$.fragment, ee), B(I.$$.fragment, ee), B(ve), (le = !1);
      },
      d(ee) {
        ee && y(e), M(s), M(l), M(f), M(m), M(D), M(x), M(I), ve && ve.d(), (H = !1), xt(T);
      },
    };
  }
  a(S3, "create_fragment");
  var B3 = a(() => !1, "submit_handler");
  function _3(i, e, t) {
    var r = e.status,
      n = e.running,
      s = e.options,
      o = pi();
    function u(m) {
      (s = m), t(0, s);
    }
    a(u, "indentoptions_options_binding");
    function l(m) {
      (s = m), t(0, s);
    }
    a(l, "whitespaceoptions_options_binding");
    function h(m) {
      (s = m), t(0, s);
    }
    a(h, "valueoptions_options_binding");
    function c(m) {
      (s = m), t(0, s);
    }
    a(c, "sortingoptions_options_binding");
    function f(m) {
      (s = m), t(0, s);
    }
    a(f, "duplicateoptions_options_binding");
    function d(m) {
      (s = m), t(0, s);
    }
    a(d, "cleanupoptions_options_binding");
    var p = a(() => o("tidy"), "click_handler");
    return (
      (i.$$set = (m) => {
        "status" in m && t(1, (r = m.status)), "running" in m && t(2, (n = m.running)), "options" in m && t(0, (s = m.options));
      }),
      [s, r, n, o, u, l, h, c, f, d, p]
    );
  }
  a(_3, "instance");
  var Vh =
      ((_class115 = class _class extends ie {
        constructor(e) {
          super(), oe(this, e, _3, S3, se, { status: 1, running: 2, options: 0 });
        }
      }),
      (() => {
        a(_class115, "Sidebar");
      })(),
      _class115),
    tb = Vh;
  var ib =
    'Click Tidy to clean up the entries below      \n@Book{sweig42,\n  Author =	 { Stefa{n} Sweig },\n  title =	 { The impossible book },\n  publisher =	 { Dead Poet Society},\n  year =	 1942,\n  month =        mar\n}\n@article{steward03,\n  author =	 {Martha Steward},\n  title =	 {Cooking behind bars}, publisher = "Culinary Expert Series",\n  year = {2003}\n}\n@Book{impossible,\n  Author =	 { Stefan Sweig },\n  title =	 { The impossible book },\n  publisher =	 { Dead Poet Society},\n  year =	 1942,\n  month =        mar\n}\n';
  function O3(i) {
    var e, t, r, n, s, o;
    function u(f) {
      i[6](f);
    }
    a(u, "editor_bibtex_binding");
    var l = { error: i[4] };
    i[2] !== void 0 && (l.bibtex = i[2]), (e = new O1({ props: l })), Y.push(() => X(e, "bibtex", u));
    function h(f) {
      i[7](f);
    }
    a(h, "sidebar_options_binding");
    var c = { status: i[3], running: i[1] };
    return (
      i[0] !== void 0 && (c.options = i[0]),
      (n = new tb({ props: c })),
      Y.push(() => X(n, "options", h)),
      n.$on("tidy", i[5]),
      {
        c() {
          P(e.$$.fragment), (r = q()), P(n.$$.fragment);
        },
        m(f, d) {
          $(e, f, d), C(f, r, d), $(n, f, d), (o = !0);
        },
        p(f, param) {
          var _param = _sliced_to_array(param, 1),
            d = _param[0];
          var p = {};
          d & 16 && (p.error = f[4]), !t && d & 4 && ((t = !0), (p.bibtex = f[2]), K(() => (t = !1))), e.$set(p);
          var m = {};
          d & 8 && (m.status = f[3]), d & 2 && (m.running = f[1]), !s && d & 1 && ((s = !0), (m.options = f[0]), K(() => (s = !1))), n.$set(m);
        },
        i(f) {
          o || (S(e.$$.fragment, f), S(n.$$.fragment, f), (o = !0));
        },
        o(f) {
          B(e.$$.fragment, f), B(n.$$.fragment, f), (o = !1);
        },
        d(f) {
          M(e, f), f && y(r), M(n, f);
        },
      }
    );
  }
  a(O3, "create_fragment");
  function T3(i, e, t) {
    var r;
    var n = Wr({ tab: !0, align: 13, curly: !0, numeric: !0, escape: !1, duplicates: ["key"], sortFields: !0, removeDuplicateFields: !1 }),
      s = !1,
      o = ib,
      u = (r = f()) !== null && r !== void 0 ? r : n,
      l,
      h;
    function c() {
      t(1, (s = !0)),
        t(3, (l = void 0)),
        t(4, (h = void 0)),
        setTimeout(() => {
          try {
            var _$m = v0(o, u);
            t(2, (o = _$m.bibtex)), t(3, (l = { status: "success", result: _$m }));
          } catch (m) {
            console.error("bibtex parse problem:", m), t(3, (l = { status: "error", error: m })), m instanceof st && t(4, (h = m));
          } finally {
            t(1, (s = !1));
          }
        }, 100);
    }
    a(c, "handleTidy");
    function f() {
      var m = window.location.search,
        g = new URLSearchParams(m).get("opt");
      if (g)
        try {
          return Wr(JSON.parse(g));
        } catch (e) {
          console.error("Error parsing options in URL");
          return;
        }
    }
    a(f, "getOptionsFromURL"),
      window.addEventListener("popstate", () => {
        var m;
        t(0, (u = (m = f()) !== null && m !== void 0 ? m : n));
      });
    function d(m) {
      (o = m), t(2, o);
    }
    a(d, "editor_bibtex_binding");
    function p(m) {
      (u = m), t(0, u);
    }
    return (
      a(p, "sidebar_options_binding"),
      (i.$$.update = () => {
        if (i.$$.dirty & 1)
          e: {
            var m = JSON.stringify(u),
              b = new URLSearchParams([["opt", m]]);
            window.history.pushState(u, "", "index.html?".concat(b.toString()));
          }
      }),
      [u, s, o, l, h, c, d, p]
    );
  }
  a(T3, "instance");
  var zh =
      ((_class116 = class _class extends ie {
        constructor(e) {
          super(), oe(this, e, T3, O3, se, {});
        }
      }),
      (() => {
        a(_class116, "App");
      })(),
      _class116),
    rb = zh;
  new rb({ target: document.body });
})();
